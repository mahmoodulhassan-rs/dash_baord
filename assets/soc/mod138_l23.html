<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="Author" content="<username>"> <meta name="GENERATOR" content="urg/version [en] (platform name) [urg]">
<title>Unified Coverage Report :: Line split page</title>
<link type="text/css" rel="stylesheet" href="css/.urg.css">
<link type="text/css" rel="stylesheet" href="css/.layout.css">
<script type="text/javascript" src="js/.jquery.js"></script>
<script type="text/javascript" src="js/.jquery-ui.js"></script>
<script type="text/javascript" src="js/.sortable.js"></script>
<script type="text/javascript" src="js/.colResizable.js"></script>
<script type="text/javascript" src="js/.layout.js"></script>
<script type="text/javascript">
var layout, westLayout, centerLayout;
$(document).ready(function () {
  layout = $("body").layout({ 
    resizable: true,
    spacing_open: 4,
    spacing_closed: 4,
    north: {
      size: 76
    },
    south: {
      size: 45,
      initClosed: true
    }  });
  $("table").colResizable({    liveDrag:true,
    fixed:false,
    draggingClass:"dragging"
  });
});
</script>
</head>
<body><div class="ui-layout-north">
<div class="logo"></div>
<center class="pagetitle">Line split page</center>
<div align="center"><a href="dashboard.html" ><b>dashboard</b></a> | <a href="hierarchy.html" ><b>hierarchy</b></a> | <a href="modlist.html" ><b>modlist</b></a> | groups | <a href="tests.html" ><b>tests</b></a> | <a href="asserts.html" ><b>asserts</b></a></div>

</div>
<div class="ui-layout-center">
Go <a href="mod138.html#l23">back</a>
<pre class="code"><br clear=all>
118                             `else
119        1/1                    HANDLE = $fopen($psprintf(&quot;DRAM%03x.log&quot;, INDEX), &quot;w&quot;);
120        1/1                    $sformat(_ModuleName,&quot;DRAM%03x&quot;, INDEX);
121                             `endif
122                           `endif
123                         end
124                     
125                         //`include &quot;ddr3_parameters.svh&quot;
126                     
127                         parameter check_strict_mrbits = 1;
128                         parameter check_strict_timing = 1;
129                         parameter feature_pasr = 1;
130                         parameter feature_truebl4 = 0;
131                     
132                         // text macros
133                         `define DQ_PER_DQS DQ_BITS/DQS_BITS
134                         `define BANKS      (1&lt;&lt;BA_BITS)
135                         `define MAX_BITS   (BA_BITS+ROW_BITS+COL_BITS-BL_BITS)
136                         `define MAX_SIZE   (1&lt;&lt;(BA_BITS+ROW_BITS+COL_BITS-BL_BITS))
137                         `define MEM_SIZE   (1&lt;&lt;MEM_BITS)
138                         `define MAX_PIPE   4*CL_MAX
139                     
140                         // Declare Ports
141                         input   rst_n;
142                         input   ck;
143                         input   ck_n;
144                         input   cke;
145                         input   cs_n;
146                         input   ras_n;
147                         input   cas_n;
148                         input   we_n;
149                         inout   [DM_BITS-1:0]   dm_tdqs;
150                         input   [BA_BITS-1:0]   ba;
151                         input   [ADDR_BITS-1:0] addr;
152                         inout   [DQ_BITS-1:0]   dq;
153                         inout   [DQS_BITS-1:0]  dqs;
154                         inout   [DQS_BITS-1:0]  dqs_n;
155                         output  [DQS_BITS-1:0]  tdqs_n;
156                         input   odt;
157                     
158                         // clock jitter
159                         real    tck_avg;
160                         time    tck_sample [TDLLK-1:0];
161                         time    tch_sample [TDLLK-1:0];
162                         time    tcl_sample [TDLLK-1:0];
163                         time    tck_i;
164                         time    tch_i;
165                         time    tcl_i;
166                         real    tch_avg;
167                         real    tcl_avg;
168                         time    tm_ck_pos;
169                         time    tm_ck_neg;
170                         real    tjit_per_rtime;
171                         integer tjit_cc_time;
172                         real    terr_nper_rtime;
173                         //DDR3 clock jitter variables
174                         real    tjit_ch_rtime;
175                         real    duty_cycle;
176                     
177                         // clock skew
178                         real    out_delay;
179                         integer dqsck [DQS_BITS-1:0];
180                         integer dqsck_min;
181                         integer dqsck_max;
182                         integer dqsq_min;
183                         integer dqsq_max;
184                         integer seed;
185                     
186                         // Mode Registers
187                         reg     [ADDR_BITS-1:0] mode_reg [`BANKS-1:0];
188                         reg     burst_order;
189                         reg     [BL_BITS:0] burst_length;
190                         reg     blotf;
191                         reg     truebl4;
192                         integer cas_latency;
193                         reg     dll_reset;
194                         reg     dll_locked;
195                         integer write_recovery;
196                         reg     low_power;
197                         reg     dll_en;
198                         reg     [2:0] odt_rtt_nom;
199                         reg     [1:0] odt_rtt_wr;
200                         reg     odt_en;
201                         reg     dyn_odt_en;
202                         reg     [1:0] al;
203                         integer additive_latency;
204                         reg     write_levelization;
205                         reg     duty_cycle_corrector;
206                         reg     tdqs_en;
207                         reg     out_en;
208                         reg     [2:0] pasr;
209                         integer cas_write_latency;
210                         reg     asr; // auto self refresh
211                         reg     srt; // self refresh temperature range
212                         reg     [1:0] mpr_select;
213                         reg     mpr_en;
214                         reg     odts_readout;
215                         integer read_latency;
216                         integer write_latency;
217                     
218                         // cmd encoding
219                         parameter     // {cs, ras, cas, we}
220                             LOAD_MODE = 4'b0000,
221                             REFRESH   = 4'b0001,
222                             PRECHARGE = 4'b0010,
223                             ACTIVATE  = 4'b0011,
224                             WRITE     = 4'b0100,
225                             READ      = 4'b0101,
226                             ZQ        = 4'b0110,
227                             NOP       = 4'b0111,
228                             // DESEL  = 4'b1xxx,
229                             PWR_DOWN  = 4'b1000,
230                             SELF_REF  = 4'b1001
231                         ;
232                     
233                         reg [8*9-1:0] cmd_string [9:0];
234                         initial begin
235        1/1                  cmd_string[LOAD_MODE] = &quot;Load Mode&quot;;
236        1/1                  cmd_string[REFRESH  ] = &quot;Refresh  &quot;;
237        1/1                  cmd_string[PRECHARGE] = &quot;Precharge&quot;;
238        1/1                  cmd_string[ACTIVATE ] = &quot;Activate &quot;;
239        1/1                  cmd_string[WRITE    ] = &quot;Write    &quot;;
240        1/1                  cmd_string[READ     ] = &quot;Read     &quot;;
241        1/1                  cmd_string[ZQ       ] = &quot;ZQ       &quot;;
242        1/1                  cmd_string[NOP      ] = &quot;No Op    &quot;;
243        1/1                  cmd_string[PWR_DOWN ] = &quot;Pwr Down &quot;;
244        1/1                  cmd_string[SELF_REF ] = &quot;Self Ref &quot;;
245                         end
246                     
247                         // command state
248                         reg     [`BANKS-1:0] active_bank;
249                         reg     [`BANKS-1:0] auto_precharge_bank;
250                         reg     [`BANKS-1:0] write_precharge_bank;
251                         reg     [`BANKS-1:0] read_precharge_bank;
252                         reg     [ROW_BITS-1:0] active_row [`BANKS-1:0];
253                         reg     in_power_down;
254                         reg     in_self_refresh;
255                         reg     [3:0] init_mode_reg;
256                         reg     init_dll_reset;
257                         reg     init_done;
258                         integer init_step;
259                         reg     zq_set;
260                         reg     er_trfc_max;
261                         reg     odt_state;
262                         reg     odt_state_dly;
263                         reg     dyn_odt_state;
264                         reg     dyn_odt_state_dly;
265                         reg     prev_odt;
266                         wire    [7:0] calibration_pattern = 8'b10101010; // value returned during mpr pre-defined pattern readout
267                         wire    [7:0] temp_sensor = 8'h01; // value returned during mpr temp sensor readout
268                         reg     [1:0] mr_chk;
269                         reg     rd_bc;
270                         integer banki;
271                     
272                     
273                     
274                         // cmd timers/counters
275                         integer ref_cntr;
276                         integer odt_cntr;
277                         integer ck_cntr;
278                         integer ck_txpr;
279                         integer ck_load_mode;
280                         integer ck_refresh;
281                         integer ck_precharge;
282                         integer ck_activate;
283                         integer ck_write;
284                         integer ck_read;
285                         integer ck_zqinit;
286                         integer ck_zqoper;
287                         integer ck_zqcs;
288                         integer ck_power_down;
289                         integer ck_slow_exit_pd;
290                         integer ck_self_refresh;
291                         integer ck_freq_change;
292                         integer ck_odt;
293                         integer ck_odth8;
294                         integer ck_dll_reset;
295                         integer ck_cke_cmd;
296                         integer ck_bank_write     [`BANKS-1:0];
297                         integer ck_bank_read      [`BANKS-1:0];
298                         integer ck_group_activate [1:0];
299                         integer ck_group_write    [1:0];
300                         integer ck_group_read     [1:0];
301                         time    tm_txpr;
302                         time    tm_load_mode;
303                         time    tm_refresh;
304                         time    tm_precharge;
305                         time    tm_activate;
306                         time    tm_write_end;
307                         time    tm_power_down;
308                         time    tm_slow_exit_pd;
309                         time    tm_self_refresh;
310                         time    tm_freq_change;
311                         time    tm_cke_cmd;
312                         time    tm_ttsinit;
313                         time    tm_bank_precharge [`BANKS-1:0];
314                         time    tm_bank_activate  [`BANKS-1:0];
315                         time    tm_bank_write_end [`BANKS-1:0];
316                         time    tm_bank_read_end  [`BANKS-1:0];
317                         time    tm_group_activate  [1:0];
318                         time    tm_group_write_end [1:0];
319                     
320                         // pipelines
321                         reg     [`MAX_PIPE:0]  al_pipeline;
322                         reg     [`MAX_PIPE:0]  wr_pipeline;
323                         reg     [`MAX_PIPE:0]  rd_pipeline;
324                         reg     [`MAX_PIPE:0]  odt_pipeline;
325                         reg     [`MAX_PIPE:0]  dyn_odt_pipeline;
326                         reg     [BL_BITS:0]    bl_pipeline  [`MAX_PIPE:0];
327                         reg     [BA_BITS-1:0]  ba_pipeline  [`MAX_PIPE:0];
328                         reg     [ROW_BITS-1:0] row_pipeline [`MAX_PIPE:0];
329                         reg     [COL_BITS-1:0] col_pipeline [`MAX_PIPE:0];
330                         reg     prev_cke;
331                     
332                         // data state
333                         reg     [BL_MAX*DQ_BITS-1:0] memory_data;
334                         reg     [BL_MAX*DQ_BITS-1:0] bit_mask;
335                         reg     [BL_BITS-1:0]        burst_position;
336                         reg     [BL_BITS:0]          burst_cntr;
337                         reg     [DQ_BITS-1:0]        dq_temp;
338                         reg     [31:0] check_write_postamble;
339                         reg     [31:0] check_write_preamble;
340                         reg     [31:0] check_write_dqs_high;
341                         reg     [31:0] check_write_dqs_low;
342                         reg     [15:0] check_dm_tdipw;
343                         reg     [63:0] check_dq_tdipw;
344                     
345                         // data timers/counters
346                         time    tm_rst_n;
347                         time    tm_cke;
348                         time    tm_odt;
349                         time    tm_tdqss;
350                         time    tm_dm       [15:0];
351                         time    tm_dqs      [15:0];
352                         time    tm_dqs_pos  [31:0];
353                         time    tm_dqss_pos [31:0];
354                         time    tm_dqs_neg  [31:0];
355                         time    tm_dq       [63:0];
356                         time    tm_cmd_addr [22:0];
357                         reg [8*7-1:0] cmd_addr_string [22:0];
358                         initial begin
359        1/1                  cmd_addr_string[ 0] = &quot;CS_N   &quot;;
360        1/1                  cmd_addr_string[ 1] = &quot;RAS_N  &quot;;
361        1/1                  cmd_addr_string[ 2] = &quot;CAS_N  &quot;;
362        1/1                  cmd_addr_string[ 3] = &quot;WE_N   &quot;;
363        1/1                  cmd_addr_string[ 4] = &quot;BA 0   &quot;;
364        1/1                  cmd_addr_string[ 5] = &quot;BA 1   &quot;;
365        1/1                  cmd_addr_string[ 6] = &quot;BA 2   &quot;;
366        1/1                  cmd_addr_string[ 7] = &quot;ADDR  0&quot;;
367        1/1                  cmd_addr_string[ 8] = &quot;ADDR  1&quot;;
368        1/1                  cmd_addr_string[ 9] = &quot;ADDR  2&quot;;
369        1/1                  cmd_addr_string[10] = &quot;ADDR  3&quot;;
370        1/1                  cmd_addr_string[11] = &quot;ADDR  4&quot;;
371        1/1                  cmd_addr_string[12] = &quot;ADDR  5&quot;;
372        1/1                  cmd_addr_string[13] = &quot;ADDR  6&quot;;
373        1/1                  cmd_addr_string[14] = &quot;ADDR  7&quot;;
374        1/1                  cmd_addr_string[15] = &quot;ADDR  8&quot;;
375        1/1                  cmd_addr_string[16] = &quot;ADDR  9&quot;;
376        1/1                  cmd_addr_string[17] = &quot;ADDR 10&quot;;
377        1/1                  cmd_addr_string[18] = &quot;ADDR 11&quot;;
378        1/1                  cmd_addr_string[19] = &quot;ADDR 12&quot;;
379        1/1                  cmd_addr_string[20] = &quot;ADDR 13&quot;;
380        1/1                  cmd_addr_string[21] = &quot;ADDR 14&quot;;
381        1/1                  cmd_addr_string[22] = &quot;ADDR 15&quot;;
382                         end
383                     
384                         reg [8*5-1:0] dqs_string [1:0];
385                         initial begin
386        1/1                  dqs_string[0] = &quot;DQS  &quot;;
387        1/1                  dqs_string[1] = &quot;DQS_N&quot;;
388                         end
389                     
390                         // Memory Storage
391                         `ifdef MAX_MEM
392                         parameter RFF_BITS = DQ_BITS*BL_MAX;
393                         parameter RFF_CHUNK = 8 * (RFF_BITS/32 + (RFF_BITS%32 ? 1 : 0));
394                         integer memfd[`BANKS-1:0];
395                     
396                         initial
397                         begin : file_io_open
398                             integer bank;
399                             for (bank = 0; bank &lt; `BANKS; bank = bank + 1)
400                                 memfd[bank] = open_bank_file(bank);
401                         end
402                         `else
403                         reg     [BL_MAX*DQ_BITS-1:0] memory  [0:`MEM_SIZE-1];
404                         reg     [`MAX_BITS-1:0]      address [0:`MEM_SIZE-1];
405                         reg     [MEM_BITS:0]         memory_index;
406                         reg     [MEM_BITS:0]         memory_used = 0;
407                         `endif
408                     
409                         // receive
410                         reg            rst_n_in;
411                         reg            ck_in;
412                         reg            ck_n_in;
413                         reg            cke_in;
414                         reg            cs_n_in;
415                         reg            ras_n_in;
416                         reg            cas_n_in;
417                         reg            we_n_in;
418                         reg     [15:0] dm_in;
419                         reg     [2:0]  ba_in;
420                         reg     [15:0] addr_in;
421                         reg     [63:0] dq_in;
422                         reg     [31:0] dqs_in;
423                         reg            odt_in;
424                     
425                         reg     [15:0] dm_in_pos;
426                         reg     [15:0] dm_in_neg;
427                         reg     [63:0] dq_in_pos;
428                         reg     [63:0] dq_in_neg;
429                         reg            dq_in_valid;
430                         reg            dqs_in_valid;
431                         integer        wdqs_cntr;
432                         integer        wdq_cntr;
433                         integer        wdqs_pos_cntr [31:0];
434                         reg            b2b_write;
435                         reg [BL_BITS:0] wr_burst_length;
436                         reg     [31:0] prev_dqs_in;
437                         reg            diff_ck;
438                     
439        1/1              always @(rst_n  ) rst_n_in   &lt;= #BUS_DELAY rst_n;
440        1/1              always @(ck     ) ck_in      &lt;= #BUS_DELAY ck;
441        1/1              always @(ck_n   ) ck_n_in    &lt;= #BUS_DELAY ck_n;
442        1/1              always @(cke    ) cke_in     &lt;= #BUS_DELAY cke;
443        1/1              always @(cs_n   ) cs_n_in    &lt;= #BUS_DELAY cs_n;
444        1/1              always @(ras_n  ) ras_n_in   &lt;= #BUS_DELAY ras_n;
445        1/1              always @(cas_n  ) cas_n_in   &lt;= #BUS_DELAY cas_n;
446        1/1              always @(we_n   ) we_n_in    &lt;= #BUS_DELAY we_n;
447        1/1              always @(dm_tdqs) dm_in      &lt;= #BUS_DELAY dm_tdqs;
448        1/1              always @(ba     ) ba_in      &lt;= #BUS_DELAY ba;
449        1/1              always @(addr   ) addr_in    &lt;= #BUS_DELAY addr;
450        1/1              always @(dq     ) dq_in      &lt;= #BUS_DELAY dq;
451        1/1              always @(dqs or dqs_n) dqs_in &lt;= #BUS_DELAY (dqs_n&lt;&lt;16) | dqs;
452        1/1              always @(odt    ) odt_in     &lt;= #BUS_DELAY odt;
453                         // create internal clock
454        1/1              always @(posedge ck_in) diff_ck &lt;= ck_in;
455        1/1              always @(posedge ck_n_in) diff_ck &lt;= ~ck_n_in;
456                     
457                         wire    [15:0] dqs_even = dqs_in[15:0];
458                         wire    [15:0] dqs_odd  = dqs_in[31:16];
459                         wire    [3:0]  cmd_n_in = !cs_n_in ? {ras_n_in, cas_n_in, we_n_in} : NOP;  //deselect = nop
460                     
461                         // transmit
462                         reg                    dqs_out_en;
463                         reg     [DQS_BITS-1:0] dqs_out_en_dly;
464                         reg                    dqs_out;
465                         reg     [DQS_BITS-1:0] dqs_out_dly;
466                         reg                    dq_out_en;
467                         reg     [DQ_BITS-1:0]  dq_out_en_dly;
468                         reg     [DQ_BITS-1:0]  dq_out;
469                         reg     [DQ_BITS-1:0]  dq_out_dly;
470                         integer                rdqsen_cntr;
471                         integer                rdqs_cntr;
472                         integer                rdqen_cntr;
473                         integer                rdq_cntr;
474                     
475                         bufif1 buf_dqs    [DQS_BITS-1:0] (dqs,     dqs_out_dly,  dqs_out_en_dly &amp; {DQS_BITS{out_en}});
476                         bufif1 buf_dqs_n  [DQS_BITS-1:0] (dqs_n,   ~dqs_out_dly, dqs_out_en_dly &amp; {DQS_BITS{out_en}});
477                         bufif1 buf_dq     [DQ_BITS-1:0]  (dq,      dq_out_dly,   dq_out_en_dly  &amp; {DQ_BITS {out_en}});
478                         assign tdqs_n = {DQS_BITS{1'bz}};
479                     
480                         initial begin
481        1/1                  if (BL_MAX &lt; 2)
482        <font color = "red">0/1     ==>              $fdisplay(HANDLE, &quot;%s ERROR: BL_MAX parameter must be &gt;= 2.  \nBL_MAX = %d&quot;, _ModuleName, BL_MAX);</font>
                        MISSING_ELSE
483        1/1                  if ((1&lt;&lt;BO_BITS) &gt; BL_MAX)
484        <font color = "red">0/1     ==>              $fdisplay(HANDLE, &quot;%s ERROR: 2^BO_BITS cannot be greater than BL_MAX parameter.&quot;, _ModuleName);</font>
                        MISSING_ELSE
485                     
486        1/1                  $timeformat (-12, 1, &quot; ps&quot;, 1);
487        1/1                  seed = RANDOM_SEED;
488                     
489        1/1                  ck_cntr = 0;
490                         end
491                     
492                         function integer get_rtt_wr;
493                         input [1:0] rtt;
494                         begin
495        <font color = "red">0/1     ==>          get_rtt_wr = RZQ/{rtt[0], rtt[1], 1'b0};</font>
496                         end
497                         endfunction
498                     
499                         function integer get_rtt_nom;
500                         input [2:0] rtt;
501                         begin
502        <font color = "red">0/1     ==>          case (rtt)</font>
503        <font color = "red">0/1     ==>              1: get_rtt_nom = RZQ/4;</font>
504        <font color = "red">0/1     ==>              2: get_rtt_nom = RZQ/2;</font>
505        <font color = "red">0/1     ==>              3: get_rtt_nom = RZQ/6;</font>
506        <font color = "red">0/1     ==>              4: get_rtt_nom = RZQ/12;</font>
507        <font color = "red">0/1     ==>              5: get_rtt_nom = RZQ/8;</font>
508        <font color = "red">0/1     ==>              default : get_rtt_nom = 0;</font>
509                             endcase
510                         end
511                         endfunction
512                     
513                         // calculate the absolute value of a real number
514                         function real abs_value;
515                         input arg;
516                         real arg;
517                         begin
518        1/1                  if (arg &lt; 0.0)
519        1/1                      abs_value = -1.0 * arg;
520                             else
521        1/1                      abs_value = arg;
522                         end
523                         endfunction
524                     
525                         function integer ceil;
526                             input number;
527                             real number;
528                     
529                             // LMR 4.1.7
530                             // When either operand of a relational expression is a real operand then the other operand shall be converted
531                             // to an equivalent real value, and the expression shall be interpreted as a comparison between two real values.
532        1/1                  if (number &gt; $rtoi(number))
533        <font color = "red">0/1     ==>              ceil = $rtoi(number) + 1;</font>
534                             else
535        1/1                      ceil = number;
536                         endfunction
537                     
538                         function integer floor;
539                             input number;
540                             real number;
541                     
542                             // LMR 4.1.7
543                             // When either operand of a relational expression is a real operand then the other operand shall be converted
544                             // to an equivalent real value, and the expression shall be interpreted as a comparison between two real values.
545                             if (number &lt; $rtoi(number))
546                                 floor = $rtoi(number) - 1;
547                             else
548                                 floor = number;
549                         endfunction
550                     
551                         `ifdef MAX_MEM
552                         function integer open_bank_file( input integer bank );
553                             integer fd;
554                             reg [2048:1] filename;
555                             begin
556                                 `ifdef LOG_FOLDER
557                                   $sformat( filename, &quot;%s/%m[%1d].bin&quot;, `LOG_FOLDER, bank );
558                                 `else
559                                   $sformat( filename, &quot;%m[%1d].bin&quot;, bank );
560                                 `endif
561                     
562                                 fd = $fopen(filename, &quot;w+b&quot;);
563                                 if (fd == 0)
564                                 begin
565                                     $fdisplay(HANDLE, &quot;%s: at time %0t ERROR: failed to open %0s.&quot;, _ModuleName, $time, filename);
566                                     $finish;
567                                 end
568                                 else
569                                 begin
570                                     if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %0t INFO: opening %0s.&quot;, _ModuleName, $time, filename);
571                                     open_bank_file = fd;
572                                 end
573                     
574                             end
575                         endfunction
576                     
577                         function [RFF_BITS:1] read_from_file(
578                           input integer fd,
579                           input integer index
580                           );
581                             integer code;
582                             integer offset;
583                             reg [1024:1] msg;
584                             reg [RFF_BITS:1] read_value;
585                     
586                             begin
587                                 offset = index * RFF_CHUNK;
588                                 code = $fseek( fd, offset, 0 );
589                                 // $fseek returns 0 on success, -1 on failure
590                                 if (code != 0)
591                                 begin
592                                     $fdisplay(HANDLE, &quot;%s: at time %t ERROR: fseek to %d failed&quot;, _ModuleName, $time, offset);
593                                     $finish;
594                                 end
595                     
596                                 code = $fscanf(fd, &quot;%z&quot;, read_value);
597                                 // $fscanf returns number of items read
598                                 if (code != 1)
599                                 begin
600                                     if ($ferror(fd,msg) != 0)
601                                     begin
602                                         $fdisplay(HANDLE, &quot;%s: at time %t ERROR: fscanf failed at %d&quot;, _ModuleName, $time, index);
603                                         $fdisplay(HANDLE, msg);
604                                         $finish;
605                                     end
606                                     else
607                                         read_value = 'hx;
608                                 end
609                     
610                                 /* when reading from unwritten portions of the file, 0 will be returned.
611                                 * Use 0 in bit 1 as indicator that invalid data has been read.
612                                 * A true 0 is encoded as Z.
613                                 */
614                                 if (read_value[1] === 1'bz)
615                                   // true 0 encoded as Z, data is valid
616                                   read_value[1] = 1'b0;
617                                 else if (read_value[1] === 1'b0)
618                                   // read from file section that has not been written
619                                   read_value = 'hx;
620                     
621                                 read_from_file = read_value;
622                             end
623                         endfunction
624                     
625                         task write_to_file(
626                           input integer fd,
627                           input integer index,
628                           input [RFF_BITS:1] data
629                           );
630                             integer code;
631                             integer offset;
632                     
633                             begin
634                               offset = index * RFF_CHUNK;
635                               code = $fseek( fd, offset, 0 );
636                               if (code != 0)
637                               begin
638                                 $fdisplay(HANDLE, &quot;%s: at time %t ERROR: fseek to %d failed&quot;, _ModuleName, $time, offset);
639                                 $finish;
640                               end
641                     
642                               // encode a valid data
643                               if (data[1] === 1'bz)
644                                 data[1] = 1'bx;
645                               else if (data[1] === 1'b0)
646                                 data[1] = 1'bz;
647                     
648                               $fwrite( fd, &quot;%z&quot;, data );
649                             end
650                         endtask
651                         `else
652                         function get_index;
653                             input [`MAX_BITS-1:0] addr;
654                             begin : index
655        1/1                      get_index = 0;
656        1/1                      for (memory_index=0; memory_index&lt;memory_used; memory_index=memory_index+1) begin
657        1/1                          if (address[memory_index] == addr) begin
658        1/1                              get_index = 1;
659        1/1                              disable index;
660                                     end
                        MISSING_ELSE
661                                 end
662                             end
663                         endfunction
664                         `endif
665                     
666                         task memory_write;
667                           input  [BA_BITS-1:0]  bank;
668                           input  [ROW_BITS-1:0] row;
669                           input  [COL_BITS-1:0] col;
670                           input  [BL_MAX*DQ_BITS-1:0] data;
671                           reg    [`MAX_BITS-1:0] addr;
672                           begin
673                             `ifdef MAX_MEM
674                               addr = {row, col}/BL_MAX;
675                               write_to_file( memfd[bank], addr, data );
676                             `else
677        1/1                    addr = {bank, row, col}/BL_MAX;
678        1/1                    if (get_index(addr)) begin
679        1/1                      address[memory_index] = addr;
680        1/1                      memory[memory_index] = data;
681        1/1                    end else if (memory_used == `MEM_SIZE) begin
682        <font color = "red">0/1     ==>              $fdisplay(HANDLE, &quot;%s: at time %t ERROR: Memory overflow.  Write to Address %h with Data %h will be lost.\nYou must increase the MEM_BITS parameter or define MAX_MEM.&quot;, _ModuleName, $time, addr, data);</font>
683        <font color = "red">0/2     ==>              if (STOP_ON_ERROR) $stop(0);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
684                               end else begin
685        1/1                      address[memory_used] = addr;
686        1/1                      memory[memory_used] = data;
687        1/1                      memory_used = memory_used + 1;
688                               end
689                             `endif
690                           end
691                         endtask
692                     
693                       task memory_read;
694                         input  [BA_BITS-1:0]  bank;
695                         input  [ROW_BITS-1:0] row;
696                         input  [COL_BITS-1:0] col;
697                         output [BL_MAX*DQ_BITS-1:0] data;
698                         reg    [`MAX_BITS-1:0] addr;
699                         begin
700                           `ifdef MAX_MEM
701                             addr = {row, col}/BL_MAX;
702                             data = read_from_file( memfd[bank], addr );
703                           `else
704                             // chop off the lowest address bits
705        1/1                  addr = {bank, row, col}/BL_MAX;
706        1/1                  if (get_index(addr)) begin
707        1/1                    data = memory[memory_index];
708                             end else begin
709        1/1                    data = {BL_MAX*DQ_BITS{1'bx}};
710                             end
711                           `endif
712                         end
713                       endtask
714                     
715                       task set_latency;
716                         begin
717        1/1                if (al == 0) begin
718        1/1                  additive_latency = 0;
719                           end else begin
720        1/1                  additive_latency = cas_latency - al;
721                           end
722        1/1                read_latency = cas_latency + additive_latency;
723        1/1                write_latency = cas_write_latency + additive_latency;
724                         end
725                       endtask
726                     
727                       // this task will erase the contents of 0 or more banks
728                       task erase_banks;
729                         input  [`BANKS-1:0] banks; //one select bit per bank
730                         reg [BA_BITS-1:0] ba;
731                         reg [`MAX_BITS-1:0] i;
732                         integer bank;
733                         begin
734                           `ifdef MAX_MEM
735                             for (bank = 0; bank &lt; `BANKS; bank = bank + 1)
736                               if (banks[bank] === 1'b1) begin
737                                 $fclose(memfd[bank]);
738                                 memfd[bank] = open_bank_file(bank);
739                               end
740                           `else
741        <font color = "red">0/1     ==>          memory_index = 0;</font>
742        <font color = "red">0/1     ==>          i = 0;</font>
743                             // remove the selected banks
744        <font color = "red">0/1     ==>          for (memory_index=0; memory_index&lt;memory_used; memory_index=memory_index+1) begin</font>
745        <font color = "red">0/1     ==>              ba = (address[memory_index]&gt;&gt;(ROW_BITS+COL_BITS-BL_BITS));</font>
746        <font color = "red">0/1     ==>              if (!banks[ba]) begin //bank is selected to keep</font>
747        <font color = "red">0/1     ==>                  address[i] = address[memory_index];</font>
748        <font color = "red">0/1     ==>                  memory[i] = memory[memory_index];</font>
749        <font color = "red">0/1     ==>                  i = i + 1;</font>
750                                 end
                   <font color = "red">==>  MISSING_ELSE</font>
751                             end
752                             // clean up the unused banks
753        <font color = "red">0/1     ==>          for (memory_index=i; memory_index&lt;memory_used; memory_index=memory_index+1) begin</font>
754        <font color = "red">0/1     ==>              address[memory_index] = 'bx;</font>
755        <font color = "red">0/1     ==>              memory[memory_index] = {8*DQ_BITS{1'bx}};</font>
756                             end
757        <font color = "red">0/1     ==>          memory_used = i;</font>
758                           `endif
759                         end
760                       endtask
761                     
762                       // Before this task runs, the model must be in a valid state for precharge power down and out of reset.
763                       // After this task runs, NOP commands must be issued until TZQINIT has been met
764                       task initialize;
765                           input [ADDR_BITS-1:0] mode_reg0;
766                           input [ADDR_BITS-1:0] mode_reg1;
767                           input [ADDR_BITS-1:0] mode_reg2;
768                           input [ADDR_BITS-1:0] mode_reg3;
769                           begin
770                               if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: Performing Initialization Sequence&quot;, _ModuleName, $time);
771                               cmd_task(1,       NOP, 'bx, 'bx);
772                               cmd_task(1,        ZQ, 'bx, 'h400); //ZQCL
773                               cmd_task(1, LOAD_MODE, 3, mode_reg3);
774                               cmd_task(1, LOAD_MODE, 2, mode_reg2);
775                               cmd_task(1, LOAD_MODE, 1, mode_reg1);
776                               cmd_task(1, LOAD_MODE, 0, mode_reg0 | 'h100); // DLL Reset
777                               cmd_task(0,       NOP, 'bx, 'bx);
778                           end
779                       endtask
780                     
781                       task reset_task;
782                         integer i;
783                         begin
784                           // disable inputs
785        1/1                dq_in_valid         = 0;
786        1/1                dqs_in_valid       &lt;= 0;
787        1/1                wdqs_cntr           = 0;
788        1/1                wdq_cntr            = 0;
789        1/1                for (i=0; i&lt;31; i=i+1) begin
790        1/1                    wdqs_pos_cntr[i]    &lt;= 0;
791                           end
792        1/1                b2b_write           &lt;= 0;
793                     
794                           // disable outputs
795        1/1                out_en              = 0;
796        1/1                dq_out_en           = 0;
797        1/1                rdq_cntr            = 0;
798        1/1                dqs_out_en          = 0;
799        1/1                rdqs_cntr           = 0;
800                     
801                           // disable ODT
802        1/1                odt_en              = 0;
803        1/1                dyn_odt_en          = 0;
804        1/1                odt_state           = 0;
805        1/1                dyn_odt_state       = 0;
806                     
807                           // reset bank state
808        1/1                active_bank           = 0;
809        1/1                auto_precharge_bank   = 0;
810        1/1                read_precharge_bank   = 0;
811        1/1                write_precharge_bank  = 0;
812                     
813                           // require initialization sequence
814        1/1                init_done             = 0;
815        1/1                mpr_en                = 0;
816        1/1                init_step             = 0;
817        1/1                init_mode_reg         = 0;
818        1/1                init_dll_reset        = 0;
819        1/1                zq_set                = 0;
820                     
821                           // reset DLL
822        1/1                dll_en              = 0;
823        1/1                dll_reset           = 0;
824        1/1                dll_locked          = 0;
825                     
826                           // exit power down and self refresh
827        1/1                prev_cke            = 1'bx;
828        1/1                in_power_down       = 0;
829        1/1                in_self_refresh     = 0;
830                     
831                           // clear pipelines
832        1/1                al_pipeline         = 0;
833        1/1                wr_pipeline         = 0;
834        1/1                rd_pipeline         = 0;
835        1/1                odt_pipeline        = 0;
836        1/1                dyn_odt_pipeline    = 0;
837                         end
838                       endtask
839                     
840                       parameter SAME_BANK  = 2'd0; // same bank, same group
841                       parameter DIFF_BANK  = 2'd1; // different bank, same group
842                       parameter DIFF_GROUP = 2'd2; // different bank, different group
843                     
844                       task chk_err;
845                         input [1:0] relationship;
846                         input [BA_BITS-1:0] bank;
847                         input [3:0] fromcmd;
848                         input [3:0] cmd;
849                         reg err;
850                         begin
851                           //$fdisplay(HANDLE, &quot;truebl4 = %d, relationship = %d, fromcmd = %h, cmd = %h&quot;, truebl4, relationship, fromcmd, cmd);
852        1/1                casex ({truebl4, relationship, fromcmd, cmd})
853                               // load mode
854        <font color = "red">1/2     ==>            {1'bx, DIFF_BANK , LOAD_MODE, LOAD_MODE} : begin if (ck_cntr - ck_load_mode &lt; TMRD)                                                                                $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tMRD violation during %s&quot;, _ModuleName, $time, cmd_string[cmd]);                         end</font>
                        MISSING_ELSE
855        <font color = "red">1/2     ==>            {1'bx, DIFF_BANK , LOAD_MODE, READ     } : begin if (($time - tm_load_mode &lt; TMOD) || (ck_cntr - ck_load_mode &lt; TMOD_TCK))                                         $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tMOD violation during %s&quot;, _ModuleName, $time, cmd_string[cmd]);                         end</font>
                        MISSING_ELSE
856                               {1'bx, DIFF_BANK , LOAD_MODE, REFRESH  } ,
857                               {1'bx, DIFF_BANK , LOAD_MODE, PRECHARGE} ,
858                               {1'bx, DIFF_BANK , LOAD_MODE, ACTIVATE } ,
859                               {1'bx, DIFF_BANK , LOAD_MODE, ZQ       } ,
860                               {1'bx, DIFF_BANK , LOAD_MODE, PWR_DOWN } ,
861        <font color = "red">1/2     ==>            {1'bx, DIFF_BANK , LOAD_MODE, SELF_REF } : begin if (($time - tm_load_mode &lt; TMOD) || (ck_cntr - ck_load_mode &lt; TMOD_TCK))                                         $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tMOD violation during %s&quot;, _ModuleName, $time, cmd_string[cmd]);                         end</font>
                        MISSING_ELSE
862                     
863                               // refresh
864                               {1'bx, DIFF_BANK , REFRESH  , LOAD_MODE} ,
865                               {1'bx, DIFF_BANK , REFRESH  , REFRESH  } ,
866                               {1'bx, DIFF_BANK , REFRESH  , PRECHARGE} ,
867                               {1'bx, DIFF_BANK , REFRESH  , ACTIVATE } ,
868                               {1'bx, DIFF_BANK , REFRESH  , ZQ       } ,
869        <font color = "red">1/2     ==>            {1'bx, DIFF_BANK , REFRESH  , SELF_REF } : begin if ($time - tm_refresh &lt; TRFC_MIN)                                                                                $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tRFC violation during %s&quot;, _ModuleName, $time, cmd_string[cmd]);                         end</font>
                        MISSING_ELSE
870        <font color = "red">0/2     ==>            {1'bx, DIFF_BANK , REFRESH  , PWR_DOWN } : begin if (ck_cntr - ck_refresh &lt; TREFPDEN)                                                                              $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tREFPDEN violation during %s&quot;, _ModuleName, $time, cmd_string[cmd]);                     end</font>
                   <font color = "red">==>  MISSING_ELSE</font>
871                     
872                               // precharge
873        <font color = "red">1/2     ==>            {1'bx, SAME_BANK , PRECHARGE, ACTIVATE } : begin if ($time - tm_bank_precharge[bank] &lt; TRP)                                                                        $fdisplay(HANDLE, &quot;%s: at time %t ERROR:   tRP violation during %s to bank %d&quot;,_ModuleName,  $time, cmd_string[cmd], bank);        end</font>
                        MISSING_ELSE
874                               {1'bx, DIFF_BANK , PRECHARGE, LOAD_MODE} ,
875                               {1'bx, DIFF_BANK , PRECHARGE, REFRESH  } ,
876                               {1'bx, DIFF_BANK , PRECHARGE, ZQ       } ,
877        <font color = "red">1/2     ==>            {1'bx, DIFF_BANK , PRECHARGE, SELF_REF } : begin if ($time - tm_precharge &lt; TRP)                                                                                   $fdisplay(HANDLE, &quot;%s: at time %t ERROR:   tRP violation during %s&quot;, _ModuleName, $time, cmd_string[cmd]);                         end</font>
                        MISSING_ELSE
878        <font color = "red">0/1     ==>            {1'bx, DIFF_BANK , PRECHARGE, PWR_DOWN } : ; //tPREPDEN = 1 tCK, can be concurrent with auto precharge</font>
879                     
880                               // activate
881        <font color = "red">1/2     ==>            {1'bx, SAME_BANK , ACTIVATE , PRECHARGE} : begin if ($time - tm_bank_activate[bank] &gt; TRAS_MAX)                                                                    $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tRAS maximum violation during %s to bank %d&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
                        MISSING_ELSE
882        <font color = "red">1/2     ==>                                                             if ($time - tm_bank_activate[bank] &lt; TRAS_MIN)                                                                    $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tRAS minimum violation during %s to bank %d&quot;, _ModuleName, $time, cmd_string[cmd], bank);end</font>
                        MISSING_ELSE
883        <font color = "red">1/2     ==>            {1'bx, SAME_BANK , ACTIVATE , ACTIVATE } : begin if ($time - tm_bank_activate[bank] &lt; TRC)                                                                         $fdisplay(HANDLE, &quot;%s: at time %t ERROR:   tRC violation during %s to bank %d&quot;, _ModuleName, $time, cmd_string[cmd], bank);        end</font>
                        MISSING_ELSE
884                               {1'bx, SAME_BANK , ACTIVATE , WRITE    } ,
885        1/1                    {1'bx, SAME_BANK , ACTIVATE , READ     } : ; // tRCD is checked outside this task
886        <font color = "red">1/2     ==>            {1'b0, DIFF_BANK , ACTIVATE , ACTIVATE } : begin if (($time - tm_activate &lt; TRRD) || (ck_cntr - ck_activate &lt; TRRD_TCK))                                           $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tRRD violation during %s to bank %d&quot;, _ModuleName, $time, cmd_string[cmd], bank);        end</font>
                        MISSING_ELSE
887        <font color = "red">0/2     ==>            {1'b1, DIFF_BANK , ACTIVATE , ACTIVATE } : begin if (($time - tm_group_activate[bank[1]] &lt; TRRD) || (ck_cntr - ck_group_activate[bank[1]] &lt; TRRD_TCK))             $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tRRD violation during %s to bank %d&quot;, _ModuleName, $time, cmd_string[cmd], bank);        end</font>
                   <font color = "red">==>  MISSING_ELSE</font>
888        <font color = "red">0/2     ==>            {1'b1, DIFF_GROUP, ACTIVATE , ACTIVATE } : begin if (($time - tm_activate &lt; TRRD_DG) || (ck_cntr - ck_activate &lt; TRRD_DG_TCK))                                     $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tRRD_DG violation during %s to bank %d&quot;, _ModuleName, $time, cmd_string[cmd], bank);     end</font>
                   <font color = "red">==>  MISSING_ELSE</font>
889        <font color = "red">1/2     ==>            {1'bx, DIFF_BANK , ACTIVATE , REFRESH  } : begin if ($time - tm_activate &lt; TRC)                                                                                    $fdisplay(HANDLE, &quot;%s: at time %t ERROR:   tRC violation during %s&quot;, _ModuleName, $time, cmd_string[cmd]);                         end</font>
                        MISSING_ELSE
890        <font color = "red">0/2     ==>            {1'bx, DIFF_BANK , ACTIVATE , PWR_DOWN } : begin if (ck_cntr - ck_activate &lt; TACTPDEN)                                                                             $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tACTPDEN violation during %s&quot;, _ModuleName, $time, cmd_string[cmd]);                     end</font>
                   <font color = "red">==>  MISSING_ELSE</font>
891                     
892                               // write
893        <font color = "red">1/2     ==>            {1'bx, SAME_BANK , WRITE    , PRECHARGE} : begin if (($time - tm_bank_write_end[bank] &lt; TWR) || (ck_cntr - ck_bank_write[bank] &lt;= write_latency + burst_length/2)) $fdisplay(HANDLE, &quot;%s: at time %t ERROR:   tWR violation during %s to bank %d&quot;, _ModuleName, $time, cmd_string[cmd], bank);        end</font>
                        MISSING_ELSE
894        <font color = "red">1/2     ==>            {1'b0, DIFF_BANK , WRITE    , WRITE    } : begin if (ck_cntr - ck_write &lt; TCCD)                                                                                    $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tCCD violation during %s to bank %d&quot;, _ModuleName, $time, cmd_string[cmd], bank);        end</font>
                        MISSING_ELSE
895        <font color = "red">0/2     ==>            {1'b1, DIFF_BANK , WRITE    , WRITE    } : begin if (ck_cntr - ck_group_write[bank[1]] &lt; TCCD)                                                                     $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tCCD violation during %s to bank %d&quot;, _ModuleName, $time, cmd_string[cmd], bank);        end</font>
                   <font color = "red">==>  MISSING_ELSE</font>
896        <font color = "red">1/2     ==>            {1'b0, DIFF_BANK , WRITE    , READ     } : begin if (ck_cntr - ck_write &lt; write_latency + burst_length/2 + TWTR_TCK - additive_latency)                            $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tWTR violation during %s to bank %d&quot;, _ModuleName, $time, cmd_string[cmd], bank);        end</font>
                        MISSING_ELSE
897        <font color = "red">0/2     ==>            {1'b1, DIFF_BANK , WRITE    , READ     } : begin if (ck_cntr - ck_group_write[bank[1]] &lt; write_latency + burst_length/2 + TWTR_TCK - additive_latency)             $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tWTR violation during %s to bank %d&quot;, _ModuleName, $time, cmd_string[cmd], bank);        end</font>
                   <font color = "red">==>  MISSING_ELSE</font>
898        <font color = "red">0/2     ==>            {1'b1, DIFF_GROUP, WRITE    , WRITE    } : begin if (ck_cntr - ck_write &lt; TCCD_DG)                                                                                 $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tCCD_DG violation during %s to bank %d&quot;, _ModuleName, $time, cmd_string[cmd], bank);     end</font>
                   <font color = "red">==>  MISSING_ELSE</font>
899        <font color = "red">0/2     ==>            {1'b1, DIFF_GROUP, WRITE    , READ     } : begin if (ck_cntr - ck_write &lt; write_latency + burst_length/2 + TWTR_DG_TCK - additive_latency)                         $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tWTR_DG violation during %s to bank %d&quot;, _ModuleName, $time, cmd_string[cmd], bank);     end</font>
                   <font color = "red">==>  MISSING_ELSE</font>
900        <font color = "red">0/2     ==>            {1'bx, DIFF_BANK , WRITE    , PWR_DOWN } : begin if (($time - tm_write_end &lt; TWR) || (ck_cntr - ck_write &lt; write_latency + burst_length/2))                        $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tWRPDEN violation during %s&quot;, _ModuleName, $time, cmd_string[cmd]);                      end</font>
                   <font color = "red">==>  MISSING_ELSE</font>
901                     
902                               // read
903        <font color = "red">1/2     ==>            {1'bx, SAME_BANK , READ     , PRECHARGE} : begin if (($time - tm_bank_read_end[bank] &lt; TRTP) || (ck_cntr - ck_bank_read[bank] &lt; additive_latency + TRTP_TCK))      $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tRTP violation during %s to bank %d&quot;, _ModuleName, $time, cmd_string[cmd], bank);        end</font>
                        MISSING_ELSE
904        1/1                    {1'b0, DIFF_BANK , READ     , WRITE    } : ; // tRTW is checked outside this task
905        <font color = "red">0/1     ==>            {1'b1, DIFF_BANK , READ     , WRITE    } : ; // tRTW is checked outside this task</font>
906        <font color = "red">1/2     ==>            {1'b0, DIFF_BANK , READ     , READ     } : begin if (ck_cntr - ck_read &lt; TCCD)                                                                                     $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tCCD violation during %s to bank %d&quot;, _ModuleName, $time, cmd_string[cmd], bank);        end</font>
                        MISSING_ELSE
907        <font color = "red">0/2     ==>            {1'b1, DIFF_BANK , READ     , READ     } : begin if (ck_cntr - ck_group_read[bank[1]] &lt; TCCD)                                                                      $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tCCD violation during %s to bank %d&quot;, _ModuleName, $time, cmd_string[cmd], bank);        end</font>
                   <font color = "red">==>  MISSING_ELSE</font>
908        <font color = "red">0/1     ==>            {1'b1, DIFF_GROUP, READ     , WRITE    } : ; // tRTW is checked outside this task</font>
909        <font color = "red">0/2     ==>            {1'b1, DIFF_GROUP, READ     , READ     } : begin if (ck_cntr - ck_read &lt; TCCD_DG)                                                                                  $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tCCD_DG violation during %s to bank %d&quot;, _ModuleName, $time, cmd_string[cmd], bank);     end</font>
                   <font color = "red">==>  MISSING_ELSE</font>
910        <font color = "red">0/2     ==>            {1'bx, DIFF_BANK , READ     , PWR_DOWN } : begin if (ck_cntr - ck_read &lt; read_latency + 5)                                                                         $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tRDPDEN violation during %s&quot;, _ModuleName, $time, cmd_string[cmd]);                      end</font>
                   <font color = "red">==>  MISSING_ELSE</font>
911                     
912                               // zq
913        1/1                    {1'bx, DIFF_BANK , ZQ       , LOAD_MODE} : ; // 1 tCK
914                               {1'bx, DIFF_BANK , ZQ       , REFRESH  } ,
915                               {1'bx, DIFF_BANK , ZQ       , PRECHARGE} ,
916                               {1'bx, DIFF_BANK , ZQ       , ACTIVATE } ,
917                               {1'bx, DIFF_BANK , ZQ       , ZQ       } ,
918                               {1'bx, DIFF_BANK , ZQ       , PWR_DOWN } ,
919        <font color = "red">1/2     ==>            {1'bx, DIFF_BANK , ZQ       , SELF_REF } : begin if (ck_cntr - ck_zqinit &lt; TZQINIT)                                                                                $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tZQinit violation during %s&quot;, _ModuleName, $time, cmd_string[cmd]);</font>
                        MISSING_ELSE
920        <font color = "red">1/2     ==>                                                             if (ck_cntr - ck_zqoper &lt; TZQOPER)                                                                                $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tZQoper violation during %s&quot;, _ModuleName, $time, cmd_string[cmd]);</font>
                        MISSING_ELSE
921        <font color = "red">1/2     ==>                                                             if (ck_cntr - ck_zqcs &lt; TZQCS)                                                                                    $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tZQCS violation during %s&quot;, _ModuleName, $time, cmd_string[cmd]);                        end</font>
                        MISSING_ELSE
922                     
923                               // power down
924                               {1'bx, DIFF_BANK , PWR_DOWN , LOAD_MODE} ,
925                               {1'bx, DIFF_BANK , PWR_DOWN , REFRESH  } ,
926                               {1'bx, DIFF_BANK , PWR_DOWN , PRECHARGE} ,
927                               {1'bx, DIFF_BANK , PWR_DOWN , ACTIVATE } ,
928                               {1'bx, DIFF_BANK , PWR_DOWN , WRITE    } ,
929        <font color = "red">1/2     ==>            {1'bx, DIFF_BANK , PWR_DOWN , ZQ       } : begin if (($time - tm_power_down &lt; TXP) || (ck_cntr - ck_power_down &lt; TXP_TCK))                                         $fdisplay(HANDLE, &quot;%s: at time %t ERROR:   tXP violation during %s&quot;, _ModuleName, $time, cmd_string[cmd]);                         end</font>
                        MISSING_ELSE
930        <font color = "red">1/2     ==>            {1'bx, DIFF_BANK , PWR_DOWN , READ     } : begin if (($time - tm_power_down &lt; TXP) || (ck_cntr - ck_power_down &lt; TXP_TCK))                                         $fdisplay(HANDLE, &quot;%s: at time %t ERROR:   tXP violation during %s&quot;, _ModuleName, $time, cmd_string[cmd]);</font>
931        <font color = "red">1/2     ==>                                                        else if (($time - tm_slow_exit_pd &lt; TXPDLL) || (ck_cntr - ck_slow_exit_pd &lt; TXPDLL_TCK))                               $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tXPDLL violation during %s&quot;, _ModuleName, $time, cmd_string[cmd]);                       end</font>
                        MISSING_ELSE
932                               {1'bx, DIFF_BANK , PWR_DOWN , PWR_DOWN } ,
933        <font color = "red">0/2     ==>            {1'bx, DIFF_BANK , PWR_DOWN , SELF_REF } : begin if (($time - tm_power_down &lt; TXP) || (ck_cntr - ck_power_down &lt; TXP_TCK))                                         $fdisplay(HANDLE, &quot;%s: at time %t ERROR:   tXP violation during %s&quot;, _ModuleName, $time, cmd_string[cmd]);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
934        <font color = "red">0/2     ==>                                                             if ((tm_power_down &gt; tm_refresh) &amp;&amp; ($time - tm_refresh &lt; TRFC_MIN))                                              $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tRFC violation during %s&quot;, _ModuleName, $time, cmd_string[cmd]);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
935        <font color = "red">0/2     ==>                                                             if ((tm_refresh &gt; tm_power_down) &amp;&amp; (($time - tm_power_down &lt; TXPDLL) || (ck_cntr - ck_power_down &lt; TXPDLL_TCK))) $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tXPDLL violation during %s&quot;, _ModuleName, $time, cmd_string[cmd]);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
936        <font color = "red">0/2     ==>                                                             if (($time - tm_cke_cmd &lt; TCKE) || (ck_cntr - ck_cke_cmd &lt; TCKE_TCK))                                             $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tCKE violation on CKE&quot;, _ModuleName, $time);                                             end</font>
                   <font color = "red">==>  MISSING_ELSE</font>
937                     
938                               // self refresh
939                               {1'bx, DIFF_BANK , SELF_REF , LOAD_MODE} ,
940                               {1'bx, DIFF_BANK , SELF_REF , REFRESH  } ,
941                               {1'bx, DIFF_BANK , SELF_REF , PRECHARGE} ,
942                               {1'bx, DIFF_BANK , SELF_REF , ACTIVATE } ,
943                               {1'bx, DIFF_BANK , SELF_REF , WRITE    } ,
944        <font color = "red">1/2     ==>            {1'bx, DIFF_BANK , SELF_REF , ZQ       } : begin if (($time - tm_self_refresh &lt; TXS) || (ck_cntr - ck_self_refresh &lt; TXS_TCK))                                     $fdisplay(HANDLE, &quot;%s: at time %t ERROR:   tXS violation during %s&quot;, _ModuleName, $time, cmd_string[cmd]);                         end</font>
                        MISSING_ELSE
945        <font color = "red">1/2     ==>            {1'bx, DIFF_BANK , SELF_REF , READ     } : begin if (ck_cntr - ck_self_refresh &lt; TXSDLL)                                                                           $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tXSDLL violation during %s&quot;, _ModuleName, $time, cmd_string[cmd]);                       end</font>
                        MISSING_ELSE
946                               {1'bx, DIFF_BANK , SELF_REF , PWR_DOWN } ,
947        <font color = "red">0/2     ==>            {1'bx, DIFF_BANK , SELF_REF , SELF_REF } : begin if (($time - tm_self_refresh &lt; TXS) || (ck_cntr - ck_self_refresh &lt; TXS_TCK))                                     $fdisplay(HANDLE, &quot;%s: at time %t ERROR:   tXS violation during %s&quot;, _ModuleName, $time, cmd_string[cmd]);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
948        <font color = "red">0/2     ==>                                                             if (($time - tm_cke_cmd &lt; TCKE) || (ck_cntr - ck_cke_cmd &lt; TCKE_TCK))                                             $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tCKE violation on CKE&quot;, _ModuleName, $time);                                             end</font>
                   <font color = "red">==>  MISSING_ELSE</font>
                        MISSING_DEFAULT
949                           endcase
950                         end
951                       endtask
952                     
953                       task cmd_task;
954                           input cke;
955                           input [2:0] cmd;
956                           input [BA_BITS-1:0] bank;
957                           input [ADDR_BITS-1:0] addr;
958                           reg [`BANKS:0] i;
959                           integer j;
960                           reg [`BANKS:0] tfaw_cntr;
961                           reg [COL_BITS-1:0] col;
962                           reg group;
963                           begin
964                               // tRFC max check
965        1/1                    if (!er_trfc_max &amp;&amp; !in_self_refresh) begin
966        1/1                        if ($time - tm_refresh &gt; TRFC_MAX &amp;&amp; check_strict_timing) begin
967        <font color = "red">0/1     ==>                    $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tRFC maximum violation during %s&quot;, _ModuleName, $time, cmd_string[cmd]);</font>
968        <font color = "red">0/1     ==>                    er_trfc_max = 1;</font>
969                                   end
                        MISSING_ELSE
970                               end
                        MISSING_ELSE
971        1/1                    if (cke) begin
972        1/1                        if ((cmd &lt; NOP) &amp;&amp; (cmd != PRECHARGE)) begin
973        1/1                            if (($time - tm_txpr &lt; TXPR) || (ck_cntr - ck_txpr &lt; TXPR_TCK))
974        <font color = "red">0/1     ==>                        $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tXPR violation during %s&quot;, _ModuleName, $time, cmd_string[cmd]);</font>
                        MISSING_ELSE
975        1/1                            for (j=0; j&lt;=SELF_REF; j=j+1) begin
976        1/1                                chk_err(SAME_BANK , bank, j, cmd);
977        1/1                                chk_err(DIFF_BANK , bank, j, cmd);
978        1/1                                chk_err(DIFF_GROUP, bank, j, cmd);
979                                       end
980                                   end
                        MISSING_ELSE
981        1/1                        case (cmd)
982                                       LOAD_MODE : begin
983        1/1                                if (|odt_pipeline)
984        <font color = "red">0/1     ==>                            $fdisplay(HANDLE, &quot;%s: at time %t ERROR: ODTL violation during %s&quot;, _ModuleName, $time, cmd_string[cmd]);</font>
                        MISSING_ELSE
985        1/1                                if (odt_state)
986        <font color = "red">0/1     ==>                            $fdisplay(HANDLE, &quot;%s: at time %t ERROR: ODT must be off prior to %s&quot;, _ModuleName, $time, cmd_string[cmd]);</font>
                        MISSING_ELSE
987                     
988        1/1                                if (|active_bank) begin
989        <font color = "red">0/1     ==>                            $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s Failure.  All banks must be Precharged.&quot;, _ModuleName, $time, cmd_string[cmd]);</font>
990        <font color = "red">0/2     ==>                            if (STOP_ON_ERROR) $stop(0);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
991                                           end else begin
992        2/2                                    if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d&quot;, _ModuleName, $time, cmd_string[cmd], bank);
                   <font color = "red">==>  MISSING_ELSE</font>
993        1/1                                    if (bank&gt;&gt;2) begin
994        <font color = "red">0/1     ==>                                $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s %d Illegal value.  Reserved bank bits must be programmed to zero&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
995                                               end
                        MISSING_ELSE
996        1/1                                    case (bank)
997                                                   0 : begin
998                                                       // Burst Length
999        1/1                                            if (addr[1:0] == 2'b00) begin
1000       1/1                                                burst_length = 8;
1001       1/1                                                blotf = 0;
1002       1/1                                                truebl4 = 0;
1003       2/2                                                if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d Burst Length = %d&quot;, _ModuleName, $time, cmd_string[cmd], bank, burst_length);
                   <font color = "red">==>  MISSING_ELSE</font>
1004       <font color = "red">0/1     ==>                                    end else if (addr[1:0] == 2'b01) begin</font>
1005       <font color = "red">0/1     ==>                                        burst_length = 8;</font>
1006       <font color = "red">0/1     ==>                                        blotf = 1;</font>
1007       <font color = "red">0/1     ==>                                        truebl4 = 0;</font>
1008       <font color = "red">0/2     ==>                                        if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d Burst Length = Select via A12&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1009       <font color = "red">0/1     ==>                                    end else if (addr[1:0] == 2'b10) begin</font>
1010       <font color = "red">0/1     ==>                                        burst_length = 4;</font>
1011       <font color = "red">0/1     ==>                                        blotf = 0;</font>
1012       <font color = "red">0/1     ==>                                        truebl4 = 0;</font>
1013       <font color = "red">0/2     ==>                                        if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d Burst Length = Fixed %d (chop)&quot;, _ModuleName, $time, cmd_string[cmd], bank, burst_length);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1014       <font color = "red">0/1     ==>                                    end else if (feature_truebl4 &amp;&amp; (addr[1:0] == 2'b11)) begin</font>
1015       <font color = "red">0/1     ==>                                        burst_length = 4;</font>
1016       <font color = "red">0/1     ==>                                        blotf = 0;</font>
1017       <font color = "red">0/1     ==>                                        truebl4 = 1;</font>
1018       <font color = "red">0/2     ==>                                        if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d Burst Length = True %d&quot;, _ModuleName, $time, cmd_string[cmd], bank, burst_length);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1019                                                      end else begin
1020       <font color = "red">0/1     ==>                                        $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s %d Illegal Burst Length = %d&quot;, _ModuleName, $time, cmd_string[cmd], bank, addr[1:0]);</font>
1021                                                      end
1022                                                      // Burst Order
1023       1/1                                            burst_order = addr[3];
1024       1/1                                            if (!burst_order) begin
1025       2/2                                                if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d Burst Order = Sequential&quot;, _ModuleName, $time, cmd_string[cmd], bank);
                   <font color = "red">==>  MISSING_ELSE</font>
1026       <font color = "red">0/1     ==>                                    end else if (burst_order) begin</font>
1027       <font color = "red">0/2     ==>                                        if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d Burst Order = Interleaved&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1028                                                      end else begin
1029       <font color = "red">0/1     ==>                                        $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s %d Illegal Burst Order = %d&quot;, _ModuleName, $time, cmd_string[cmd], bank, burst_order);</font>
1030                                                      end
1031                                                      // CAS Latency
1032       1/1                                            cas_latency = {addr[2],addr[6:4]} + 4;
1033       1/1                                            set_latency;
1034       1/1                                            if ((cas_latency &gt;= CL_MIN) &amp;&amp; (cas_latency &lt;= CL_MAX)) begin
1035       2/2                                                if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d CAS Latency = %d&quot;, _ModuleName, $time, cmd_string[cmd], bank, cas_latency);
                   <font color = "red">==>  MISSING_ELSE</font>
1036                                                      end else begin
1037       <font color = "red">0/1     ==>                                        $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s %d Illegal CAS Latency = %d&quot;, _ModuleName, $time, cmd_string[cmd], bank, cas_latency);</font>
1038                                                      end
1039                                                      // Reserved
1040       1/1                                            if (addr[7] !== 0 &amp;&amp; check_strict_mrbits) begin
1041       <font color = "red">0/1     ==>                                        $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s %d Illegal value.  Reserved address bits must be programmed to zero&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
1042                                                      end
                        MISSING_ELSE
1043                                                      // DLL Reset
1044       1/1                                            dll_reset = addr[8];
1045       1/1                                            if (!dll_reset) begin
1046       <font color = "red">0/2     ==>                                        if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d DLL Reset = Normal&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1047       1/1                                            end else if (dll_reset) begin
1048       2/2                                                if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d DLL Reset = Reset DLL&quot;, _ModuleName, $time, cmd_string[cmd], bank);
                   <font color = "red">==>  MISSING_ELSE</font>
1049       1/1                                                dll_locked = 0;
1050       1/1                                                init_dll_reset = 1;
1051       1/1                                                ck_dll_reset &lt;= ck_cntr;
1052                                                      end else begin
1053       <font color = "red">0/1     ==>                                        $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s %d Illegal DLL Reset = %d&quot;, _ModuleName, $time, cmd_string[cmd], bank, dll_reset);</font>
1054                                                      end
1055                    
1056                                     // Write Recovery
1057       1/1                           if (addr[11:9] == 0) begin
1058       1/1                            write_recovery  = 16;
1059       <font color = "red">0/1     ==>                   end else if (addr[11:9] &lt; 4) begin</font>
1060       <font color = "red">0/1     ==>                    write_recovery  = addr[11:9] + 4;</font>
1061                                     end else begin
1062       <font color = "red">0/1     ==>                    write_recovery  = 2*addr[11:9];</font>
1063                                     end
1064                    
1065       1/1                                            if ((write_recovery &gt;= WR_MIN) &amp;&amp; (write_recovery &lt;= WR_MAX)) begin
1066       2/2                                                if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d Write Recovery = %d&quot;, _ModuleName, $time, cmd_string[cmd], bank, write_recovery);
                   <font color = "red">==>  MISSING_ELSE</font>
1067                                                      end else begin
1068       <font color = "red">0/1     ==>                                        $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s %d Illegal Write Recovery = %d&quot;, _ModuleName, $time, cmd_string[cmd], bank, write_recovery);</font>
1069                                                      end
1070                                                      // Power Down Mode
1071       1/1                                            low_power = !addr[12];
1072       1/1                                            if (!low_power) begin
1073       <font color = "red">0/2     ==>                                        if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d Power Down Mode = DLL on&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1074       1/1                                            end else if (low_power) begin
1075       2/2                                                if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d Power Down Mode = DLL off&quot;, _ModuleName, $time, cmd_string[cmd], bank);
                   <font color = "red">==>  MISSING_ELSE</font>
1076                                                      end else begin
1077       <font color = "red">0/1     ==>                                        $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s %d Illegal Power Down Mode = %d&quot;, _ModuleName, $time, cmd_string[cmd], bank, low_power);</font>
1078                                                      end
1079                                                      // Reserved
1080       1/1                                            if (ADDR_BITS&gt;13 &amp;&amp; addr[13] !== 0 &amp;&amp; check_strict_mrbits) begin
1081       <font color = "red">0/1     ==>                                        $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s %d Illegal value.  Reserved address bits must be programmed to zero&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
1082                                                      end
                        MISSING_ELSE
1083                                                  end
1084                                                  1 : begin
1085                                                      // DLL Enable
1086       1/1                                            dll_en = !addr[0];
1087       1/1                                            if (!dll_en) begin
1088       <font color = "red">0/2     ==>                                        if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d DLL Enable = Disabled&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1089       <font color = "red">0/2     ==>                                        if (check_strict_mrbits) $fdisplay(HANDLE, &quot;%s: at time %t WARNING: %s %d DLL off mode is not modeled&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1090       1/1                                            end else if (dll_en) begin
1091       2/2                                                if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d DLL Enable = Enabled&quot;, _ModuleName, $time, cmd_string[cmd], bank);
                   <font color = "red">==>  MISSING_ELSE</font>
1092                                                      end else begin
1093       <font color = "red">0/1     ==>                                        $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s %d Illegal DLL Enable = %d&quot;, _ModuleName, $time, cmd_string[cmd], bank, dll_en);</font>
1094                                                      end
1095                                                      // Output Drive Strength
1096       1/1                                            if ({addr[5], addr[1]} == 2'b00) begin
1097       2/2                                                if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d Output Drive Strength = %d Ohm&quot;, _ModuleName, $time, cmd_string[cmd], bank, RZQ/6);
                   <font color = "red">==>  MISSING_ELSE</font>
1098       <font color = "red">0/1     ==>                                    end else if ({addr[5], addr[1]} == 2'b01) begin</font>
1099       <font color = "red">0/2     ==>                                        if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d Output Drive Strength = %d Ohm&quot;, _ModuleName, $time, cmd_string[cmd], bank, RZQ/7);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1100       <font color = "red">0/1     ==>                                    end else if ({addr[5], addr[1]} == 2'b11) begin</font>
1101       <font color = "red">0/2     ==>                                        if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d Output Drive Strength = %d Ohm&quot;, _ModuleName, $time, cmd_string[cmd], bank, RZQ/5);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1102                                                      end else begin
1103       <font color = "red">0/1     ==>                                        $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s %d Illegal Output Drive Strength = %d&quot;, _ModuleName, $time, cmd_string[cmd], bank, {addr[5], addr[1]});</font>
1104                                                      end
1105                                                      // ODT Rtt (Rtt_NOM)
1106       1/1                                            odt_rtt_nom = {addr[9], addr[6], addr[2]};
1107       1/1                                            if (odt_rtt_nom == 3'b000) begin
1108       2/2                                                if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d ODT Rtt = Disabled&quot;, _ModuleName, $time, cmd_string[cmd], bank);
                   <font color = "red">==>  MISSING_ELSE</font>
1109       1/1                                                odt_en = 0;
1110       <font color = "red">0/1     ==>                                    end else if ((odt_rtt_nom &lt; 4) || ((!addr[7] || (addr[7] &amp;&amp; addr[12])) &amp;&amp; (odt_rtt_nom &lt; 6))) begin</font>
1111       <font color = "red">0/2     ==>                                        if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d ODT Rtt = %d Ohm&quot;, _ModuleName, $time, cmd_string[cmd], bank, get_rtt_nom(odt_rtt_nom));</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1112       <font color = "red">0/1     ==>                                        odt_en = 1;</font>
1113                                                      end else begin
1114       <font color = "red">0/1     ==>                                        $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s %d Illegal ODT Rtt = %d&quot;, _ModuleName, $time, cmd_string[cmd], bank, odt_rtt_nom);</font>
1115       <font color = "red">0/1     ==>                                        odt_en = 0;</font>
1116                                                      end
1117                                                      // Report the additive latency value
1118       1/1                                            al = addr[4:3];
1119       1/1                                            set_latency;
1120       1/1                                            if (al == 0) begin
1121       2/2                                                if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d Additive Latency = %d&quot;, _ModuleName, $time, cmd_string[cmd], bank, al);
                   <font color = "red">==>  MISSING_ELSE</font>
1122       <font color = "red">0/1     ==>                                    end else if ((al &gt;= AL_MIN) &amp;&amp; (al &lt;= AL_MAX)) begin</font>
1123       <font color = "red">0/2     ==>                                        if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d Additive Latency = CL - %d&quot;, _ModuleName, $time, cmd_string[cmd], bank, al);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1124                                                      end else begin
1125       <font color = "red">0/1     ==>                                        $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s %d Illegal Additive Latency = %d&quot;, _ModuleName, $time, cmd_string[cmd], bank, al);</font>
1126                                                      end
1127                                                      // Write Levelization
1128       1/1                                            write_levelization = addr[7];
1129       1/1                                            if (!write_levelization) begin
1130       2/2                                                if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d Write Levelization = Disabled&quot;, _ModuleName, $time, cmd_string[cmd], bank);
                   <font color = "red">==>  MISSING_ELSE</font>
1131       1/1                                            end else if (write_levelization) begin
1132       2/2                                                if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d Write Levelization = Enabled&quot;, _ModuleName, $time, cmd_string[cmd], bank);
                   <font color = "red">==>  MISSING_ELSE</font>
1133                                                      end else begin
1134       <font color = "red">0/1     ==>                                        $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s %d Illegal Write Levelization = %d&quot;, _ModuleName, $time, cmd_string[cmd], bank, write_levelization);</font>
1135                                                      end
1136                                                      // Reserved
1137       1/1                                            if (addr[8] !== 0 &amp;&amp; check_strict_mrbits) begin
1138       <font color = "red">0/1     ==>                                        $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s %d Illegal value.  Reserved address bits must be programmed to zero&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
1139                                                      end
                        MISSING_ELSE
1140                                                      // Reserved
1141       1/1                                            if (addr[10] !== 0 &amp;&amp; check_strict_mrbits) begin
1142       <font color = "red">0/1     ==>                                        $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s %d Illegal value.  Reserved address bits must be programmed to zero&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
1143                                                      end
                        MISSING_ELSE
1144                                                      // TDQS Enable
1145       1/1                                            tdqs_en = addr[11];
1146       1/1                                            if (!tdqs_en) begin
1147       2/2                                                if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d TDQS Enable = Disabled&quot;, _ModuleName, $time, cmd_string[cmd], bank);
                   <font color = "red">==>  MISSING_ELSE</font>
1148       <font color = "red">0/1     ==>                                    end else if (tdqs_en) begin</font>
1149       <font color = "red">0/1     ==>                                        if (8 == DQ_BITS) begin</font>
1150       <font color = "red">0/2     ==>                        if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d TDQS Enable = Enabled&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1151                                                          end
1152                                        else begin
1153       <font color = "red">0/1     ==>                                            $fdisplay(HANDLE, &quot;%s: at time %t WARNING: %s %d Illegal TDQS Enable.  TDQS only exists on a x8 part&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
1154       <font color = "red">0/1     ==>                                            tdqs_en = 0;</font>
1155                                      end
1156                                                      end else begin
1157       <font color = "red">0/1     ==>                                        $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s %d Illegal TDQS Enable = %d&quot;, _ModuleName, $time, cmd_string[cmd], bank, tdqs_en);</font>
1158                                                      end
1159                                                      // Output Enable
1160       1/1                                            out_en = !addr[12];
1161       1/1                                            if (!out_en) begin
1162       <font color = "red">0/2     ==>                                        if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d Qoff = Disabled&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1163       1/1                                            end else if (out_en) begin
1164       2/2                                                if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d Qoff = Enabled&quot;, _ModuleName, $time, cmd_string[cmd], bank);
                   <font color = "red">==>  MISSING_ELSE</font>
1165                                                      end else begin
1166       <font color = "red">0/1     ==>                                        $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s %d Illegal Qoff = %d&quot;, _ModuleName, $time, cmd_string[cmd], bank, out_en);</font>
1167                                                      end
1168                                                      // Reserved
1169       1/1                                            if (ADDR_BITS&gt;13 &amp;&amp; addr[13] !== 0 &amp;&amp; check_strict_mrbits) begin
1170       <font color = "red">0/1     ==>                                        $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s %d Illegal value.  Reserved address bits must be programmed to zero&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
1171                                                      end
                        MISSING_ELSE
1172                                                  end
1173                                                  2 : begin
1174       1/1                            if (feature_pasr) begin
1175                                                          // Partial Array Self Refresh
1176       1/1                                                pasr = addr[2:0];
1177       1/1                                                case (pasr)
1178       2/2                                                    3'b000 : if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d Partial Array Self Refresh = Bank 0-7&quot;, _ModuleName, $time, cmd_string[cmd], bank);
                   <font color = "red">==>  MISSING_ELSE</font>
1179       <font color = "red">0/2     ==>                                            3'b001 : if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d Partial Array Self Refresh = Bank 0-3&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1180       <font color = "red">0/2     ==>                                            3'b010 : if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d Partial Array Self Refresh = Bank 0-1&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1181       <font color = "red">0/2     ==>                                            3'b011 : if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d Partial Array Self Refresh = Bank 0&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1182       <font color = "red">0/2     ==>                                            3'b100 : if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d Partial Array Self Refresh = Bank 2-7&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1183       <font color = "red">0/2     ==>                                            3'b101 : if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d Partial Array Self Refresh = Bank 4-7&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1184       <font color = "red">0/2     ==>                                            3'b110 : if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d Partial Array Self Refresh = Bank 6-7&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1185       <font color = "red">0/2     ==>                                            3'b111 : if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d Partial Array Self Refresh = Bank 7&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1186       <font color = "red">0/1     ==>                                            default : $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s %d Illegal Partial Array Self Refresh = %d&quot;, _ModuleName, $time, cmd_string[cmd], bank, pasr);</font>
1187                                                          endcase
1188                                    end
1189                                      else
1190       <font color = "red">0/1     ==>                                    if (addr[2:0] !== 0 &amp;&amp; check_strict_mrbits) begin</font>
1191       <font color = "red">0/1     ==>                                        $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s %d Illegal value.  Reserved address bits must be programmed to zero&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
1192                                                      end
                   <font color = "red">==>  MISSING_ELSE</font>
1193                                                      // CAS Write Latency
1194       1/1                                            cas_write_latency = addr[5:3]+5;
1195       1/1                                            set_latency;
1196       1/1                                            if ((cas_write_latency &gt;= CWL_MIN) &amp;&amp; (cas_write_latency &lt;= CWL_MAX)) begin
1197       2/2                                                if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d CAS Write Latency = %d&quot;, _ModuleName, $time, cmd_string[cmd], bank, cas_write_latency);
                   <font color = "red">==>  MISSING_ELSE</font>
1198                                                      end else begin
1199       <font color = "red">0/1     ==>                                        $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s %d Illegal CAS Write Latency = %d&quot;, _ModuleName, $time, cmd_string[cmd], bank, cas_write_latency);</font>
1200                                                      end
1201                                                      // Auto Self Refresh Method
1202       1/1                                            asr = addr[6];
1203       1/1                                            if (!asr) begin
1204       2/2                                                if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d Auto Self Refresh = Disabled&quot;, _ModuleName, $time, cmd_string[cmd], bank);
                   <font color = "red">==>  MISSING_ELSE</font>
1205       <font color = "red">0/1     ==>                                    end else if (asr) begin</font>
1206       <font color = "red">0/2     ==>                                        if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d Auto Self Refresh = Enabled&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1207       <font color = "red">0/2     ==>                                        if (check_strict_mrbits) $fdisplay(HANDLE, &quot;%s: at time %t WARNING: %s %d Auto Self Refresh is not modeled&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1208                                                      end else begin
1209       <font color = "red">0/1     ==>                                        $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s %d Illegal Auto Self Refresh = %d&quot;, _ModuleName, $time, cmd_string[cmd], bank, asr);</font>
1210                                                      end
1211                                                      // Self Refresh Temperature
1212       1/1                                            srt = addr[7];
1213       1/1                                            if (!srt) begin
1214       2/2                                                if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d Self Refresh Temperature = Normal&quot;, _ModuleName, $time, cmd_string[cmd], bank);
                   <font color = "red">==>  MISSING_ELSE</font>
1215       <font color = "red">0/1     ==>                                    end else if (srt) begin</font>
1216       <font color = "red">0/2     ==>                                        if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d Self Refresh Temperature = Extended&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1217       <font color = "red">0/2     ==>                                        if (check_strict_mrbits) $fdisplay(HANDLE, &quot;%s: at time %t WARNING: %s %d Self Refresh Temperature is not modeled&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1218                                                      end else begin
1219       <font color = "red">0/1     ==>                                        $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s %d Illegal Self Refresh Temperature = %d&quot;, _ModuleName, $time, cmd_string[cmd], bank, srt);</font>
1220                                                      end
1221       1/1                                            if (asr &amp;&amp; srt)
1222       <font color = "red">0/1     ==>                                        $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s %d SRT must be set to 0 when ASR is enabled.&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
                        MISSING_ELSE
1223                                                      // Reserved
1224       1/1                                            if (addr[8] !== 0 &amp;&amp; check_strict_mrbits) begin
1225       <font color = "red">0/1     ==>                                        $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s %d Illegal value.  Reserved address bits must be programmed to zero&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
1226                                                      end
                        MISSING_ELSE
1227                                                      // Dynamic ODT (Rtt_WR)
1228       1/1                                            odt_rtt_wr = addr[10:9];
1229       1/1                                            if (odt_rtt_wr == 2'b00) begin
1230       2/2                                                if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d Dynamic ODT = Disabled&quot;, _ModuleName, $time, cmd_string[cmd], bank);
                   <font color = "red">==>  MISSING_ELSE</font>
1231       1/1                                                dyn_odt_en = 0;
1232       <font color = "red">0/1     ==>                                    end else if ((odt_rtt_wr &gt; 0) &amp;&amp; (odt_rtt_wr &lt; 3)) begin</font>
1233       <font color = "red">0/2     ==>                                        if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d Dynamic ODT Rtt = %d Ohm&quot;, _ModuleName, $time, cmd_string[cmd], bank, get_rtt_wr(odt_rtt_wr));</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1234       <font color = "red">0/1     ==>                                        dyn_odt_en = 1;</font>
1235                                                      end else begin
1236       <font color = "red">0/1     ==>                                        $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s %d Illegal Dynamic ODT = %d&quot;, _ModuleName, $time, cmd_string[cmd], bank, odt_rtt_wr);</font>
1237       <font color = "red">0/1     ==>                                        dyn_odt_en = 0;</font>
1238                                                      end
1239                                                      // Reserved
1240       1/1                                            if (ADDR_BITS&gt;13 &amp;&amp; addr[13:11] !== 0 &amp;&amp; check_strict_mrbits) begin
1241       <font color = "red">0/1     ==>                                        $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s %d Illegal value.  Reserved address bits must be programmed to zero&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
1242                                                      end
                        MISSING_ELSE
1243                                                  end
1244                                                  3 : begin
1245       1/1                                            mpr_select = addr[1:0];
1246                                                      // MultiPurpose Register Select
1247       1/1                                            if (mpr_select == 2'b00) begin
1248       2/2                                                if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d MultiPurpose Register Select = Pre-defined pattern&quot;, _ModuleName, $time, cmd_string[cmd], bank);
                   <font color = "red">==>  MISSING_ELSE</font>
1249                                                      end else begin
1250       <font color = "red">0/2     ==>                                        if (check_strict_mrbits) $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s %d Illegal MultiPurpose Register Select = %d&quot;, _ModuleName, $time, cmd_string[cmd], bank, mpr_select);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1251                                                      end
1252                                                      // MultiPurpose Register Enable
1253       1/1                                            mpr_en = addr[2];
1254       1/1                                            if (!mpr_en) begin
1255       2/2                                                if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d MultiPurpose Register Enable = Disabled&quot;, _ModuleName, $time, cmd_string[cmd], bank);
                   <font color = "red">==>  MISSING_ELSE</font>
1256       1/1                                            end else if (mpr_en) begin
1257       2/2                                                if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s %d MultiPurpose Register Enable = Enabled&quot;, _ModuleName, $time, cmd_string[cmd], bank);
                   <font color = "red">==>  MISSING_ELSE</font>
1258                                                      end else begin
1259       <font color = "red">0/1     ==>                                        $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s %d Illegal MultiPurpose Register Enable = %d&quot;, _ModuleName, $time, cmd_string[cmd], bank, mpr_en);</font>
1260                                                      end
1261                                                      // Reserved
1262       1/1                                            if (ADDR_BITS&gt;13 &amp;&amp; addr[13:3] !== 0 &amp;&amp; check_strict_mrbits) begin
1263       <font color = "red">0/1     ==>                                        $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s %d Illegal value.  Reserved address bits must be programmed to zero&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
1264                                                      end
                        MISSING_ELSE
1265                                                  end
                   <font color = "red">==>  MISSING_DEFAULT</font>
1266                                              endcase
1267       1/1                                    if (dyn_odt_en &amp;&amp; write_levelization)
1268       <font color = "red">0/1     ==>                                $fdisplay(HANDLE, &quot;%s: at time %t ERROR: Dynamic ODT is not available during Write Leveling mode.&quot;, _ModuleName, $time);</font>
                        MISSING_ELSE
1269       1/1                                    init_mode_reg[bank] = 1;
1270       1/1                                    mode_reg[bank] = addr;
1271       1/1                                    tm_load_mode &lt;= $time;
1272       1/1                                    ck_load_mode &lt;= ck_cntr;
1273                                          end
1274                                      end
1275                                      REFRESH : begin
1276       1/1                                if (mpr_en) begin
1277       <font color = "red">0/1     ==>                            $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s Failure.  Multipurpose Register must be disabled.&quot;, _ModuleName, $time, cmd_string[cmd]);</font>
1278       <font color = "red">0/2     ==>                            if (STOP_ON_ERROR) $stop(0);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1279       1/1                                end else if (|active_bank) begin
1280       <font color = "red">0/1     ==>                            $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s Failure.  All banks must be Precharged.&quot;, _ModuleName, $time, cmd_string[cmd]);</font>
1281       <font color = "red">0/2     ==>                            if (STOP_ON_ERROR) $stop(0);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1282                                          end else begin
1283       2/2                                    if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s&quot;, _ModuleName, $time, cmd_string[cmd]);
                   <font color = "red">==>  MISSING_ELSE</font>
1284       1/1                                    er_trfc_max = 0;
1285       1/1                                    ref_cntr = ref_cntr + 1;
1286       1/1                                    tm_refresh &lt;= $time;
1287       1/1                                    ck_refresh &lt;= ck_cntr;
1288                                          end
1289                                      end
1290                                      PRECHARGE : begin
1291       1/1                                if (addr[AP]) begin
1292       <font color = "red">0/2     ==>                            if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s All&quot;, _ModuleName, $time, cmd_string[cmd]);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1293                                          end
                        MISSING_ELSE
1294                                          // PRECHARGE command will be treated as a NOP if there is no open row in that bank (idle state),
1295                                          // or if the previously open row is already in the process of precharging
1296       1/1                                if (|active_bank) begin
1297       1/1                                    if (($time - tm_txpr &lt; TXPR) || (ck_cntr - ck_txpr &lt; TXPR_TCK))
1298       <font color = "red">0/1     ==>                                $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tXPR violation during %s&quot;, _ModuleName, $time, cmd_string[cmd]);</font>
                        MISSING_ELSE
1299       1/1                                    if (mpr_en) begin
1300       <font color = "red">0/1     ==>                                $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s Failure.  Multipurpose Register must be disabled.&quot;, _ModuleName, $time, cmd_string[cmd]);</font>
1301       <font color = "red">0/2     ==>                                if (STOP_ON_ERROR) $stop(0);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1302                                              end else begin
1303       1/1                                        for (i=0; i&lt;`BANKS; i=i+1) begin
1304       1/1                                            if (active_bank[i]) begin
1305       1/1                                                if (addr[AP] || (i == bank)) begin
1306                    
1307       1/1                                                    for (j=0; j&lt;=SELF_REF; j=j+1) begin
1308       1/1                                                        chk_err(SAME_BANK, i, j, cmd);
1309       1/1                                                        chk_err(DIFF_BANK, i, j, cmd);
1310                                                              end
1311                    
1312       1/1                                                    if (auto_precharge_bank[i]) begin
1313       <font color = "red">0/1     ==>                                                $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s Failure.  Auto Precharge is scheduled to bank %d.&quot;, _ModuleName, $time, cmd_string[cmd], i);</font>
1314       <font color = "red">0/2     ==>                                                if (STOP_ON_ERROR) $stop(0);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1315                                                              end else begin
1316       2/2                                                        if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s bank %d&quot;, _ModuleName, $time, cmd_string[cmd], i);
                   <font color = "red">==>  MISSING_ELSE</font>
1317       1/1                                                        active_bank[i] = 1'b0;
1318       1/1                                                        tm_bank_precharge[i] &lt;= $time;
1319       1/1                                                        tm_precharge &lt;= $time;
1320       1/1                                                        ck_precharge &lt;= ck_cntr;
1321                                                              end
1322                                                          end
                   <font color = "red">==>  MISSING_ELSE</font>
1323                                                      end
                        MISSING_ELSE
1324                                                  end
1325                                              end
1326                                          end
                   <font color = "red">==>  MISSING_ELSE</font>
1327                                      end
1328                                      ACTIVATE : begin
1329       1/1                                tfaw_cntr = 0;
1330       1/1                                for (i=0; i&lt;`BANKS; i=i+1) begin
1331       1/1                                    if ($time - tm_bank_activate[i] &lt; TFAW) begin
1332       <font color = "red">0/1     ==>                                tfaw_cntr = tfaw_cntr + 1;</font>
1333                                              end
                        MISSING_ELSE
1334                                          end
1335       1/1                                if (tfaw_cntr &gt; 3) begin
1336       <font color = "red">0/1     ==>                            $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tFAW violation during %s to bank %d&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
1337                                          end
                        MISSING_ELSE
1338                    
1339       1/1                                if (mpr_en) begin
1340       <font color = "red">0/1     ==>                            $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s Failure.  Multipurpose Register must be disabled.&quot;, _ModuleName, $time, cmd_string[cmd]);</font>
1341       <font color = "red">0/2     ==>                            if (STOP_ON_ERROR) $stop(0);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1342       1/1                                end else if (!init_done) begin
1343       <font color = "red">0/1     ==>                            $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s Failure.  Initialization sequence is not complete.&quot;, _ModuleName, $time, cmd_string[cmd]);</font>
1344       <font color = "red">0/2     ==>                            if (STOP_ON_ERROR) $stop(0);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1345       1/1                                end else if (active_bank[bank]) begin
1346       <font color = "red">0/1     ==>                            $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s Failure.  Bank %d must be Precharged.&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
1347       <font color = "red">0/2     ==>                            if (STOP_ON_ERROR) $stop(0);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1348                                          end else begin
1349       1/1                                    if (addr &gt;= 1&lt;&lt;ROW_BITS) begin
1350       1/1                                        $fdisplay(HANDLE, &quot;%s: at time %t WARNING: row = %h does not exist.  Maximum row = %h&quot;, _ModuleName, $time, addr, (1&lt;&lt;ROW_BITS)-1);
1351                                              end
                        MISSING_ELSE
1352       2/2                                    if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s bank %d row %h&quot;, _ModuleName, $time, cmd_string[cmd], bank, addr);
                   <font color = "red">==>  MISSING_ELSE</font>
1353       1/1                                    active_bank[bank] = 1'b1;
1354       1/1                                    active_row[bank] = addr;
1355       1/1                                    tm_group_activate[bank[1]] &lt;= $time;
1356       1/1                                    tm_activate &lt;= $time;
1357       1/1                                    tm_bank_activate[bank] &lt;= $time;
1358       1/1                                    ck_group_activate[bank[1]] &lt;= ck_cntr;
1359       1/1                                    ck_activate &lt;= ck_cntr;
1360                                          end
1361                                      end
1362                                      WRITE : begin
1363       1/1                                if ((!rd_bc &amp;&amp; blotf) || (burst_length == 4)) begin // BL=4
1364       <font color = "red">0/1     ==>                            if (truebl4) begin</font>
1365       <font color = "red">0/1     ==>                                if (ck_cntr - ck_group_read[bank[1]] &lt; read_latency + TCCD/2 + 2 - write_latency)</font>
1366       <font color = "red">0/1     ==>                                    $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tRTW violation during %s to bank %d&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1367       <font color = "red">0/1     ==>                                if (ck_cntr - ck_read &lt; read_latency + TCCD_DG/2 + 2 - write_latency)</font>
1368       <font color = "red">0/1     ==>                                    $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tRTW_DG violation during %s to bank %d&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1369                                              end else begin
1370       <font color = "red">0/1     ==>                                if (ck_cntr - ck_read &lt; read_latency + TCCD/2 + 2 - write_latency)</font>
1371       <font color = "red">0/1     ==>                                    $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tRTW violation during %s to bank %d&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1372                                              end
1373                                          end else begin // BL=8
1374       1/1                                    if (ck_cntr - ck_read &lt; read_latency + TCCD + 2 - write_latency)
1375       <font color = "red">0/1     ==>                                $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tRTW violation during %s to bank %d&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
                        MISSING_ELSE
1376                                          end
1377                    
1378       1/1                                if (mpr_en) begin
1379       <font color = "red">0/1     ==>                            $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s Failure.  Multipurpose Register must be disabled.&quot;, _ModuleName, $time, cmd_string[cmd]);</font>
1380       <font color = "red">0/2     ==>                            if (STOP_ON_ERROR) $stop(0);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1381       1/1                                end else if (!init_done) begin
1382       <font color = "red">0/1     ==>                            $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s Failure.  Initialization sequence is not complete.&quot;, _ModuleName, $time, cmd_string[cmd]);</font>
1383       <font color = "red">0/2     ==>                            if (STOP_ON_ERROR) $stop(0);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1384       1/1                                end else if (!active_bank[bank])  begin
1385       <font color = "red">0/2     ==>                            if (check_strict_timing) $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s Failure.  Bank %d must be Activated.&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1386       <font color = "red">0/2     ==>                            if (STOP_ON_ERROR) $stop(0);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1387       1/1                                end else if (auto_precharge_bank[bank]) begin
1388       <font color = "red">0/1     ==>                            $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s Failure.  Auto Precharge is scheduled to bank %d.&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
1389       <font color = "red">0/2     ==>                            if (STOP_ON_ERROR) $stop(0);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1390       1/1                                end else if (ck_cntr - ck_write &lt; burst_length/2) begin
1391       <font color = "red">0/1     ==>                            $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s Failure.  Illegal burst interruption.&quot;, _ModuleName, $time, cmd_string[cmd]);</font>
1392       <font color = "red">0/2     ==>                            if (STOP_ON_ERROR) $stop(0);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1393                                          end else begin
1394       1/1                                    if (addr[AP]) begin
1395       1/1                                        auto_precharge_bank[bank] = 1'b1;
1396       1/1                                        write_precharge_bank[bank] = 1'b1;
1397                                              end
                        MISSING_ELSE
1398       1/1                                    col = {addr[BC-1:AP+1], addr[AP-1:0]}; // assume BC &gt; AP
1399       1/1                                    if (col &gt;= 1&lt;&lt;COL_BITS) begin
1400       <font color = "red">0/1     ==>                                $fdisplay(HANDLE, &quot;%s: at time %t WARNING: col = %h does not exist.  Maximum col = %h&quot;, _ModuleName, $time, col, (1&lt;&lt;COL_BITS)-1);</font>
1401                                              end
                        MISSING_ELSE
1402       1/1                                    if ((!addr[BC] &amp;&amp; blotf) || (burst_length == 4)) begin // BL=4
1403       <font color = "red">0/1     ==>                                col = col &amp; -4;</font>
1404                                              end else begin // BL=8
1405       1/1                                        col = col &amp; -8;
1406                                              end
1407       2/2                                    if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s bank %d col %h, auto precharge %d&quot;, _ModuleName, $time, cmd_string[cmd], bank, col, addr[AP]);
                   <font color = "red">==>  MISSING_ELSE</font>
1408       1/1                                    wr_pipeline[2*write_latency + 1]  = 1;
1409       1/1                                    ba_pipeline[2*write_latency + 1]  = bank;
1410       1/1                                    row_pipeline[2*write_latency + 1] = active_row[bank];
1411       1/1                                    col_pipeline[2*write_latency + 1] = col;
1412       1/1                                    if ((!addr[BC] &amp;&amp; blotf) || (burst_length == 4)) begin // BL=4
1413       <font color = "red">0/1     ==>                                bl_pipeline[2*write_latency + 1] = 4;</font>
1414       <font color = "red">0/1     ==>                                if (mpr_en &amp;&amp; col%4) begin</font>
1415       <font color = "red">0/1     ==>                                    $fdisplay(HANDLE, &quot;%s: at time %t WARNING: col[1:0] must be set to 2'b00 during a BL4 Multipurpose Register read&quot;, _ModuleName, $time);</font>
1416                                                  end
                   <font color = "red">==>  MISSING_ELSE</font>
1417                                              end else begin // BL=8
1418       1/1                                        bl_pipeline[2*write_latency + 1] = 8;
1419       1/1                                        if (odt_in) begin
1420       <font color = "red">0/1     ==>                                    ck_odth8 &lt;= ck_cntr;</font>
1421                                                  end
                        MISSING_ELSE
1422                                              end
1423       1/1                                    for (j=0; j&lt;(burst_length + 4); j=j+1) begin
1424       1/1                                        dyn_odt_pipeline[2*(write_latency - 2) + j] = 1'b1; // ODTLcnw = WL - 2, ODTLcwn = BL/2 + 2
1425                                              end
1426       1/1                                    ck_bank_write[bank] &lt;= ck_cntr;
1427       1/1                                    ck_group_write[bank[1]] &lt;= ck_cntr;
1428       1/1                                    ck_write &lt;= ck_cntr;
1429                                          end
1430                                      end
1431                                      READ : begin
1432       1/1                                if (!dll_locked)
1433       <font color = "red">0/1     ==>                            $fdisplay(HANDLE, &quot;%s: at time %t WARNING: tDLLK violation during %s.&quot;, _ModuleName, $time, cmd_string[cmd]);</font>
                        MISSING_ELSE
1434       1/1                                if (mpr_en &amp;&amp; (addr[1:0] != 2'b00)) begin
1435       <font color = "red">0/1     ==>                            $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s Failure.  addr[1:0] must be zero during Multipurpose Register Read.&quot;, _ModuleName, $time, cmd_string[cmd]);</font>
1436       <font color = "red">0/2     ==>                            if (STOP_ON_ERROR) $stop(0);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1437       1/1                                end else if (!init_done) begin
1438       <font color = "red">0/1     ==>                            $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s Failure.  Initialization sequence is not complete.&quot;, _ModuleName, $time, cmd_string[cmd]);</font>
1439       <font color = "red">0/2     ==>                            if (STOP_ON_ERROR) $stop(0);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1440       1/1                                end else if (!active_bank[bank] &amp;&amp; !mpr_en) begin
1441       <font color = "red">0/2     ==>                            if (check_strict_timing) $fdisplay(HANDLE, &quot;%m: at time %t ERROR: %s Failure.  Bank %d must be Activated.&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1442       <font color = "red">0/2     ==>                            if (STOP_ON_ERROR) $stop(0);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1443       1/1                                end else if (auto_precharge_bank[bank]) begin
1444       <font color = "red">0/1     ==>                            $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s Failure.  Auto Precharge is scheduled to bank %d.&quot;, _ModuleName, $time, cmd_string[cmd], bank);</font>
1445       <font color = "red">0/2     ==>                            if (STOP_ON_ERROR) $stop(0);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1446       1/1                                end else if (ck_cntr - ck_read &lt; burst_length/2) begin
1447       <font color = "red">0/1     ==>                            $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s Failure.  Illegal burst interruption.&quot;, _ModuleName, $time, cmd_string[cmd]);</font>
1448       <font color = "red">0/2     ==>                            if (STOP_ON_ERROR) $stop(0);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1449                                          end else begin
1450       1/1                                    if (addr[AP] &amp;&amp; !mpr_en) begin
1451       1/1                                        auto_precharge_bank[bank] = 1'b1;
1452       1/1                                        read_precharge_bank[bank] = 1'b1;
1453                                              end
                        MISSING_ELSE
1454       1/1                                    col = {addr[BC-1:AP+1], addr[AP-1:0]}; // assume BC &gt; AP
1455       1/1                                    if (col &gt;= 1&lt;&lt;COL_BITS) begin
1456       <font color = "red">0/1     ==>                                $fdisplay(HANDLE, &quot;%s: at time %t WARNING: col = %h does not exist.  Maximum col = %h&quot;, _ModuleName, $time, col, (1&lt;&lt;COL_BITS)-1);</font>
1457                                              end
                        MISSING_ELSE
1458       2/2                                    if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s bank %d col %h, auto precharge %d&quot;, _ModuleName, $time, cmd_string[cmd], bank, col, addr[AP]);
                   <font color = "red">==>  MISSING_ELSE</font>
1459       1/1                                    rd_pipeline[2*read_latency - 1]  = 1;
1460       1/1                                    ba_pipeline[2*read_latency - 1]  = bank;
1461       1/1                                    row_pipeline[2*read_latency - 1] = active_row[bank];
1462       1/1                                    col_pipeline[2*read_latency - 1] = col;
1463       1/1                                    if ((!addr[BC] &amp;&amp; blotf) || (burst_length == 4)) begin // BL=4
1464       <font color = "red">0/1     ==>                                bl_pipeline[2*read_latency - 1] = 4;</font>
1465       <font color = "red">0/1     ==>                                if (mpr_en &amp;&amp; col%4) begin</font>
1466       <font color = "red">0/1     ==>                                    $fdisplay(HANDLE, &quot;%s: at time %t WARNING: col[1:0] must be set to 2'b00 during a BL4 Multipurpose Register read&quot;, _ModuleName, $time);</font>
1467                                                  end
                   <font color = "red">==>  MISSING_ELSE</font>
1468                                              end else begin // BL=8
1469       1/1                                        bl_pipeline[2*read_latency - 1] = 8;
1470       1/1                                        if (mpr_en &amp;&amp; col%8) begin
1471       <font color = "red">0/1     ==>                                    $fdisplay(HANDLE, &quot;%s: at time %t WARNING: col[2:0] must be set to 3'b000 during a BL8 Multipurpose Register read&quot;, _ModuleName, $time);</font>
1472                                                  end
                        MISSING_ELSE
1473                                              end
1474       1/1                                    rd_bc = addr[BC];
1475       1/1                                    ck_bank_read[bank] &lt;= ck_cntr;
1476       1/1                                    ck_group_read[bank[1]] &lt;= ck_cntr;
1477       1/1                                    ck_read &lt;= ck_cntr;
1478                                          end
1479                                      end
1480                                      ZQ : begin
1481       1/1                                if (mpr_en) begin
1482       <font color = "red">0/1     ==>                            $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s Failure.  Multipurpose Register must be disabled.&quot;, _ModuleName, $time, cmd_string[cmd]);</font>
1483       <font color = "red">0/2     ==>                            if (STOP_ON_ERROR) $stop(0);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1484       1/1                                end else if (|active_bank) begin
1485       <font color = "red">0/1     ==>                            $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s Failure.  All banks must be Precharged.&quot;, _ModuleName, $time, cmd_string[cmd]);</font>
1486       <font color = "red">0/2     ==>                            if (STOP_ON_ERROR) $stop(0);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1487                                          end else begin
1488       2/2                                    if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: %s long = %d&quot;, _ModuleName, $time, cmd_string[cmd], addr[AP]);
                   <font color = "red">==>  MISSING_ELSE</font>
1489       1/1                                    if (addr[AP]) begin
1490       1/1                                        zq_set = 1;
1491       1/1                                        if (init_done) begin
1492       <font color = "red">0/1     ==>                                    ck_zqoper &lt;= ck_cntr;</font>
1493                                                  end else begin
1494       1/1                                            ck_zqinit &lt;= ck_cntr;
1495                                                  end
1496                                              end else begin
1497       <font color = "red">0/1     ==>                                ck_zqcs &lt;= ck_cntr;</font>
1498                                              end
1499                                          end
1500                                      end
1501                                      NOP: begin
1502       1/1                                if (in_power_down) begin
1503       <font color = "red">0/1     ==>                            if (($time - tm_freq_change &lt; TCKSRX) || (ck_cntr - ck_freq_change &lt; TCKSRX_TCK))</font>
1504       <font color = "red">0/1     ==>                                $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tCKSRX violation during Power Down Exit&quot;, _ModuleName, $time);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1505       <font color = "red">0/1     ==>                            if ($time - tm_cke_cmd &gt; TPD_MAX)</font>
1506       <font color = "red">0/1     ==>                                $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tPD maximum violation during Power Down Exit&quot;, _ModuleName, $time);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1507       <font color = "red">0/2     ==>                            if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: Power Down Exit&quot;, _ModuleName, $time);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1508       <font color = "red">0/1     ==>                            in_power_down = 0;</font>
1509       <font color = "red">0/1     ==>                            if ((active_bank == 0) &amp;&amp; low_power) begin // precharge power down with dll off</font>
1510       <font color = "red">0/1     ==>                                if (ck_cntr - ck_odt &lt; write_latency - 1)</font>
1511       <font color = "red">0/1     ==>                                    $fdisplay(HANDLE, &quot;%s: at time %t WARNING: tANPD violation during Power Down Exit.  Synchronous or asynchronous change in termination resistance is possible.&quot;, _ModuleName, $time);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1512       <font color = "red">0/1     ==>                                tm_slow_exit_pd &lt;= $time;</font>
1513       <font color = "red">0/1     ==>                                ck_slow_exit_pd &lt;= ck_cntr;</font>
1514                                              end
                   <font color = "red">==>  MISSING_ELSE</font>
1515       <font color = "red">0/1     ==>                            tm_power_down &lt;= $time;</font>
1516       <font color = "red">0/1     ==>                            ck_power_down &lt;= ck_cntr;</font>
1517                                          end
                        MISSING_ELSE
1518       1/1                                if (in_self_refresh) begin
1519       <font color = "red">0/1     ==>                            if (($time - tm_freq_change &lt; TCKSRX) || (ck_cntr - ck_freq_change &lt; TCKSRX_TCK))</font>
1520       <font color = "red">0/1     ==>                                $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tCKSRX violation during Self Refresh Exit&quot;, _ModuleName, $time);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1521       <font color = "red">0/1     ==>                            if (ck_cntr - ck_cke_cmd &lt; TCKESR_TCK)</font>
1522       <font color = "red">0/1     ==>                                $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tCKESR violation during Self Refresh Exit&quot;, _ModuleName, $time);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1523       <font color = "red">0/1     ==>                            if ($time - tm_cke &lt; TISXR)</font>
1524       <font color = "red">0/1     ==>                                $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tISXR violation during Self Refresh Exit&quot;, _ModuleName, $time);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1525       <font color = "red">0/2     ==>                            if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: Self Refresh Exit&quot;, _ModuleName, $time);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1526       <font color = "red">0/1     ==>                            in_self_refresh = 0;</font>
1527       <font color = "red">0/1     ==>                            ck_dll_reset &lt;= ck_cntr;</font>
1528       <font color = "red">0/1     ==>                            ck_self_refresh &lt;= ck_cntr;</font>
1529       <font color = "red">0/1     ==>                            tm_self_refresh &lt;= $time;</font>
1530       <font color = "red">0/1     ==>                            tm_refresh &lt;= $time;</font>
1531                                          end
                        MISSING_ELSE
1532                                      end
                   <font color = "red">==>  MISSING_DEFAULT</font>
1533                                  endcase
1534       1/1                        if ((prev_cke !== 1) &amp;&amp; (cmd !== NOP)) begin
1535       <font color = "red">0/1     ==>                    $fdisplay(HANDLE, &quot;%s: at time %t ERROR: NOP or Deselect is required when CKE goes active.&quot;, _ModuleName, $time);</font>
1536                                  end
                        MISSING_ELSE
1537                    
1538       1/1                        if (!init_done) begin
1539       1/1                            case (init_step)
1540                                          0 : begin
1541       1/1                                    if ($time - tm_rst_n &lt; 500000 &amp;&amp; check_strict_timing)
1542       <font color = "red">0/1     ==>                                $fdisplay(HANDLE, &quot;%s at time %t WARNING: 500 us is required after RST_N goes inactive before CKE goes active.&quot;, _ModuleName, $time);</font>
                        MISSING_ELSE
1543       1/1                                    tm_txpr &lt;= $time;
1544       1/1                                    ck_txpr &lt;= ck_cntr;
1545       1/1                                    init_step = init_step + 1;
1546                                          end
1547       2/2                                1 : if (dll_en) init_step = init_step + 1;
                        MISSING_ELSE
1548                                          2 : begin
1549       1/1                                    if (&amp;init_mode_reg &amp;&amp; init_dll_reset &amp;&amp; zq_set) begin
1550       2/2                                        if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: Initialization Sequence is complete&quot;, _ModuleName, $time);
                   <font color = "red">==>  MISSING_ELSE</font>
1551       1/1                                        init_done = 1;
1552                                              end
                        MISSING_ELSE
1553                                          end
                   <font color = "red">==>  MISSING_DEFAULT</font>
1554                                      endcase
1555                                  end
                        MISSING_ELSE
1556       1/1                    end else if (prev_cke) begin
1557       <font color = "red">0/1     ==>                if ((!init_done) &amp;&amp; (init_step &gt; 1)) begin</font>
1558       <font color = "red">0/1     ==>                    $fdisplay(HANDLE, &quot;%s: at time %t ERROR: CKE must remain active until the initialization sequence is complete.&quot;, _ModuleName, $time);</font>
1559       <font color = "red">0/2     ==>                    if (STOP_ON_ERROR) $stop(0);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1560                                  end
                   <font color = "red">==>  MISSING_ELSE</font>
1561       <font color = "red">0/1     ==>                case (cmd)</font>
1562                                      REFRESH : begin
1563       <font color = "red">0/1     ==>                        if ($time - tm_txpr &lt; TXPR)</font>
1564       <font color = "red">0/1     ==>                            $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tXPR violation during %s&quot;, _ModuleName, $time, cmd_string[SELF_REF]);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1565       <font color = "red">0/1     ==>                        for (j=0; j&lt;=SELF_REF; j=j+1) begin</font>
1566       <font color = "red">0/1     ==>                            chk_err(DIFF_BANK, bank, j, SELF_REF);</font>
1567                                          end
1568                    
1569       <font color = "red">0/1     ==>                        if (mpr_en) begin</font>
1570       <font color = "red">0/1     ==>                            $fdisplay(HANDLE, &quot;%s: at time %t ERROR: Self Refresh Failure.  Multipurpose Register must be disabled.&quot;, _ModuleName, $time);</font>
1571       <font color = "red">0/2     ==>                            if (STOP_ON_ERROR) $stop(0);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1572       <font color = "red">0/1     ==>                        end else if (|active_bank) begin</font>
1573       <font color = "red">0/1     ==>                            $fdisplay(HANDLE, &quot;%s: at time %t ERROR: Self Refresh Failure.  All banks must be Precharged.&quot;, _ModuleName, $time);</font>
1574       <font color = "red">0/2     ==>                            if (STOP_ON_ERROR) $stop(0);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1575       <font color = "red">0/1     ==>                        end else if (odt_state) begin</font>
1576       <font color = "red">0/1     ==>                            $fdisplay(HANDLE, &quot;%s: at time %t ERROR: Self Refresh Failure.  ODT must be off prior to entering Self Refresh&quot;, _ModuleName, $time);</font>
1577       <font color = "red">0/2     ==>                            if (STOP_ON_ERROR) $stop(0);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1578       <font color = "red">0/1     ==>                        end else if (!init_done) begin</font>
1579       <font color = "red">0/1     ==>                            $fdisplay(HANDLE, &quot;%s: at time %t ERROR: Self Refresh Failure.  Initialization sequence is not complete.&quot;, _ModuleName, $time);</font>
1580       <font color = "red">0/2     ==>                            if (STOP_ON_ERROR) $stop(0);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1581                                          end else begin
1582       <font color = "red">0/2     ==>                            if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: Self Refresh Enter&quot;, _ModuleName, $time);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1583       <font color = "red">0/1     ==>                if (feature_pasr)</font>
1584                                                  // Partial Array Self Refresh
1585       <font color = "red">0/1     ==>                                case (pasr)</font>
1586       <font color = "red">0/1     ==>                                    3'b000 : ;//keep Bank 0-7</font>
1587       <font color = "red">0/2     ==>                                    3'b001 : begin if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: Banks 4-7 will be lost due to Partial Array Self Refresh&quot;, _ModuleName, $time); erase_banks(8'hF0); end</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1587       <font color = "red">0/1     ==>                                    3'b001 : begin if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: Banks 4-7 will be lost due to Partial Array Self Refresh&quot;, _ModuleName, $time); erase_banks(8'hF0); end</font>
1588       <font color = "red">0/2     ==>                                    3'b010 : begin if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: Banks 2-7 will be lost due to Partial Array Self Refresh&quot;, _ModuleName, $time); erase_banks(8'hFC); end</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1588       <font color = "red">0/1     ==>                                    3'b010 : begin if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: Banks 2-7 will be lost due to Partial Array Self Refresh&quot;, _ModuleName, $time); erase_banks(8'hFC); end</font>
1589       <font color = "red">0/2     ==>                                    3'b011 : begin if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: Banks 1-7 will be lost due to Partial Array Self Refresh&quot;, _ModuleName, $time); erase_banks(8'hFE); end</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1589       <font color = "red">0/1     ==>                                    3'b011 : begin if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: Banks 1-7 will be lost due to Partial Array Self Refresh&quot;, _ModuleName, $time); erase_banks(8'hFE); end</font>
1590       <font color = "red">0/2     ==>                                    3'b100 : begin if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: Banks 0-1 will be lost due to Partial Array Self Refresh&quot;, _ModuleName, $time); erase_banks(8'h03); end</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1590       <font color = "red">0/1     ==>                                    3'b100 : begin if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: Banks 0-1 will be lost due to Partial Array Self Refresh&quot;, _ModuleName, $time); erase_banks(8'h03); end</font>
1591       <font color = "red">0/2     ==>                                    3'b101 : begin if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: Banks 0-3 will be lost due to Partial Array Self Refresh&quot;, _ModuleName, $time); erase_banks(8'h0F); end</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1591       <font color = "red">0/1     ==>                                    3'b101 : begin if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: Banks 0-3 will be lost due to Partial Array Self Refresh&quot;, _ModuleName, $time); erase_banks(8'h0F); end</font>
1592       <font color = "red">0/2     ==>                                    3'b110 : begin if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: Banks 0-5 will be lost due to Partial Array Self Refresh&quot;, _ModuleName, $time); erase_banks(8'h3F); end</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1592       <font color = "red">0/1     ==>                                    3'b110 : begin if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: Banks 0-5 will be lost due to Partial Array Self Refresh&quot;, _ModuleName, $time); erase_banks(8'h3F); end</font>
1593       <font color = "red">0/2     ==>                                    3'b111 : begin if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: Banks 0-6 will be lost due to Partial Array Self Refresh&quot;, _ModuleName, $time); erase_banks(8'h7F); end</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1593       <font color = "red">0/1     ==>                                    3'b111 : begin if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: Banks 0-6 will be lost due to Partial Array Self Refresh&quot;, _ModuleName, $time); erase_banks(8'h7F); end</font>
                   <font color = "red">==>  MISSING_DEFAULT</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1594                                    endcase
1595       <font color = "red">0/1     ==>                            in_self_refresh = 1;</font>
1596       <font color = "red">0/1     ==>                            dll_locked = 0;</font>
1597                                          end
1598                                      end
1599                                      NOP : begin
1600                                          // entering precharge power down with dll off and tANPD has not been satisfied
1601       <font color = "red">0/1     ==>                        if (low_power &amp;&amp; (active_bank == 0) &amp;&amp; |odt_pipeline)</font>
1602       <font color = "red">0/1     ==>                            $fdisplay(HANDLE, &quot;%s: at time %t WARNING: tANPD violation during %s.   Synchronous or asynchronous change in termination resistance is possible.&quot;, _ModuleName, $time, cmd_string[PWR_DOWN]);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1603       <font color = "red">0/1     ==>                        if ($time - tm_txpr &lt; TXPR)</font>
1604       <font color = "red">0/1     ==>                            $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tXPR violation during %s&quot;, _ModuleName, $time, cmd_string[PWR_DOWN]);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1605       <font color = "red">0/1     ==>                        for (j=0; j&lt;=SELF_REF; j=j+1) begin</font>
1606       <font color = "red">0/1     ==>                            chk_err(DIFF_BANK, bank, j, PWR_DOWN);</font>
1607                                          end
1608                    
1609       <font color = "red">0/1     ==>                        if (mpr_en) begin</font>
1610       <font color = "red">0/1     ==>                            $fdisplay(HANDLE, &quot;%s: at time %t ERROR: Power Down Failure.  Multipurpose Register must be disabled.&quot;, _ModuleName, $time);</font>
1611       <font color = "red">0/2     ==>                            if (STOP_ON_ERROR) $stop(0);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1612       <font color = "red">0/1     ==>                        end else if (!init_done) begin</font>
1613       <font color = "red">0/1     ==>                            $fdisplay(HANDLE, &quot;%s: at time %t ERROR: Power Down Failure.  Initialization sequence is not complete.&quot;, _ModuleName, $time);</font>
1614       <font color = "red">0/2     ==>                            if (STOP_ON_ERROR) $stop(0);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1615                                          end else begin
1616       <font color = "red">0/1     ==>                            if (DEBUG) begin</font>
1617       <font color = "red">0/1     ==>                                if (|active_bank) begin</font>
1618       <font color = "red">0/1     ==>                                    $fdisplay(HANDLE, &quot;%s: at time %t INFO: Active Power Down Enter&quot;, _ModuleName, $time);</font>
1619                                                  end else begin
1620       <font color = "red">0/1     ==>                                    $fdisplay(HANDLE, &quot;%s: at time %t INFO: Precharge Power Down Enter&quot;, _ModuleName, $time);</font>
1621                                                  end
1622                                              end
                   <font color = "red">==>  MISSING_ELSE</font>
1623       <font color = "red">0/1     ==>                            in_power_down = 1;</font>
1624                                          end
1625                                      end
1626                                      default : begin
1627       <font color = "red">0/1     ==>                        $fdisplay(HANDLE, &quot;%s: at time %t ERROR: NOP, Deselect, or Refresh is required when CKE goes inactive.&quot;, _ModuleName, $time);</font>
1628                                      end
1629                                  endcase
1630       1/1                    end else if (in_self_refresh || in_power_down) begin
1631       <font color = "red">0/1     ==>                if ((ck_cntr - ck_cke_cmd &lt;= TCPDED) &amp;&amp; (cmd !== NOP))</font>
1632       <font color = "red">0/1     ==>                    $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tCPDED violation during Power Down or Self Refresh Entry.  NOP or Deselect is required.&quot;, _ModuleName, $time);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1633                              end
                        MISSING_ELSE
1634       1/1                    prev_cke  = cke;
1635                    
1636                          end
1637                      endtask
1638                    
1639                        task data_task;
1640                            reg [BA_BITS-1:0] bank;
1641                            reg [ROW_BITS-1:0] row;
1642                            reg [COL_BITS-1:0] col;
1643                            integer i;
1644                            integer j;
1645                            begin
1646                    
1647       1/1                      if (diff_ck) begin
1648       1/1                          for (i=0; i&lt;32; i=i+1) begin
1649       1/1                              if (dq_in_valid &amp;&amp; dll_locked &amp;&amp; ($time - tm_dqs_neg[i] &lt; $rtoi(TDSS*tck_avg)))
1650       <font color = "red">0/1     ==>                          $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tDSS violation on %s bit %d&quot;, _ModuleName, $time, dqs_string[i/16], i%16);</font>
                        MISSING_ELSE
1651       1/1                              if (check_write_dqs_high[i])
1652       <font color = "red">0/1     ==>                          $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s bit %d latching edge required during the preceding clock period.&quot;, _ModuleName, $time, dqs_string[i/16], i%16);</font>
                        MISSING_ELSE
1653                                    end
1654       1/1                          check_write_dqs_high &lt;= 0;
1655                                end else begin
1656       1/1                          for (i=0; i&lt;32; i=i+1) begin
1657       1/1                              if (dll_locked &amp;&amp; dq_in_valid) begin
1658       1/1                                  tm_tdqss = abs_value(1.0*tm_ck_pos - tm_dqss_pos[i]);
1659       1/1                                  if ((tm_tdqss &lt; tck_avg/2.0) &amp;&amp; (tm_tdqss &gt; TDQSS*tck_avg))
1660       <font color = "red">0/1     ==>                              $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tDQSS violation on %s bit %d&quot;, _ModuleName, $time, dqs_string[i/16], i%16);</font>
                        MISSING_ELSE
1661                                        end
                        MISSING_ELSE
1662       1/1                              if (check_write_dqs_low[i])
1663       <font color = "red">0/1     ==>                          $fdisplay(HANDLE, &quot;%s: at time %t ERROR: %s bit %d latching edge required during the preceding clock period&quot;, _ModuleName, $time, dqs_string[i/16], i%16);</font>
                        MISSING_ELSE
1664                                    end
1665       1/1                          check_write_preamble &lt;= 0;
1666       1/1                          check_write_postamble &lt;= 0;
1667       1/1                          check_write_dqs_low &lt;= 0;
1668                                end
1669                    
1670       1/1                      if (wr_pipeline[0] || rd_pipeline[0]) begin
1671       1/1                          bank = ba_pipeline[0];
1672       1/1                          row = row_pipeline[0];
1673       1/1                          col = col_pipeline[0];
1674       1/1                          burst_cntr = 0;
1675       1/1                          memory_read(bank, row, col, memory_data);
1676                                end
                        MISSING_ELSE
1677                    
1678                                // burst counter
1679       1/1                      if (burst_cntr &lt; burst_length) begin
1680       1/1                          burst_position = col ^ burst_cntr;
1681       1/1                          if (!burst_order) begin
1682       1/1                              burst_position[BO_BITS-1:0] = col + burst_cntr;
1683                                    end
                   <font color = "red">==>  MISSING_ELSE</font>
1684       1/1                          burst_cntr = burst_cntr + 1;
1685                                end
                        MISSING_ELSE
1686                    
1687                                // write dqs counter
1688       1/1                      if (wr_pipeline[WDQS_PRE + 1]) begin
1689       1/1                          wdqs_cntr = WDQS_PRE + bl_pipeline[WDQS_PRE + 1] + WDQS_PST - 1;
1690                                end
                        MISSING_ELSE
1691                                // write dqs
1692       1/1                      if ((wr_pipeline[2]) &amp;&amp; (wdq_cntr == 0)) begin //write preamble
1693       1/1                          check_write_preamble &lt;= ({DQS_BITS{1'b1}}&lt;&lt;16) | {DQS_BITS{1'b1}};
1694                                end
                        MISSING_ELSE
1695       1/1                      if (wdqs_cntr &gt; 1) begin  // write data
1696       1/1                          if ((wdqs_cntr - WDQS_PST)%2) begin
1697       1/1                              check_write_dqs_high &lt;= ({DQS_BITS{1'b1}}&lt;&lt;16) | {DQS_BITS{1'b1}};
1698                                    end else begin
1699       1/1                              check_write_dqs_low &lt;= ({DQS_BITS{1'b1}}&lt;&lt;16) | {DQS_BITS{1'b1}};
1700                                    end
1701                                end
                        MISSING_ELSE
1702       1/1                      if (wdqs_cntr == WDQS_PST) begin // write postamble
1703       1/1                          check_write_postamble &lt;= ({DQS_BITS{1'b1}}&lt;&lt;16) | {DQS_BITS{1'b1}};
1704                                end
                        MISSING_ELSE
1705       1/1                      if (wdqs_cntr &gt; 0) begin
1706       1/1                          wdqs_cntr = wdqs_cntr - 1;
1707                                end
                        MISSING_ELSE
1708                    
1709                                // write dq
1710       1/1                      if (dq_in_valid) begin // write data
1711       1/1                          bit_mask = 0;
1712       1/1                          if (diff_ck) begin
1713       1/1                              for (i=0; i&lt;DM_BITS; i=i+1) begin
1714       1/1                                  bit_mask = bit_mask | ({`DQ_PER_DQS{~dm_in_neg[i]}}&lt;&lt;(burst_position*DQ_BITS + i*`DQ_PER_DQS));
1715                                        end
1716       1/1                              memory_data = (dq_in_neg&lt;&lt;(burst_position*DQ_BITS) &amp; bit_mask) | (memory_data &amp; ~bit_mask);
1717                                    end else begin
1718       1/1                              for (i=0; i&lt;DM_BITS; i=i+1) begin
1719       1/1                                  bit_mask = bit_mask | ({`DQ_PER_DQS{~dm_in_pos[i]}}&lt;&lt;(burst_position*DQ_BITS + i*`DQ_PER_DQS));
1720                                        end
1721       1/1                              memory_data = (dq_in_pos&lt;&lt;(burst_position*DQ_BITS) &amp; bit_mask) | (memory_data &amp; ~bit_mask);
1722                                    end
1723       1/1                          dq_temp = memory_data&gt;&gt;(burst_position*DQ_BITS);
1724       2/2                          if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: WRITE @ DQS= bank = %h row = %h col = %h data = %h&quot;, _ModuleName, $time, bank, row, (-1*BL_MAX &amp; col) + burst_position, dq_temp);
                   <font color = "red">==>  MISSING_ELSE</font>
1725       1/1                          if (burst_cntr%BL_MIN == 0) begin
1726       1/1                              memory_write(bank, row, col, memory_data);
1727                                    end
                        MISSING_ELSE
1728                                end
                        MISSING_ELSE
1729       1/1                      if (wr_pipeline[1]) begin
1730       1/1                          wdq_cntr = bl_pipeline[1];
1731                                end
                        MISSING_ELSE
1732       1/1                      if (wdq_cntr &gt; 0) begin
1733       1/1                          wdq_cntr = wdq_cntr - 1;
1734       1/1                          dq_in_valid = 1'b1;
1735                                end else begin
1736       1/1                          dq_in_valid = 1'b0;
1737       1/1                          dqs_in_valid &lt;= 1'b0;
1738       1/1                          for (i=0; i&lt;31; i=i+1) begin
1739       1/1                              wdqs_pos_cntr[i]    &lt;= 0;
1740                                    end
1741                                end
1742       1/1                      if (wr_pipeline[0]) begin
1743       1/1                          b2b_write &lt;= 1'b0;
1744                                end
                        MISSING_ELSE
1745       1/1                      if (wr_pipeline[2]) begin
1746       1/1                          if (dqs_in_valid) begin
1747       <font color = "red">0/1     ==>                      b2b_write &lt;= 1'b1;</font>
1748                                    end
                        MISSING_ELSE
1749       1/1                          dqs_in_valid &lt;= 1'b1;
1750       1/1                          wr_burst_length = bl_pipeline[2];
1751                                end
                        MISSING_ELSE
1752                    
1753                                // read dqs enable counter
1754       1/1                      if (rd_pipeline[RDQSEN_PRE]) begin
1755       1/1                          rdqsen_cntr = RDQSEN_PRE + bl_pipeline[RDQSEN_PRE] + RDQSEN_PST - 1;
1756                                end
                        MISSING_ELSE
1757       1/1                      if (rdqsen_cntr &gt; 0) begin
1758       1/1                          rdqsen_cntr = rdqsen_cntr - 1;
1759       1/1                          dqs_out_en = 1'b1;
1760                                end else begin
1761       1/1                          dqs_out_en = 1'b0;
1762                                end
1763                    
1764                                // read dqs counter
1765       1/1                      if (rd_pipeline[RDQS_PRE]) begin
1766       1/1                          rdqs_cntr = RDQS_PRE + bl_pipeline[RDQS_PRE] + RDQS_PST - 1;
1767                                end
                        MISSING_ELSE
1768                                // read dqs
1769       1/1                      if (((rd_pipeline&gt;&gt;1 &amp; {RDQS_PRE{1'b1}}) &gt; 0) &amp;&amp; (rdq_cntr == 0)) begin //read preamble
1770       1/1                          dqs_out = 1'b0;
1771       1/1                      end else if (rdqs_cntr &gt; RDQS_PST) begin // read data
1772       1/1                          dqs_out = rdqs_cntr - RDQS_PST;
1773       1/1                      end else if (rdqs_cntr &gt; 0) begin // read postamble
1774       1/1                          dqs_out = 1'b0;
1775                                end else begin
1776       1/1                          dqs_out = 1'b1;
1777                                end
1778       1/1                      if (rdqs_cntr &gt; 0) begin
1779       1/1                          rdqs_cntr = rdqs_cntr - 1;
1780                                end
                        MISSING_ELSE
1781                    
1782                                // read dq enable counter
1783       1/1                      if (rd_pipeline[RDQEN_PRE]) begin
1784       1/1                          rdqen_cntr = RDQEN_PRE + bl_pipeline[RDQEN_PRE] + RDQEN_PST;
1785                                end
                        MISSING_ELSE
1786       1/1                      if (rdqen_cntr &gt; 0) begin
1787       1/1                          rdqen_cntr = rdqen_cntr - 1;
1788       1/1                          dq_out_en = 1'b1;
1789                                end else begin
1790       1/1                          dq_out_en = 1'b0;
1791                                end
1792                                // read dq
1793       1/1                      if (rd_pipeline[0]) begin
1794       1/1                          rdq_cntr = bl_pipeline[0];
1795                                end
                        MISSING_ELSE
1796       1/1                      if (rdq_cntr &gt; 0) begin // read data
1797       1/1                          if (mpr_en) begin
1798                    `ifdef MPR_DQ0 // DQ0 output MPR data, other DQ low
1799                                        if (mpr_select == 2'b00) begin // Calibration Pattern
1800                                            dq_temp = {DQS_BITS{{`DQ_PER_DQS-1{1'b0}}, calibration_pattern[burst_position]}};
1801                                        end else if (odts_readout &amp;&amp; (mpr_select == 2'b11)) begin // Temp Sensor (ODTS)
1802                                            dq_temp = {DQS_BITS{{`DQ_PER_DQS-1{1'b0}}, temp_sensor[burst_position]}};
1803                                        end else begin // Reserved
1804                                            dq_temp = {DQS_BITS{{`DQ_PER_DQS-1{1'b0}}, 1'bx}};
1805                                        end
1806                    `else // all DQ output MPR data
1807       1/1                              if (mpr_select == 2'b00) begin // Calibration Pattern
1808       1/1                                  dq_temp = {DQS_BITS{{`DQ_PER_DQS{calibration_pattern[burst_position]}}}};
1809       <font color = "red">0/1     ==>                      end else if (odts_readout &amp;&amp; (mpr_select == 2'b11)) begin // Temp Sensor (ODTS)</font>
1810       <font color = "red">0/1     ==>                          dq_temp = {DQS_BITS{{`DQ_PER_DQS{temp_sensor[burst_position]}}}};</font>
1811                                        end else begin // Reserved
1812       <font color = "red">0/1     ==>                          dq_temp = {DQS_BITS{{`DQ_PER_DQS{1'bx}}}};</font>
1813                                        end
1814                    `endif
1815       2/2                              if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t READ @ DQS MultiPurpose Register %d, col = %d,  data = %b&quot;, _ModuleName, $time, mpr_select, burst_position, dq_temp[0]);
                   <font color = "red">==>  MISSING_ELSE</font>
1816                                    end else begin
1817       1/1                              dq_temp = memory_data&gt;&gt;(burst_position*DQ_BITS);
1818       2/2                              if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: READ @ DQS= bank = %h row = %h col = %h data = %h&quot;, _ModuleName, $time, bank, row, (-1*BL_MAX &amp; col) + burst_position, dq_temp);
                   <font color = "red">==>  MISSING_ELSE</font>
1819                                    end
1820       1/1                          dq_out = dq_temp;
1821       1/1                          rdq_cntr = rdq_cntr - 1;
1822                                end else begin
1823       1/1                          dq_out = {DQ_BITS{1'b1}};
1824                                end
1825                    
1826                                // delay signals prior to output
1827       1/1                      if (RANDOM_OUT_DELAY &amp;&amp; (dqs_out_en || (|dqs_out_en_dly) || dq_out_en || (|dq_out_en_dly))) begin
1828       <font color = "red">0/1     ==>                  for (i=0; i&lt;DQS_BITS; i=i+1) begin</font>
1829                                        // DQSCK requirements
1830                                        // 1.) less than tDQSCK
1831                                        // 2.) greater than -tDQSCK
1832                                        // 3.) cannot change more than tQH + tDQSQ from previous DQS edge
1833       <font color = "red">0/1     ==>                      dqsck_max = TDQSCK;</font>
1834       <font color = "red">0/1     ==>                      if (dqsck_max &gt; dqsck[i] + TQH*tck_avg + TDQSQ) begin</font>
1835       <font color = "red">0/1     ==>                          dqsck_max = dqsck[i] + TQH*tck_avg + TDQSQ;</font>
1836                                        end
                   <font color = "red">==>  MISSING_ELSE</font>
1837       <font color = "red">0/1     ==>                      dqsck_min = -1*TDQSCK;</font>
1838       <font color = "red">0/1     ==>                      if (dqsck_min &lt; dqsck[i] - TQH*tck_avg - TDQSQ) begin</font>
1839       <font color = "red">0/1     ==>                          dqsck_min = dqsck[i] - TQH*tck_avg - TDQSQ;</font>
1840                                        end
                   <font color = "red">==>  MISSING_ELSE</font>
1841                    
1842                                        // DQSQ requirements
1843                                        // 1.) less than tDQSQ
1844                                        // 2.) greater than 0
1845                                        // 3.) greater than tQH from the previous DQS edge
1846       <font color = "red">0/1     ==>                      dqsq_min = 0;</font>
1847       <font color = "red">0/1     ==>                      if (dqsq_min &lt; dqsck[i] - TQH*tck_avg) begin</font>
1848       <font color = "red">0/1     ==>                          dqsq_min = dqsck[i] - TQH*tck_avg;</font>
1849                                        end
                   <font color = "red">==>  MISSING_ELSE</font>
1850       <font color = "red">0/1     ==>                      if (dqsck_min == dqsck_max) begin</font>
1851       <font color = "red">0/1     ==>                          dqsck[i] = dqsck_min;</font>
1852                                        end else begin
1853       <font color = "red">0/1     ==>                          dqsck[i] = $dist_uniform(seed, dqsck_min, dqsck_max);</font>
1854                                        end
1855       <font color = "red">0/1     ==>                      dqsq_max = TDQSQ + dqsck[i];</font>
1856                    
1857       <font color = "red">0/1     ==>                      dqs_out_en_dly[i] &lt;= #(tck_avg/2) dqs_out_en;</font>
1858       <font color = "red">0/1     ==>                      dqs_out_dly[i]    &lt;= #(tck_avg/2 + dqsck[i]) dqs_out;</font>
1859       <font color = "red">0/1     ==>                      if (!write_levelization) begin</font>
1860       <font color = "red">0/1     ==>                          for (j=0; j&lt;`DQ_PER_DQS; j=j+1) begin</font>
1861       <font color = "red">0/1     ==>                              dq_out_en_dly[i*`DQ_PER_DQS + j] &lt;= #(tck_avg/2) dq_out_en;</font>
1862       <font color = "red">0/1     ==>                              if (dqsq_min == dqsq_max) begin</font>
1863       <font color = "red">0/1     ==>                                  dq_out_dly   [i*`DQ_PER_DQS + j] &lt;= #(tck_avg/2 + dqsq_min) dq_out[i*`DQ_PER_DQS + j];</font>
1864                                                end else begin
1865       <font color = "red">0/1     ==>                                  dq_out_dly   [i*`DQ_PER_DQS + j] &lt;= #(tck_avg/2 + $dist_uniform(seed, dqsq_min, dqsq_max)) dq_out[i*`DQ_PER_DQS + j];</font>
1866                                                end
1867                                            end
1868                                        end
                   <font color = "red">==>  MISSING_ELSE</font>
1869                                    end
1870                                end else begin
1871       1/1                          out_delay = tck_avg/2;
1872       1/1                          dqs_out_en_dly &lt;= #(out_delay) {DQS_BITS{dqs_out_en}};
1873       1/1                          dqs_out_dly    &lt;= #(out_delay) {DQS_BITS{dqs_out   }};
1874       1/1                          if (write_levelization !== 1'b1) begin
1875       1/1                              dq_out_en_dly  &lt;= #(out_delay) {DQ_BITS {dq_out_en }};
1876       1/1                              dq_out_dly     &lt;= #(out_delay) {DQ_BITS {dq_out    }};
1877                                    end
                        MISSING_ELSE
1878                                end
1879                            end
1880                        endtask
1881                    
1882                        always @ (posedge rst_n_in) begin : reset
1883                            integer i;
1884       1/1                  if (rst_n_in) begin
1885       1/1                      if ($time &lt; 200000 &amp;&amp; check_strict_timing)
1886       <font color = "red">0/1     ==>                  $fdisplay(HANDLE, &quot;%s at time %t WARNING: 200 us is required before RST_N goes inactive.&quot;, _ModuleName, $time);</font>
                        MISSING_ELSE
1887       1/1                      if (cke_in !== 1'b0)
1888       1/1                          $fdisplay(HANDLE, &quot;%s: at time %t ERROR: CKE must be inactive when RST_N goes inactive.&quot;, _ModuleName, $time);
                        MISSING_ELSE
1889       1/1                      if ($time - tm_cke &lt; 10000)
1890       1/1                          $fdisplay(HANDLE, &quot;%s: at time %t ERROR: CKE must be maintained inactive for 10 ns before RST_N goes inactive.&quot;, _ModuleName, $time);
                        MISSING_ELSE
1891                    
1892                                // clear memory
1893                    `ifdef MAX_MEM
1894                                // verification group does not erase memory
1895                        //    for (banki = 0; banki &lt; `BANKS; banki = banki + 1) begin
1896                        //            $fclose(memfd[banki]);
1897                        //            memfd[banki] = open_bank_file(banki);
1898                        //    end
1899                    `else
1900       1/1                      memory_used &lt;= 0; //erase memory
1901                    `endif
1902                    
1903                            end
                   <font color = "red">==>  MISSING_ELSE</font>
1904                        end
1905                    
1906                        always @(negedge rst_n_in or posedge diff_ck or negedge diff_ck) begin : main
1907                            integer i;
1908       1/1                  if (!rst_n_in) begin
1909       1/1                      reset_task;
1910                            end else begin
1911       1/1                      if (!in_self_refresh &amp;&amp; (diff_ck !== 1'b0) &amp;&amp; (diff_ck !== 1'b1))
1912       <font color = "red">0/1     ==>                  $fdisplay(HANDLE, &quot;%s: at time %t ERROR: CK and CK_N are not allowed to go to an unknown state.&quot;, _ModuleName, $time);</font>
                        MISSING_ELSE
1913       1/1                      data_task;
1914                    
1915                                // Clock Frequency Change is legal:
1916                                // 1.) During Self Refresh
1917                                // 2.) During Precharge Power Down (DLL on or off)
1918       1/1                      if (in_self_refresh || (in_power_down &amp;&amp; (active_bank == 0))) begin
1919       <font color = "red">0/1     ==>                  if (diff_ck) begin</font>
1920       <font color = "red">0/1     ==>                      tjit_per_rtime = $time - tm_ck_pos - tck_avg;</font>
1921                                    end else begin
1922       <font color = "red">0/1     ==>                      tjit_per_rtime = $time - tm_ck_neg - tck_avg;</font>
1923                                    end
1924       <font color = "red">0/1     ==>                  if (dll_locked &amp;&amp; (abs_value(tjit_per_rtime) &gt; TJIT_PER)) begin</font>
1925       <font color = "red">0/1     ==>                      if ((tm_ck_pos - tm_cke_cmd &lt; TCKSRE) || (ck_cntr - ck_cke_cmd &lt; TCKSRE_TCK))</font>
1926       <font color = "red">0/1     ==>                          $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tCKSRE violation during Self Refresh or Precharge Power Down Entry&quot;, _ModuleName, $time);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1927       <font color = "red">0/1     ==>                      if (odt_state) begin</font>
1928       <font color = "red">0/1     ==>                          $fdisplay(HANDLE, &quot;%s: at time %t ERROR: Clock Frequency Change Failure.  ODT must be off prior to Clock Frequency Change.&quot;, _ModuleName, $time);</font>
1929       <font color = "red">0/2     ==>                          if (STOP_ON_ERROR) $stop(0);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1930                                        end else begin
1931       <font color = "red">0/2     ==>                          if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: Clock Frequency Change detected.  DLL Reset is Required.&quot;, _ModuleName, $time);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1932       <font color = "red">0/1     ==>                          tm_freq_change &lt;= $time;</font>
1933       <font color = "red">0/1     ==>                          ck_freq_change &lt;= ck_cntr;</font>
1934       <font color = "red">0/1     ==>                          dll_locked = 0;</font>
1935                                        end
1936                                    end
                   <font color = "red">==>  MISSING_ELSE</font>
1937                                end
                        MISSING_ELSE
1938                    
1939       1/1                      if (diff_ck) begin
1940                                    // check setup of command signals
1941       1/1                          if ($time &gt; TIS) begin
1942       1/1                              if ($time - tm_cke &lt; TIS)
1943       <font color = "red">0/1     ==>                          $fdisplay(HANDLE, &quot;%s: at time %t ERROR:   tIS violation on CKE by %t&quot;, _ModuleName, $time, tm_cke + TIS - $time);</font>
                        MISSING_ELSE
1944       1/1                              if (cke_in) begin
1945       1/1                                  for (i=0; i&lt;22; i=i+1) begin
1946       1/1                                      if ($time - tm_cmd_addr[i] &lt; TIS)
1947       <font color = "red">0/1     ==>                                  $fdisplay(HANDLE, &quot;%s: at time %t ERROR:   tIS violation on %s by %t&quot;, _ModuleName, $time, cmd_addr_string[i], tm_cmd_addr[i] + TIS - $time);</font>
                        MISSING_ELSE
1948                                            end
1949                                        end
                        MISSING_ELSE
1950                                    end
                   <font color = "red">==>  MISSING_ELSE</font>
1951                    
1952                                    // update current state
1953       1/1                          if (dll_locked) begin
1954       1/1                              if (mr_chk == 0) begin
1955       1/1                                  mr_chk = 1;
1956       1/1                              end else if (init_mode_reg[0] &amp;&amp; (mr_chk == 1)) begin
1957                                            // check CL value against the clock frequency
1958       1/1                                  if (cas_latency*tck_avg &lt; CL_TIME &amp;&amp; check_strict_timing)
1959       <font color = "red">0/1     ==>                              $fdisplay(HANDLE, &quot;%s: at time %t ERROR: CAS Latency = %d is illegal @tCK(avg) = %f&quot;, _ModuleName, $time, cas_latency, tck_avg);</font>
                        MISSING_ELSE
1960                                            // check WR value against the clock frequency
1961       1/1                                  if (ceil(write_recovery*tck_avg) &lt; TWR)
1962       <font color = "red">0/1     ==>                              $fdisplay(HANDLE, &quot;%s: at time %t ERROR: Write Recovery = %d is illegal @tCK(avg) = %f&quot;, _ModuleName, $time, write_recovery, tck_avg);</font>
                        MISSING_ELSE
1963                                            // check the CWL value against the clock frequency
1964       1/1                        if (check_strict_timing) begin
1965       1/1                                      case (cas_write_latency)
1966       <font color = "red">0/2     ==>                                  5 : if (tck_avg &lt; 2500.0)                          $fdisplay(HANDLE, &quot;%s: at time %t ERROR: CWL = %d is illegal @tCK(avg) = %f&quot;, _ModuleName, $time, cas_write_latency, tck_avg);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1967       <font color = "red">0/2     ==>                                  6 : if ((tck_avg &lt; 1875.0) || (tck_avg &gt;= 2500.0)) $fdisplay(HANDLE, &quot;%s: at time %t ERROR: CWL = %d is illegal @tCK(avg) = %f&quot;, _ModuleName, $time, cas_write_latency, tck_avg);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1968       <font color = "red">0/2     ==>                                  7 : if ((tck_avg &lt; 1500.0) || (tck_avg &gt;= 1875.0)) $fdisplay(HANDLE, &quot;%s: at time %t ERROR: CWL = %d is illegal @tCK(avg) = %f&quot;, _ModuleName, $time, cas_write_latency, tck_avg);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1969       <font color = "red">0/2     ==>                                  8 : if ((tck_avg &lt; 1250.0) || (tck_avg &gt;= 1500.0)) $fdisplay(HANDLE, &quot;%s: at time %t ERROR: CWL = %d is illegal @tCK(avg) = %f&quot;, _ModuleName, $time, cas_write_latency, tck_avg);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1970       <font color = "red">0/2     ==>                                  9 : if ((tck_avg &lt; 1070.0) || (tck_avg &gt;= 1250.0)) $fdisplay(HANDLE, &quot;%s: at time %t ERROR: CWL = %d is illegal @tCK(avg) = %f&quot;, _ModuleName, $time, cas_write_latency, tck_avg);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
1971       <font color = "red">1/2     ==>                                  10: if ((tck_avg &lt;  937.5) || (tck_avg &gt;= 1070.0)) $fdisplay(HANDLE, &quot;%s: at time %t ERROR: CWL = %d is illegal @tCK(avg) = %f&quot;, _ModuleName, $time, cas_write_latency, tck_avg);</font>
                        MISSING_ELSE
1972       <font color = "red">0/1     ==>                                  default :                                          $fdisplay(HANDLE, &quot;%s: at time %t ERROR: CWL = %d is illegal @tCK(avg) = %f&quot;, _ModuleName, $time, cas_write_latency, tck_avg);</font>
1973                                                endcase
1974                                                // check the CL value against the clock frequency
1975       1/1                                      if (!valid_cl(cas_latency, cas_write_latency))
1976       <font color = "red">0/1     ==>                                  $fdisplay(HANDLE, &quot;%s: at time %t ERROR: CAS Latency = %d is not valid when CAS Write Latency = %d&quot;, _ModuleName, $time, cas_latency, cas_write_latency);</font>
                        MISSING_ELSE
1977                                            end
                   <font color = "red">==>  MISSING_ELSE</font>
1978       1/1                                  mr_chk = 2;
1979                                        end
                        MISSING_ELSE
1980       1/1                          end else if (!in_self_refresh) begin
1981       1/1                              mr_chk = 0;
1982       1/1                              if (ck_cntr - ck_dll_reset == TDLLK) begin
1983       1/1                                  dll_locked = 1;
1984                                        end
                        MISSING_ELSE
1985                                    end
                   <font color = "red">==>  MISSING_ELSE</font>
1986                    
1987       1/1                          if (|auto_precharge_bank) begin
1988       1/1                              for (i=0; i&lt;`BANKS; i=i+1) begin
1989                                            // Write with Auto Precharge Calculation
1990                                            // 1.  Meet minimum tRAS requirement
1991                                            // 2.  Write Latency PLUS BL/2 cycles PLUS WR after Write command
1992       1/1                                  if (write_precharge_bank[i]) begin
1993       1/1                                      if ($time - tm_bank_activate[i] &gt;= TRAS_MIN) begin
1994       1/1                                          if (ck_cntr - ck_bank_write[i] &gt;= write_latency + burst_length/2 + write_recovery) begin
1995       2/2                                              if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: Auto Precharge bank %d&quot;, _ModuleName, $time, i);
                   <font color = "red">==>  MISSING_ELSE</font>
1996       1/1                                              write_precharge_bank[i] = 0;
1997       1/1                                              active_bank[i] = 0;
1998       1/1                                              auto_precharge_bank[i] = 0;
1999       1/1                                              tm_bank_precharge[i] = $time;
2000       1/1                                              tm_precharge = $time;
2001       1/1                                              ck_precharge = ck_cntr;
2002                                                    end
                        MISSING_ELSE
2003                                                end
                        MISSING_ELSE
2004                                            end
                        MISSING_ELSE
2005                                            // Read with Auto Precharge Calculation
2006                                            // 1.  Meet minimum tRAS requirement
2007                                            // 2.  Additive Latency plus 4 cycles after Read command
2008                                            // 3.  tRTP after the last 8-bit prefetch
2009       1/1                                  if (read_precharge_bank[i]) begin
2010       1/1                                      if (($time - tm_bank_activate[i] &gt;= TRAS_MIN) &amp;&amp; (ck_cntr - ck_bank_read[i] &gt;= additive_latency + TRTP_TCK)) begin
2011       1/1                                          read_precharge_bank[i] = 0;
2012                                                    // In case the internal precharge is pushed out by tRTP, tRP starts at the point where
2013                                                    // the internal precharge happens (not at the next rising clock edge after this event).
2014       1/1                                          if ($time - tm_bank_read_end[i] &lt; TRTP) begin
2015       <font color = "red">0/2     ==>                                      if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: Auto Precharge bank %d&quot;, _ModuleName, tm_bank_read_end[i] + TRTP, i);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
2016       <font color = "red">0/1     ==>                                      active_bank[i] &lt;= #(tm_bank_read_end[i] + TRTP - $time) 0;</font>
2017       <font color = "red">0/1     ==>                                      auto_precharge_bank[i] &lt;= #(tm_bank_read_end[i] + TRTP - $time) 0;</font>
2018       <font color = "red">0/1     ==>                                      tm_bank_precharge[i] &lt;= #(tm_bank_read_end[i] + TRTP - $time) tm_bank_read_end[i] + TRTP;</font>
2019       <font color = "red">0/1     ==>                                      tm_precharge &lt;= #(tm_bank_read_end[i] + TRTP - $time) tm_bank_read_end[i] + TRTP;</font>
2020       <font color = "red">0/1     ==>                                      ck_precharge = ck_cntr;</font>
2021                                                    end else begin
2022       2/2                                              if (DEBUG) $fdisplay(HANDLE, &quot;%s: at time %t INFO: Auto Precharge bank %d&quot;, _ModuleName, $time, i);
                   <font color = "red">==>  MISSING_ELSE</font>
2023       1/1                                              active_bank[i] = 0;
2024       1/1                                              auto_precharge_bank[i] = 0;
2025       1/1                                              tm_bank_precharge[i] = $time;
2026       1/1                                              tm_precharge = $time;
2027       1/1                                              ck_precharge = ck_cntr;
2028                                                    end
2029                                                end
                        MISSING_ELSE
2030                                            end
                        MISSING_ELSE
2031                                        end
2032                                    end
                        MISSING_ELSE
2033                    
2034                                    // respond to incoming command
2035       1/1                          if (cke_in ^ prev_cke) begin
2036       1/1                              tm_cke_cmd &lt;= $time;
2037       1/1                              ck_cke_cmd &lt;= ck_cntr;
2038                                    end
                        MISSING_ELSE
2039                    
2040       1/1                          cmd_task(cke_in, cmd_n_in, ba_in, addr_in);
2041       1/1                          if ((cmd_n_in == WRITE) || (cmd_n_in == READ)) begin
2042       1/1                              al_pipeline[2*additive_latency] = 1'b1;
2043                                    end
                        MISSING_ELSE
2044       1/1                          if (al_pipeline[0]) begin
2045                                        // check tRCD after additive latency
2046       1/1                              if ((rd_pipeline[2*cas_latency - 1]) &amp;&amp; ($time - tm_bank_activate[ba_pipeline[2*cas_latency - 1]] &lt; TRCD))
2047       <font color = "red">0/1     ==>                          $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tRCD violation during %s&quot;, _ModuleName, $time, cmd_string[READ]);</font>
                        MISSING_ELSE
2048       1/1                              if ((wr_pipeline[2*cas_write_latency + 1]) &amp;&amp; ($time - tm_bank_activate[ba_pipeline[2*cas_write_latency + 1]] &lt; TRCD))
2049       <font color = "red">0/1     ==>                          $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tRCD violation during %s&quot;, _ModuleName, $time, cmd_string[WRITE]);</font>
                        MISSING_ELSE
2050                                        // check tWTR after additive latency
2051       1/1                              if (rd_pipeline[2*cas_latency - 1]) begin //{
2052       1/1                                  if (truebl4) begin //{
2053       <font color = "red">0/1     ==>                              i = ba_pipeline[2*cas_latency - 1];</font>
2054       <font color = "red">0/1     ==>                              if ($time - tm_group_write_end[i[1]] &lt; TWTR)</font>
2055       <font color = "red">0/1     ==>                                  $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tWTR violation during %s&quot;, _ModuleName, $time, cmd_string[READ]);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
2056       <font color = "red">0/1     ==>                              if ($time - tm_write_end &lt; TWTR_DG)</font>
2057       <font color = "red">0/1     ==>                                  $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tWTR_DG violation during %s&quot;, _ModuleName, $time, cmd_string[READ]);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
2058                                            end else begin
2059       1/1                                      if ($time - tm_write_end &lt; TWTR)
2060       <font color = "red">0/1     ==>                                  $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tWTR violation during %s&quot;, _ModuleName, $time, cmd_string[READ]);</font>
                        MISSING_ELSE
2061                                            end
2062                                        end
                        MISSING_ELSE
2063                                    end
                        MISSING_ELSE
2064       1/1                         if (rd_pipeline) begin
2065       1/1                            if (rd_pipeline[2*cas_latency - 1]) begin
2066       1/1                               tm_bank_read_end[ba_pipeline[2*cas_latency - 1]] &lt;= $time;
2067                                      end
                        MISSING_ELSE
2068                             end
                        MISSING_ELSE
2069       1/1                          for (i=0; i&lt;`BANKS; i=i+1) begin
2070       1/1                  if ((ck_cntr - ck_bank_write[i] &gt; write_latency) &amp;&amp; (ck_cntr - ck_bank_write[i] &lt;= write_latency + burst_length/2)) begin
2071       1/1                                  tm_bank_write_end[i] &lt;= $time;
2072       1/1                                  tm_group_write_end[i[1]] &lt;= $time;
2073       1/1                                  tm_write_end &lt;= $time;
2074                                        end
                        MISSING_ELSE
2075                                    end
2076                    
2077                                    // clk pin is disabled during self refresh
2078       1/1                          if (!in_self_refresh &amp;&amp; tm_ck_pos ) begin
2079       1/1                              tjit_cc_time = $time - tm_ck_pos - tck_i;
2080       1/1                              tck_i   = $time - tm_ck_pos;
2081       1/1                              tck_avg = tck_avg - tck_sample[ck_cntr%TDLLK]/$itor(TDLLK);
2082       1/1                              tck_avg = tck_avg + tck_i/$itor(TDLLK);
2083       1/1                              tck_sample[ck_cntr%TDLLK] = tck_i;
2084       1/1                              tjit_per_rtime = tck_i - tck_avg;
2085                    
2086       1/1                              if (dll_locked &amp;&amp; check_strict_timing) begin
2087                                            // check accumulated error
2088       1/1                                  terr_nper_rtime = 0;
2089       1/1                                  for (i=0; i&lt;12; i=i+1) begin
2090       1/1                                      terr_nper_rtime = terr_nper_rtime + tck_sample[i] - tck_avg;
2091       1/1                                      terr_nper_rtime = abs_value(terr_nper_rtime);
2092       1/1                                      case (i)
2093       1/1                                                0 :;
2094       <font color = "red">1/2     ==>                                        1 : if (terr_nper_rtime - TERR_2PER &gt;= 1.0) $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tERR(2per) violation by %f ps.&quot;, _ModuleName, $time, terr_nper_rtime - TERR_2PER);</font>
                        MISSING_ELSE
2095       <font color = "red">1/2     ==>                                        2 : if (terr_nper_rtime - TERR_3PER &gt;= 1.0) $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tERR(3per) violation by %f ps.&quot;, _ModuleName, $time, terr_nper_rtime - TERR_3PER);</font>
                        MISSING_ELSE
2096       <font color = "red">1/2     ==>                                        3 : if (terr_nper_rtime - TERR_4PER &gt;= 1.0) $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tERR(4per) violation by %f ps.&quot;, _ModuleName, $time, terr_nper_rtime - TERR_4PER);</font>
                        MISSING_ELSE
2097       <font color = "red">1/2     ==>                                        4 : if (terr_nper_rtime - TERR_5PER &gt;= 1.0) $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tERR(5per) violation by %f ps.&quot;, _ModuleName, $time, terr_nper_rtime - TERR_5PER);</font>
                        MISSING_ELSE
2098       <font color = "red">1/2     ==>                                        5 : if (terr_nper_rtime - TERR_6PER &gt;= 1.0) $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tERR(6per) violation by %f ps.&quot;, _ModuleName, $time, terr_nper_rtime - TERR_6PER);</font>
                        MISSING_ELSE
2099       <font color = "red">1/2     ==>                                        6 : if (terr_nper_rtime - TERR_7PER &gt;= 1.0) $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tERR(7per) violation by %f ps.&quot;, _ModuleName, $time, terr_nper_rtime - TERR_7PER);</font>
                        MISSING_ELSE
2100       <font color = "red">1/2     ==>                                        7 : if (terr_nper_rtime - TERR_8PER &gt;= 1.0) $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tERR(8per) violation by %f ps.&quot;, _ModuleName, $time, terr_nper_rtime - TERR_8PER);</font>
                        MISSING_ELSE
2101       <font color = "red">1/2     ==>                                        8 : if (terr_nper_rtime - TERR_9PER &gt;= 1.0) $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tERR(9per) violation by %f ps.&quot;, _ModuleName, $time, terr_nper_rtime - TERR_9PER);</font>
                        MISSING_ELSE
2102       <font color = "red">1/2     ==>                                        9 : if (terr_nper_rtime - TERR_10PER &gt;= 1.0) $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tERR(10per) violation by %f ps.&quot;, _ModuleName, $time, terr_nper_rtime - TERR_10PER);</font>
                        MISSING_ELSE
2103       <font color = "red">1/2     ==>                                       10 : if (terr_nper_rtime - TERR_11PER &gt;= 1.0) $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tERR(11per) violation by %f ps.&quot;, _ModuleName, $time, terr_nper_rtime - TERR_11PER);</font>
                        MISSING_ELSE
2104       <font color = "red">1/2     ==>                                       11 : if (terr_nper_rtime - TERR_12PER &gt;= 1.0) $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tERR(12per) violation by %f ps.&quot;, _ModuleName, $time, terr_nper_rtime - TERR_12PER);</font>
                        MISSING_ELSE
                   <font color = "red">==>  MISSING_DEFAULT</font>
2105                                                endcase
2106                                            end
2107                    
2108                                            // check tCK min/max/jitter
2109       1/1                                  if (abs_value(tjit_per_rtime) - TJIT_PER &gt;= 1.0)
2110       <font color = "red">0/1     ==>                              $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tJIT(per) violation by %f ps.&quot;, _ModuleName, $time, abs_value(tjit_per_rtime) - TJIT_PER);</font>
                        MISSING_ELSE
2111       1/1                                  if (abs_value(tjit_cc_time) - TJIT_CC &gt;= 1.0)
2112       <font color = "red">0/1     ==>                              $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tJIT(cc) violation by %f ps.&quot;, _ModuleName, $time, abs_value(tjit_cc_time) - TJIT_CC);</font>
                        MISSING_ELSE
2113       1/1                                  if (TCK_MIN - tck_avg &gt;= 1.0)
2114       <font color = "red">0/1     ==>                              $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tCK(avg) minimum violation by %f ps.&quot;, _ModuleName, $time, TCK_MIN - tck_avg);</font>
                        MISSING_ELSE
2115       1/1                                  if (tck_avg - TCK_MAX &gt;= 1.0)
2116       <font color = "red">0/1     ==>                              $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tCK(avg) maximum violation by %f ps.&quot;, _ModuleName, $time, tck_avg - TCK_MAX);</font>
                        MISSING_ELSE
2117                    
2118                                            // check tCL
2119       1/1                                  if (tm_ck_neg - $time &lt; TCL_ABS_MIN*tck_avg)
2120       <font color = "red">0/1     ==>                              $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tCL(abs) minimum violation on CLK by %t&quot;, _ModuleName, $time, TCL_ABS_MIN*tck_avg - tm_ck_neg + $time);</font>
                        MISSING_ELSE
2121       1/1                                  if (tcl_avg &lt; TCL_AVG_MIN*tck_avg)
2122       <font color = "red">0/1     ==>                              $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tCL(avg) minimum violation on CLK by %t&quot;, _ModuleName, $time, TCL_AVG_MIN*tck_avg - tcl_avg);</font>
                        MISSING_ELSE
2123       1/1                                  if (tcl_avg &gt; TCL_AVG_MAX*tck_avg)
2124       <font color = "red">0/1     ==>                              $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tCL(avg) maximum violation on CLK by %t&quot;, _ModuleName, $time, tcl_avg - TCL_AVG_MAX*tck_avg);</font>
                        MISSING_ELSE
2125                                        end
                        MISSING_ELSE
2126                    
2127                                        // calculate the tch avg jitter
2128       1/1                              tch_avg = tch_avg - tch_sample[ck_cntr%TDLLK]/$itor(TDLLK);
2129       1/1                              tch_avg = tch_avg + tch_i/$itor(TDLLK);
2130       1/1                              tch_sample[ck_cntr%TDLLK] = tch_i;
2131       1/1                              tjit_ch_rtime = tch_i - tch_avg;
2132       1/1                              duty_cycle = tch_avg/tck_avg;
2133                    
2134                                        // update timers/counters
2135       1/1                              tcl_i &lt;= $time - tm_ck_neg;
2136                                    end
                        MISSING_ELSE
2137                    
2138       1/1                          prev_odt &lt;= odt_in;
2139                                    // update timers/counters
2140       1/1                          ck_cntr &lt;= ck_cntr + 1;
2141       1/1                          tm_ck_pos = $time;
2142                                end else begin
2143                                    // clk pin is disabled during self refresh
2144       1/1                          if (!in_self_refresh) begin
2145       1/1                              if (dll_locked &amp;&amp; check_strict_timing) begin
2146       1/1                                  if ($time - tm_ck_pos &lt; TCH_ABS_MIN*tck_avg)
2147       <font color = "red">0/1     ==>                              $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tCH(abs) minimum violation on CLK by %t&quot;, _ModuleName, $time, TCH_ABS_MIN*tck_avg - $time + tm_ck_pos);</font>
                        MISSING_ELSE
2148       1/1                                  if (tch_avg &lt; TCH_AVG_MIN*tck_avg)
2149       <font color = "red">0/1     ==>                              $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tCH(avg) minimum violation on CLK by %t&quot;, _ModuleName, $time, TCH_AVG_MIN*tck_avg - tch_avg);</font>
                        MISSING_ELSE
2150       1/1                                  if (tch_avg &gt; TCH_AVG_MAX*tck_avg)
2151       <font color = "red">0/1     ==>                              $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tCH(avg) maximum violation on CLK by %t&quot;, _ModuleName, $time, tch_avg - TCH_AVG_MAX*tck_avg);</font>
                        MISSING_ELSE
2152                                        end
                        MISSING_ELSE
2153                    
2154                                        // calculate the tcl avg jitter
2155       1/1                              tcl_avg = tcl_avg - tcl_sample[ck_cntr%TDLLK]/$itor(TDLLK);
2156       1/1                              tcl_avg = tcl_avg + tcl_i/$itor(TDLLK);
2157       1/1                              tcl_sample[ck_cntr%TDLLK] = tcl_i;
2158                    
2159                                        // update timers/counters
2160       1/1                              tch_i &lt;= $time - tm_ck_pos;
2161                                    end
                        MISSING_ELSE
2162       1/1                          tm_ck_neg = $time;
2163                                end
2164                    
2165                                // on die termination
2166       1/1                      if (odt_en || dyn_odt_en) begin
2167                                    // odt pin is disabled during self refresh
2168       <font color = "red">0/1     ==>                  if (!in_self_refresh &amp;&amp; diff_ck) begin</font>
2169       <font color = "red">0/1     ==>                      if ($time - tm_odt &lt; TIS)</font>
2170       <font color = "red">0/1     ==>                          $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tIS violation on ODT by %t&quot;, _ModuleName, $time, tm_odt + TIS - $time);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
2171       <font color = "red">0/1     ==>                      if (prev_odt ^ odt_in) begin</font>
2172       <font color = "red">0/1     ==>                          if (!dll_locked)</font>
2173       <font color = "red">0/1     ==>                              $fdisplay(HANDLE, &quot;%s: at time %t WARNING: tDLLK violation during ODT transition.&quot;, _ModuleName, $time);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
2174       <font color = "red">0/1     ==>                          if (($time - tm_load_mode &lt; TMOD) || (ck_cntr - ck_load_mode &lt; TMOD_TCK))</font>
2175       <font color = "red">0/1     ==>                              $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tMOD violation during ODT transition&quot;, _ModuleName, $time);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
2176       <font color = "red">0/1     ==>                          if (ck_cntr - ck_zqinit &lt; TZQINIT)</font>
2177       <font color = "red">0/1     ==>                              $fdisplay(HANDLE, &quot;%s: at time %t ERROR: TZQinit violation during ODT transition&quot;, _ModuleName, $time);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
2178       <font color = "red">0/1     ==>                          if (ck_cntr - ck_zqoper &lt; TZQOPER)</font>
2179       <font color = "red">0/1     ==>                              $fdisplay(HANDLE, &quot;%s: at time %t ERROR: TZQoper violation during ODT transition&quot;, _ModuleName, $time);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
2180       <font color = "red">0/1     ==>                          if (ck_cntr - ck_zqcs &lt; TZQCS)</font>
2181       <font color = "red">0/1     ==>                              $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tZQcs violation during ODT transition&quot;, _ModuleName, $time);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
2182                                            // if (($time - tm_slow_exit_pd &lt; TXPDLL) || (ck_cntr - ck_slow_exit_pd &lt; TXPDLL_TCK))
2183                                            //    $fdisplay(HANDLE, &quot;%m: at time %t ERROR: tXPDLL violation during ODT transition&quot;, $time);
2184       <font color = "red">0/1     ==>                          if (ck_cntr - ck_self_refresh &lt; TXSDLL)</font>
2185       <font color = "red">0/1     ==>                              $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tXSDLL violation during ODT transition&quot;, _ModuleName, $time);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
2186       <font color = "red">0/1     ==>                          if (in_self_refresh)</font>
2187       <font color = "red">0/1     ==>                              $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  Illegal ODT transition during Self Refresh.&quot;, _ModuleName, $time);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
2188       <font color = "red">0/1     ==>                          if (!odt_in &amp;&amp; (ck_cntr - ck_odt &lt; ODTH4))</font>
2189       <font color = "red">0/1     ==>                              $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  ODTH4 violation during ODT transition&quot;, _ModuleName, $time);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
2190       <font color = "red">0/1     ==>                          if (!odt_in &amp;&amp; (ck_cntr - ck_odth8 &lt; ODTH8))</font>
2191       <font color = "red">0/1     ==>                              $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  ODTH8 violation during ODT transition&quot;, _ModuleName, $time);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
2192       <font color = "red">0/1     ==>                          if (($time - tm_slow_exit_pd &lt; TXPDLL) || (ck_cntr - ck_slow_exit_pd &lt; TXPDLL_TCK))</font>
2193       <font color = "red">0/1     ==>                              $fdisplay(HANDLE, &quot;%s: at time %t WARNING: tXPDLL during ODT transition.  Synchronous or asynchronous change in termination resistance is possible.&quot;, _ModuleName, $time);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
2194                    
2195                                            // async ODT mode applies:
2196                                            // 1.) during precharge power down with DLL off
2197                                            // 2.) if tANPD has not been satisfied
2198                                            // 3.) until tXPDLL has been satisfied
2199       <font color = "red">0/1     ==>                          if ((in_power_down &amp;&amp; low_power &amp;&amp; (active_bank == 0)) || ($time - tm_slow_exit_pd &lt; TXPDLL) || (ck_cntr - ck_slow_exit_pd &lt; TXPDLL_TCK)) begin</font>
2200       <font color = "red">0/1     ==>                              odt_state = odt_in;</font>
2201       <font color = "red">0/2     ==>                              if (DEBUG &amp;&amp; odt_en) $fdisplay(HANDLE, &quot;%s: at time %t INFO: Async On Die Termination Rtt_NOM = %d Ohm&quot;, _ModuleName, $time, {32{odt_state}} &amp; get_rtt_nom(odt_rtt_nom));</font>
                   <font color = "red">==>  MISSING_ELSE</font>
2202       <font color = "red">0/1     ==>                              if (odt_state) begin</font>
2203       <font color = "red">0/1     ==>                                  odt_state_dly &lt;= #(TAONPD) odt_state;</font>
2204                                                end else begin
2205       <font color = "red">0/1     ==>                                  odt_state_dly &lt;= #(TAOFPD) odt_state;</font>
2206                                                end
2207                                            // sync ODT mode applies:
2208                                            // 1.) during normal operation
2209                                            // 2.) during active power down
2210                                            // 3.) during precharge power down with DLL on
2211                                            end else begin
2212       <font color = "red">0/1     ==>                              odt_pipeline[2*(write_latency - 2)] = 1'b1; // ODTLon, ODTLoff</font>
2213                                            end
2214       <font color = "red">0/1     ==>                          ck_odt &lt;= ck_cntr;</font>
2215                                        end
                   <font color = "red">==>  MISSING_ELSE</font>
2216                                    end
                   <font color = "red">==>  MISSING_ELSE</font>
2217       <font color = "red">0/1     ==>                  if (odt_pipeline[0]) begin</font>
2218       <font color = "red">0/1     ==>                      odt_state = ~odt_state;</font>
2219       <font color = "red">0/2     ==>                      if (DEBUG &amp;&amp; odt_en) $fdisplay(HANDLE, &quot;%s: at time %t INFO: Sync On Die Termination Rtt_NOM = %d Ohm&quot;, _ModuleName, $time, {32{odt_state}} &amp; get_rtt_nom(odt_rtt_nom));</font>
                   <font color = "red">==>  MISSING_ELSE</font>
2220       <font color = "red">0/1     ==>                      if (odt_state) begin</font>
2221       <font color = "red">0/1     ==>                          odt_state_dly &lt;= #(TAON) odt_state;</font>
2222                                        end else begin
2223       <font color = "red">0/1     ==>                          odt_state_dly &lt;= #(TAOF*tck_avg) odt_state;</font>
2224                                        end
2225                                    end
                   <font color = "red">==>  MISSING_ELSE</font>
2226       <font color = "red">0/1     ==>                  if (rd_pipeline[RDQSEN_PRE]) begin</font>
2227       <font color = "red">0/1     ==>                      odt_cntr = 1 + RDQSEN_PRE + bl_pipeline[RDQSEN_PRE] + RDQSEN_PST - 1;</font>
2228                                    end
                   <font color = "red">==>  MISSING_ELSE</font>
2229       <font color = "red">0/1     ==>                  if (odt_cntr &gt; 0) begin</font>
2230       <font color = "red">0/1     ==>                      if (odt_state) begin</font>
2231       <font color = "red">0/1     ==>                          $fdisplay(HANDLE, &quot;%s: at time %t ERROR: On Die Termination must be OFF during Read data transfer.&quot;, _ModuleName, $time);</font>
2232                                        end
                   <font color = "red">==>  MISSING_ELSE</font>
2233       <font color = "red">0/1     ==>                      odt_cntr = odt_cntr - 1;</font>
2234                                    end
                   <font color = "red">==>  MISSING_ELSE</font>
2235       <font color = "red">0/1     ==>                  if (dyn_odt_en &amp;&amp; odt_state) begin</font>
2236       <font color = "red">0/1     ==>                      if (DEBUG &amp;&amp; (dyn_odt_state ^ dyn_odt_pipeline[0]))</font>
2237       <font color = "red">0/1     ==>                          $fdisplay(HANDLE, &quot;%s: at time %t INFO: Sync On Die Termination Rtt_WR = %d Ohm&quot;, _ModuleName, $time, {32{dyn_odt_pipeline[0]}} &amp; get_rtt_wr(odt_rtt_wr));</font>
                   <font color = "red">==>  MISSING_ELSE</font>
2238       <font color = "red">0/1     ==>                      dyn_odt_state = dyn_odt_pipeline[0];</font>
2239                                    end
                   <font color = "red">==>  MISSING_ELSE</font>
2240       <font color = "red">0/1     ==>                  dyn_odt_state_dly &lt;= #(TADC*tck_avg) dyn_odt_state;</font>
2241                                end
                        MISSING_ELSE
2242                    
2243       1/1                      if (cke_in &amp;&amp; write_levelization) begin
2244       1/1                          for (i=0; i&lt;DQS_BITS; i=i+1) begin
2245       1/1                              if ($time - tm_dqs_pos[i] &lt; TWLH)
2246       1/1                                  $fdisplay(HANDLE, &quot;%s: at time %t WARNING: tWLH violation on DQS bit %d positive edge.   Indeterminate CK capture is possible.&quot;, _ModuleName, $time, i);
                        MISSING_ELSE
2247                                    end
2248                                end
                        MISSING_ELSE
2249                    
2250                                // shift pipelines
2251       1/1                      if (|wr_pipeline || |rd_pipeline || |al_pipeline) begin
2252       1/1                          al_pipeline = al_pipeline&gt;&gt;1;
2253       1/1                          wr_pipeline = wr_pipeline&gt;&gt;1;
2254       1/1                          rd_pipeline = rd_pipeline&gt;&gt;1;
2255       1/1                          for (i=0; i&lt;`MAX_PIPE; i=i+1) begin
2256       1/1                              bl_pipeline[i] = bl_pipeline[i+1];
2257       1/1                              ba_pipeline[i] = ba_pipeline[i+1];
2258       1/1                              row_pipeline[i] = row_pipeline[i+1];
2259       1/1                              col_pipeline[i] = col_pipeline[i+1];
2260                                    end
2261                                end
                        MISSING_ELSE
2262       1/1                      if (|odt_pipeline || |dyn_odt_pipeline) begin
2263       1/1                          odt_pipeline = odt_pipeline&gt;&gt;1;
2264       1/1                          dyn_odt_pipeline = dyn_odt_pipeline&gt;&gt;1;
2265                                end
                        MISSING_ELSE
2266                            end
2267                        end
2268                    
2269                        // receiver(s)
2270                        task dqs_even_receiver;
2271                            input [3:0] i;
2272                            reg [63:0] bit_mask;
2273                            begin
2274       1/1                      bit_mask = {`DQ_PER_DQS{1'b1}}&lt;&lt;(i*`DQ_PER_DQS);
2275       1/1                      if (dqs_even[i]) begin
2276       1/1                          if (tdqs_en) begin // tdqs disables dm
2277       <font color = "red">0/1     ==>                      dm_in_pos[i] = 1'b0;</font>
2278                                    end else begin
2279       1/1                              dm_in_pos[i] = dm_in[i];
2280                                    end
2281       1/1                          dq_in_pos = (dq_in &amp; bit_mask) | (dq_in_pos &amp; ~bit_mask);
2282                                end
                        MISSING_ELSE
2283                            end
2284                        endtask
2285                    
2286       1/1              always @(posedge dqs_even[ 0]) dqs_even_receiver( 0);
2287       <font color = "red">0/1     ==>      always @(posedge dqs_even[ 1]) dqs_even_receiver( 1);</font>
2288       <font color = "red">0/1     ==>      always @(posedge dqs_even[ 2]) dqs_even_receiver( 2);</font>
2289       <font color = "red">0/1     ==>      always @(posedge dqs_even[ 3]) dqs_even_receiver( 3);</font>
2290       <font color = "red">0/1     ==>      always @(posedge dqs_even[ 4]) dqs_even_receiver( 4);</font>
2291       <font color = "red">0/1     ==>      always @(posedge dqs_even[ 5]) dqs_even_receiver( 5);</font>
2292       <font color = "red">0/1     ==>      always @(posedge dqs_even[ 6]) dqs_even_receiver( 6);</font>
2293       <font color = "red">0/1     ==>      always @(posedge dqs_even[ 7]) dqs_even_receiver( 7);</font>
2294       <font color = "red">0/1     ==>      always @(posedge dqs_even[ 8]) dqs_even_receiver( 8);</font>
2295       <font color = "red">0/1     ==>      always @(posedge dqs_even[ 9]) dqs_even_receiver( 9);</font>
2296       <font color = "red">0/1     ==>      always @(posedge dqs_even[10]) dqs_even_receiver(10);</font>
2297       <font color = "red">0/1     ==>      always @(posedge dqs_even[11]) dqs_even_receiver(11);</font>
2298       <font color = "red">0/1     ==>      always @(posedge dqs_even[12]) dqs_even_receiver(12);</font>
2299       <font color = "red">0/1     ==>      always @(posedge dqs_even[13]) dqs_even_receiver(13);</font>
2300       <font color = "red">0/1     ==>      always @(posedge dqs_even[14]) dqs_even_receiver(14);</font>
2301       <font color = "red">0/1     ==>      always @(posedge dqs_even[15]) dqs_even_receiver(15);</font>
2302                    
2303                        task dqs_odd_receiver;
2304                            input [3:0] i;
2305                            reg [63:0] bit_mask;
2306                            begin
2307       1/1                      bit_mask = {`DQ_PER_DQS{1'b1}}&lt;&lt;(i*`DQ_PER_DQS);
2308       1/1                      if (dqs_odd[i]) begin
2309       1/1                          if (tdqs_en) begin // tdqs disables dm
2310       <font color = "red">0/1     ==>                      dm_in_neg[i] = 1'b0;</font>
2311                                    end else begin
2312       1/1                              dm_in_neg[i] = dm_in[i];
2313                                    end
2314       1/1                          dq_in_neg = (dq_in &amp; bit_mask) | (dq_in_neg &amp; ~bit_mask);
2315                                end
                   <font color = "red">==>  MISSING_ELSE</font>
2316                            end
2317                        endtask
2318                    
2319       1/1              always @(posedge dqs_odd[ 0]) dqs_odd_receiver( 0);
2320       <font color = "red">0/1     ==>      always @(posedge dqs_odd[ 1]) dqs_odd_receiver( 1);</font>
2321       <font color = "red">0/1     ==>      always @(posedge dqs_odd[ 2]) dqs_odd_receiver( 2);</font>
2322       <font color = "red">0/1     ==>      always @(posedge dqs_odd[ 3]) dqs_odd_receiver( 3);</font>
2323       <font color = "red">0/1     ==>      always @(posedge dqs_odd[ 4]) dqs_odd_receiver( 4);</font>
2324       <font color = "red">0/1     ==>      always @(posedge dqs_odd[ 5]) dqs_odd_receiver( 5);</font>
2325       <font color = "red">0/1     ==>      always @(posedge dqs_odd[ 6]) dqs_odd_receiver( 6);</font>
2326       <font color = "red">0/1     ==>      always @(posedge dqs_odd[ 7]) dqs_odd_receiver( 7);</font>
2327       <font color = "red">0/1     ==>      always @(posedge dqs_odd[ 8]) dqs_odd_receiver( 8);</font>
2328       <font color = "red">0/1     ==>      always @(posedge dqs_odd[ 9]) dqs_odd_receiver( 9);</font>
2329       <font color = "red">0/1     ==>      always @(posedge dqs_odd[10]) dqs_odd_receiver(10);</font>
2330       <font color = "red">0/1     ==>      always @(posedge dqs_odd[11]) dqs_odd_receiver(11);</font>
2331       <font color = "red">0/1     ==>      always @(posedge dqs_odd[12]) dqs_odd_receiver(12);</font>
2332       <font color = "red">0/1     ==>      always @(posedge dqs_odd[13]) dqs_odd_receiver(13);</font>
2333       <font color = "red">0/1     ==>      always @(posedge dqs_odd[14]) dqs_odd_receiver(14);</font>
2334       <font color = "red">0/1     ==>      always @(posedge dqs_odd[15]) dqs_odd_receiver(15);</font>
2335                    
2336                        // Processes to check hold and pulse width of control signals
2337                        always @(posedge rst_n_in) begin
2338       1/1                  if ($time &gt; 100000) begin
2339       1/1                      if (tm_rst_n + 100000 &gt; $time)
2340       <font color = "red">0/1     ==>                  $fdisplay(HANDLE, &quot;%s: at time %t ERROR: RST_N pulse width violation by %t&quot;, _ModuleName, $time, tm_rst_n + 100000 - $time);</font>
                        MISSING_ELSE
2341                            end
                   <font color = "red">==>  MISSING_ELSE</font>
2342       1/1                  tm_rst_n = $time;
2343                        end
2344                        always @(cke_in) begin
2345       1/1                  if (rst_n_in) begin
2346       1/1                      if ($time &gt; TIH) begin
2347       1/1                          if ($time - tm_ck_pos &lt; TIH)
2348       <font color = "red">0/1     ==>                      $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tIH violation on CKE by %t&quot;, _ModuleName, $time, tm_ck_pos + TIH - $time);</font>
                        MISSING_ELSE
2349                                end
                   <font color = "red">==>  MISSING_ELSE</font>
2350       1/1                      if ($time - tm_cke &lt; TIPW)
2351       1/1                          $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tIPW violation on CKE by %t&quot;, _ModuleName, $time, tm_cke + TIPW - $time);
                        MISSING_ELSE
2352                            end
                        MISSING_ELSE
2353       1/1                  tm_cke = $time;
2354                        end
2355                        always @(odt_in) begin
2356       <font color = "red">0/1     ==>          if (rst_n_in &amp;&amp; odt_en &amp;&amp; !in_self_refresh) begin</font>
2357       <font color = "red">0/1     ==>              if ($time - tm_ck_pos &lt; TIH)</font>
2358       <font color = "red">0/1     ==>                  $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tIH violation on ODT by %t&quot;, _ModuleName, $time, tm_ck_pos + TIH - $time);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
2359       <font color = "red">0/1     ==>              if ($time - tm_odt &lt; TIPW)</font>
2360       <font color = "red">0/1     ==>                  $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tIPW violation on ODT by %t&quot;, _ModuleName, $time, tm_odt + TIPW - $time);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
2361                            end
                   <font color = "red">==>  MISSING_ELSE</font>
2362       <font color = "red">0/1     ==>          tm_odt = $time;</font>
2363                        end
2364                    
2365                        task cmd_addr_timing_check;
2366                        input i;
2367                        reg [4:0] i;
2368                        begin
2369       1/1                  if (rst_n_in &amp;&amp; prev_cke) begin
2370       1/1                      if ((i == 0) &amp;&amp; ($time - tm_ck_pos &lt; TIH))                 // always check tIH for CS#
2371       <font color = "red">0/1     ==>                  $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tIH violation on %s by %t&quot;, _ModuleName, $time, cmd_addr_string[i], tm_ck_pos + TIH - $time);</font>
                        MISSING_ELSE
2372       1/1                      if ((i &gt; 0) &amp;&amp; (cs_n_in == 0) &amp;&amp;($time - tm_ck_pos &lt; TIH)) // Only check tIH for cmd_addr if CS# is low
2373       <font color = "red">0/1     ==>                  $fdisplay(HANDLE, &quot;%s: at time %t ERROR:  tIH violation on %s by %t&quot;, _ModuleName, $time, cmd_addr_string[i], tm_ck_pos + TIH - $time);</font>
                        MISSING_ELSE
2374       1/1                      if ($time - tm_cmd_addr[i] &lt; TIPW)
2375       <font color = "red">0/1     ==>                  $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tIPW violation on %s by %t&quot;, _ModuleName, $time, cmd_addr_string[i], tm_cmd_addr[i] + TIPW - $time);</font>
                        MISSING_ELSE
2376                            end
                        MISSING_ELSE
2377       1/1                  tm_cmd_addr[i] = $time;
2378                        end
2379                        endtask
2380                    
2381       1/1              always @(cs_n_in    ) cmd_addr_timing_check( 0);
2382       1/1              always @(ras_n_in   ) cmd_addr_timing_check( 1);
2383       1/1              always @(cas_n_in   ) cmd_addr_timing_check( 2);
2384       1/1              always @(we_n_in    ) cmd_addr_timing_check( 3);
2385       1/1              always @(ba_in  [ 0]) cmd_addr_timing_check( 4);
2386       1/1              always @(ba_in  [ 1]) cmd_addr_timing_check( 5);
2387       1/1              always @(ba_in  [ 2]) cmd_addr_timing_check( 6);
2388       1/1              always @(addr_in[ 0]) cmd_addr_timing_check( 7);
2389       1/1              always @(addr_in[ 1]) cmd_addr_timing_check( 8);
2390       1/1              always @(addr_in[ 2]) cmd_addr_timing_check( 9);
2391       1/1              always @(addr_in[ 3]) cmd_addr_timing_check(10);
2392       1/1              always @(addr_in[ 4]) cmd_addr_timing_check(11);
2393       1/1              always @(addr_in[ 5]) cmd_addr_timing_check(12);
2394       1/1              always @(addr_in[ 6]) cmd_addr_timing_check(13);
2395       1/1              always @(addr_in[ 7]) cmd_addr_timing_check(14);
2396       1/1              always @(addr_in[ 8]) cmd_addr_timing_check(15);
2397       1/1              always @(addr_in[ 9]) cmd_addr_timing_check(16);
2398       1/1              always @(addr_in[10]) cmd_addr_timing_check(17);
2399       1/1              always @(addr_in[11]) cmd_addr_timing_check(18);
2400       1/1              always @(addr_in[12]) cmd_addr_timing_check(19);
2401       1/1              always @(addr_in[13]) cmd_addr_timing_check(20);
2402       1/1              always @(addr_in[14]) cmd_addr_timing_check(21);
2403       1/1              always @(addr_in[15]) cmd_addr_timing_check(22);
2404                    
2405                        // Processes to check setup and hold of data signals
2406                        task dm_timing_check;
2407                        input i;
2408                        reg [3:0] i;
2409                        begin
2410       1/1                  if (dqs_in_valid) begin
2411       1/1                      if ($time - tm_dqs[i] &lt; TDH)
2412       <font color = "red">0/1     ==>                  $fdisplay(HANDLE, &quot;%s: at time %t ERROR:   tDH violation on DM bit %d by %t&quot;, _ModuleName, $time, i, tm_dqs[i] + TDH - $time);</font>
                        MISSING_ELSE
2413       1/1                      if (check_dm_tdipw[i]) begin
2414       1/1                          if ($time - tm_dm[i] &lt; TDIPW)
2415       <font color = "red">0/1     ==>                      $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tDIPW violation on DM bit %d by %t&quot;, _ModuleName, $time, i, tm_dm[i] + TDIPW - $time);</font>
                        MISSING_ELSE
2416                                end
                        MISSING_ELSE
2417                            end
                        MISSING_ELSE
2418       1/1                  check_dm_tdipw[i] &lt;= 1'b0;
2419       1/1                  tm_dm[i] = $time;
2420                        end
2421                        endtask
2422                    
2423       1/1              always @(dm_in[ 0]) dm_timing_check( 0);
2424       1/1              always @(dm_in[ 1]) dm_timing_check( 1);
2425       1/1              always @(dm_in[ 2]) dm_timing_check( 2);
2426       1/1              always @(dm_in[ 3]) dm_timing_check( 3);
2427       1/1              always @(dm_in[ 4]) dm_timing_check( 4);
2428       1/1              always @(dm_in[ 5]) dm_timing_check( 5);
2429       1/1              always @(dm_in[ 6]) dm_timing_check( 6);
2430       1/1              always @(dm_in[ 7]) dm_timing_check( 7);
2431       1/1              always @(dm_in[ 8]) dm_timing_check( 8);
2432       1/1              always @(dm_in[ 9]) dm_timing_check( 9);
2433       1/1              always @(dm_in[10]) dm_timing_check(10);
2434       1/1              always @(dm_in[11]) dm_timing_check(11);
2435       1/1              always @(dm_in[12]) dm_timing_check(12);
2436       1/1              always @(dm_in[13]) dm_timing_check(13);
2437       1/1              always @(dm_in[14]) dm_timing_check(14);
2438       1/1              always @(dm_in[15]) dm_timing_check(15);
2439                    
2440                        task dq_timing_check;
2441                        input i;
2442                        reg [5:0] i;
2443                        begin
2444       1/1                  if (dqs_in_valid) begin
2445       1/1                      if ($time - tm_dqs[i/`DQ_PER_DQS] &lt; TDH)
2446       <font color = "red">0/1     ==>                  $fdisplay(HANDLE, &quot;%s: at time %t ERROR:   tDH violation on DQ bit %d by %t&quot;, _ModuleName, $time, i, tm_dqs[i/`DQ_PER_DQS] + TDH - $time);</font>
                        MISSING_ELSE
2447       1/1                      if (check_dq_tdipw[i]) begin
2448       1/1                          if ($time - tm_dq[i] &lt; TDIPW)
2449       <font color = "red">0/1     ==>                      $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tDIPW violation on DQ bit %d by %t&quot;, _ModuleName, $time, i, tm_dq[i] + TDIPW - $time);</font>
                        MISSING_ELSE
2450                                end
                        MISSING_ELSE
2451                            end
                        MISSING_ELSE
2452       1/1                  check_dq_tdipw[i] &lt;= 1'b0;
2453       1/1                  tm_dq[i] = $time;
2454                        end
2455                        endtask
2456                    
2457       1/1              always @(dq_in[ 0]) dq_timing_check( 0);
2458       1/1              always @(dq_in[ 1]) dq_timing_check( 1);
2459       1/1              always @(dq_in[ 2]) dq_timing_check( 2);
2460       1/1              always @(dq_in[ 3]) dq_timing_check( 3);
2461       1/1              always @(dq_in[ 4]) dq_timing_check( 4);
2462       1/1              always @(dq_in[ 5]) dq_timing_check( 5);
2463       1/1              always @(dq_in[ 6]) dq_timing_check( 6);
2464       1/1              always @(dq_in[ 7]) dq_timing_check( 7);
2465       1/1              always @(dq_in[ 8]) dq_timing_check( 8);
2466       1/1              always @(dq_in[ 9]) dq_timing_check( 9);
2467       1/1              always @(dq_in[10]) dq_timing_check(10);
2468       1/1              always @(dq_in[11]) dq_timing_check(11);
2469       1/1              always @(dq_in[12]) dq_timing_check(12);
2470       1/1              always @(dq_in[13]) dq_timing_check(13);
2471       1/1              always @(dq_in[14]) dq_timing_check(14);
2472       1/1              always @(dq_in[15]) dq_timing_check(15);
2473       1/1              always @(dq_in[16]) dq_timing_check(16);
2474       1/1              always @(dq_in[17]) dq_timing_check(17);
2475       1/1              always @(dq_in[18]) dq_timing_check(18);
2476       1/1              always @(dq_in[19]) dq_timing_check(19);
2477       1/1              always @(dq_in[20]) dq_timing_check(20);
2478       1/1              always @(dq_in[21]) dq_timing_check(21);
2479       1/1              always @(dq_in[22]) dq_timing_check(22);
2480       1/1              always @(dq_in[23]) dq_timing_check(23);
2481       1/1              always @(dq_in[24]) dq_timing_check(24);
2482       1/1              always @(dq_in[25]) dq_timing_check(25);
2483       1/1              always @(dq_in[26]) dq_timing_check(26);
2484       1/1              always @(dq_in[27]) dq_timing_check(27);
2485       1/1              always @(dq_in[28]) dq_timing_check(28);
2486       1/1              always @(dq_in[29]) dq_timing_check(29);
2487       1/1              always @(dq_in[30]) dq_timing_check(30);
2488       1/1              always @(dq_in[31]) dq_timing_check(31);
2489       1/1              always @(dq_in[32]) dq_timing_check(32);
2490       1/1              always @(dq_in[33]) dq_timing_check(33);
2491       1/1              always @(dq_in[34]) dq_timing_check(34);
2492       1/1              always @(dq_in[35]) dq_timing_check(35);
2493       1/1              always @(dq_in[36]) dq_timing_check(36);
2494       1/1              always @(dq_in[37]) dq_timing_check(37);
2495       1/1              always @(dq_in[38]) dq_timing_check(38);
2496       1/1              always @(dq_in[39]) dq_timing_check(39);
2497       1/1              always @(dq_in[40]) dq_timing_check(40);
2498       1/1              always @(dq_in[41]) dq_timing_check(41);
2499       1/1              always @(dq_in[42]) dq_timing_check(42);
2500       1/1              always @(dq_in[43]) dq_timing_check(43);
2501       1/1              always @(dq_in[44]) dq_timing_check(44);
2502       1/1              always @(dq_in[45]) dq_timing_check(45);
2503       1/1              always @(dq_in[46]) dq_timing_check(46);
2504       1/1              always @(dq_in[47]) dq_timing_check(47);
2505       1/1              always @(dq_in[48]) dq_timing_check(48);
2506       1/1              always @(dq_in[49]) dq_timing_check(49);
2507       1/1              always @(dq_in[50]) dq_timing_check(50);
2508       1/1              always @(dq_in[51]) dq_timing_check(51);
2509       1/1              always @(dq_in[52]) dq_timing_check(52);
2510       1/1              always @(dq_in[53]) dq_timing_check(53);
2511       1/1              always @(dq_in[54]) dq_timing_check(54);
2512       1/1              always @(dq_in[55]) dq_timing_check(55);
2513       1/1              always @(dq_in[56]) dq_timing_check(56);
2514       1/1              always @(dq_in[57]) dq_timing_check(57);
2515       1/1              always @(dq_in[58]) dq_timing_check(58);
2516       1/1              always @(dq_in[59]) dq_timing_check(59);
2517       1/1              always @(dq_in[60]) dq_timing_check(60);
2518       1/1              always @(dq_in[61]) dq_timing_check(61);
2519       1/1              always @(dq_in[62]) dq_timing_check(62);
2520       1/1              always @(dq_in[63]) dq_timing_check(63);
2521                    
2522                        task dqs_pos_timing_check;
2523                        input i;
2524                        reg [4:0] i;
2525                        reg [3:0] j;
2526                        begin
2527       1/1                  if (write_levelization &amp;&amp; i&lt;16) begin
2528       1/1                      if (ck_cntr - ck_load_mode &lt; TWLMRD)
2529       <font color = "red">0/1     ==>                  $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tWLMRD violation on DQS bit %d positive edge.&quot;, _ModuleName, $time, i);</font>
                        MISSING_ELSE
2530       1/1                      if (($time - tm_ck_pos &lt; TWLS) || ($time - tm_ck_neg &lt; TWLS))
2531       1/1                          $fdisplay(HANDLE, &quot;%s: at time %t WARNING: tWLS violation on DQS bit %d positive edge.  Indeterminate CK capture is possible.&quot;, _ModuleName, $time, i);
                        MISSING_ELSE
2532       1/1                      if (DEBUG)
2533       1/1                          $fdisplay(HANDLE, &quot;%s: at time %t Write Leveling @ DQS ck = %b&quot;, _ModuleName, $time, diff_ck);
                   <font color = "red">==>  MISSING_ELSE</font>
2534       1/1                      dq_out_en_dly[i*`DQ_PER_DQS] &lt;= #(TWLO) 1'b1;
2535       1/1                      dq_out_dly[i*`DQ_PER_DQS] &lt;= #(TWLO) diff_ck;
2536       1/1                      for (j=1; j&lt;`DQ_PER_DQS; j=j+1) begin
2537       1/1                          dq_out_en_dly[i*`DQ_PER_DQS+j] &lt;= #(TWLO + TWLOE) 1'b1;
2538       1/1                          dq_out_dly[i*`DQ_PER_DQS+j] &lt;= #(TWLO + TWLOE) 1'b0;
2539                                end
2540                            end
                        MISSING_ELSE
2541       1/1                  if (dqs_in_valid &amp;&amp; ((wdqs_pos_cntr[i] &lt; wr_burst_length/2) || b2b_write)) begin
2542       1/1                      if (dqs_in[i] ^ prev_dqs_in[i]) begin
2543       1/1                          if (dll_locked) begin
2544       1/1                              if (check_write_preamble[i]) begin
2545       1/1                                  if ($time - tm_dqs_pos[i] &lt; $rtoi(TWPRE*tck_avg))
2546       <font color = "red">0/1     ==>                              $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tWPRE violation on &amp;s bit %d&quot;, _ModuleName, $time, dqs_string[i/16], i%16);</font>
                        MISSING_ELSE
2547       1/1                              end else if (check_write_postamble[i]) begin
2548       <font color = "red">0/1     ==>                          if ($time - tm_dqs_neg[i] &lt; $rtoi(TWPST*tck_avg))</font>
2549       <font color = "red">0/1     ==>                              $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tWPST violation on %s bit %d&quot;, _ModuleName, $time, dqs_string[i/16], i%16);</font>
                   <font color = "red">==>  MISSING_ELSE</font>
2550                                        end else begin
2551       1/1                                  if ($time - tm_dqs_neg[i] &lt; $rtoi(TDQSL*tck_avg))
2552       <font color = "red">0/1     ==>                              $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tDQSL violation on %s bit %d&quot;, _ModuleName, $time, dqs_string[i/16], i%16);</font>
                        MISSING_ELSE
2553                                        end
2554                                    end
                   <font color = "red">==>  MISSING_ELSE</font>
2555       1/1                          if ($time - tm_dm[i%16] &lt; TDS)
2556       <font color = "red">0/1     ==>                      $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tDS violation on DM bit %d by %t&quot;, _ModuleName, $time, i,  tm_dm[i%16] + TDS - $time);</font>
                        MISSING_ELSE
2557       1/1                          if (!dq_out_en) begin
2558       1/1                              for (j=0; j&lt;`DQ_PER_DQS; j=j+1) begin
2559       1/1                                  if ($time - tm_dq[(i%16)*`DQ_PER_DQS+j] &lt; TDS)
2560       <font color = "red">0/1     ==>                              $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tDS violation on DQ bit %d by %t&quot;, _ModuleName, $time, i*`DQ_PER_DQS+j, tm_dq[(i%16)*`DQ_PER_DQS+j] + TDS - $time);</font>
                        MISSING_ELSE
2561       1/1                                  check_dq_tdipw[(i%16)*`DQ_PER_DQS+j] &lt;= 1'b1;
2562                                        end
2563                                    end
                   <font color = "red">==>  MISSING_ELSE</font>
2564       1/1                          if ((wdqs_pos_cntr[i] &lt; wr_burst_length/2) &amp;&amp; !b2b_write) begin
2565       1/1                              wdqs_pos_cntr[i] &lt;= wdqs_pos_cntr[i] + 1;
2566                                    end else begin
2567       <font color = "red">0/1     ==>                      wdqs_pos_cntr[i] &lt;= 1;</font>
2568                                    end
2569       1/1                          check_dm_tdipw[i%16] &lt;= 1'b1;
2570       1/1                          check_write_preamble[i] &lt;= 1'b0;
2571       1/1                          check_write_postamble[i] &lt;= 1'b0;
2572       1/1                          check_write_dqs_low[i] &lt;= 1'b0;
2573       1/1                          tm_dqs[i%16] &lt;= $time;
2574                                end else begin
2575       <font color = "red">0/1     ==>                  $fdisplay(HANDLE, &quot;%s: at time %t ERROR: Invalid latching edge on %s bit %d&quot;, _ModuleName, $time, dqs_string[i/16], i%16);</font>
2576                                end
2577                            end
                        MISSING_ELSE
2578       1/1                  tm_dqss_pos[i] &lt;= $time;
2579       1/1                  tm_dqs_pos[i] = $time;
2580       1/1                  prev_dqs_in[i] &lt;= dqs_in[i];
2581                        end
2582                        endtask
2583                    
2584       1/1              always @(posedge dqs_in[ 0]) dqs_pos_timing_check( 0);
2585       <font color = "red">0/1     ==>      always @(posedge dqs_in[ 1]) dqs_pos_timing_check( 1);</font>
2586       <font color = "red">0/1     ==>      always @(posedge dqs_in[ 2]) dqs_pos_timing_check( 2);</font>
2587       <font color = "red">0/1     ==>      always @(posedge dqs_in[ 3]) dqs_pos_timing_check( 3);</font>
2588       <font color = "red">0/1     ==>      always @(posedge dqs_in[ 4]) dqs_pos_timing_check( 4);</font>
2589       <font color = "red">0/1     ==>      always @(posedge dqs_in[ 5]) dqs_pos_timing_check( 5);</font>
2590       <font color = "red">0/1     ==>      always @(posedge dqs_in[ 6]) dqs_pos_timing_check( 6);</font>
2591       <font color = "red">0/1     ==>      always @(posedge dqs_in[ 7]) dqs_pos_timing_check( 7);</font>
2592       <font color = "red">0/1     ==>      always @(posedge dqs_in[ 8]) dqs_pos_timing_check( 8);</font>
2593       <font color = "red">0/1     ==>      always @(posedge dqs_in[ 9]) dqs_pos_timing_check( 9);</font>
2594       <font color = "red">0/1     ==>      always @(posedge dqs_in[10]) dqs_pos_timing_check(10);</font>
2595       <font color = "red">0/1     ==>      always @(posedge dqs_in[11]) dqs_pos_timing_check(11);</font>
2596       <font color = "red">0/1     ==>      always @(posedge dqs_in[12]) dqs_pos_timing_check(12);</font>
2597       <font color = "red">0/1     ==>      always @(posedge dqs_in[13]) dqs_pos_timing_check(13);</font>
2598       <font color = "red">0/1     ==>      always @(posedge dqs_in[14]) dqs_pos_timing_check(14);</font>
2599       <font color = "red">0/1     ==>      always @(posedge dqs_in[15]) dqs_pos_timing_check(15);</font>
2600       1/1              always @(negedge dqs_in[16]) dqs_pos_timing_check(16);
2601       1/1              always @(negedge dqs_in[17]) dqs_pos_timing_check(17);
2602       1/1              always @(negedge dqs_in[18]) dqs_pos_timing_check(18);
2603       1/1              always @(negedge dqs_in[19]) dqs_pos_timing_check(19);
2604       1/1              always @(negedge dqs_in[20]) dqs_pos_timing_check(20);
2605       1/1              always @(negedge dqs_in[21]) dqs_pos_timing_check(21);
2606       1/1              always @(negedge dqs_in[22]) dqs_pos_timing_check(22);
2607       1/1              always @(negedge dqs_in[23]) dqs_pos_timing_check(23);
2608       1/1              always @(negedge dqs_in[24]) dqs_pos_timing_check(24);
2609       1/1              always @(negedge dqs_in[25]) dqs_pos_timing_check(25);
2610       1/1              always @(negedge dqs_in[26]) dqs_pos_timing_check(26);
2611       1/1              always @(negedge dqs_in[27]) dqs_pos_timing_check(27);
2612       1/1              always @(negedge dqs_in[28]) dqs_pos_timing_check(28);
2613       1/1              always @(negedge dqs_in[29]) dqs_pos_timing_check(29);
2614       1/1              always @(negedge dqs_in[30]) dqs_pos_timing_check(30);
2615       1/1              always @(negedge dqs_in[31]) dqs_pos_timing_check(31);
2616                    
2617                        task dqs_neg_timing_check;
2618                        input i;
2619                        reg [4:0] i;
2620                        reg [3:0] j;
2621                        begin
2622       1/1                  if (write_levelization &amp;&amp; i&lt;16) begin
2623       1/1                      if (ck_cntr - ck_load_mode &lt; TWLDQSEN)
2624       <font color = "red">0/1     ==>                  $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tWLDQSEN violation on DQS bit %d.&quot;, _ModuleName, $time, i);</font>
                        MISSING_ELSE
2625       1/1                      if ($time - tm_dqs_pos[i] &lt; $rtoi(TDQSH*tck_avg))
2626       <font color = "red">0/1     ==>                  $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tDQSH violation on DQS bit %d by %t&quot;, _ModuleName, $time, i, tm_dqs_pos[i] + TDQSH*tck_avg - $time);</font>
                        MISSING_ELSE
2627                            end
                        MISSING_ELSE
2628       1/1                  if (dqs_in_valid &amp;&amp; (wdqs_pos_cntr[i] &gt; 0) &amp;&amp; check_write_dqs_high[i]) begin
2629       1/1                      if (dqs_in[i] ^ prev_dqs_in[i]) begin
2630       1/1                          if (dll_locked) begin
2631       1/1                              if ($time - tm_dqs_pos[i] &lt; $rtoi(TDQSH*tck_avg))
2632       <font color = "red">0/1     ==>                          $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tDQSH violation on %s bit %d&quot;, _ModuleName, $time, dqs_string[i/16], i%16);</font>
                        MISSING_ELSE
2633       1/1                              if ($time - tm_ck_pos &lt; $rtoi(TDSH*tck_avg))
2634       <font color = "red">0/1     ==>                          $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tDSH violation on %s bit %d&quot;, _ModuleName, $time, dqs_string[i/16], i%16);</font>
                        MISSING_ELSE
2635                                    end
                   <font color = "red">==>  MISSING_ELSE</font>
2636       1/1                          if ($time - tm_dm[i%16] &lt; TDS)
2637       <font color = "red">0/1     ==>                      $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tDS violation on DM bit %d by %t&quot;, _ModuleName, $time, i,  tm_dm[i%16] + TDS - $time);</font>
                        MISSING_ELSE
2638       1/1                          if (!dq_out_en) begin
2639       1/1                              for (j=0; j&lt;`DQ_PER_DQS; j=j+1) begin
2640       1/1                                  if ($time - tm_dq[(i%16)*`DQ_PER_DQS+j] &lt; TDS)
2641       <font color = "red">0/1     ==>                              $fdisplay(HANDLE, &quot;%s: at time %t ERROR: tDS violation on DQ bit %d by %t&quot;, _ModuleName, $time, i*`DQ_PER_DQS+j, tm_dq[(i%16)*`DQ_PER_DQS+j] + TDS - $time);</font>
                        MISSING_ELSE
2642       1/1                                  check_dq_tdipw[(i%16)*`DQ_PER_DQS+j] &lt;= 1'b1;
2643                                        end
2644                                    end
                   <font color = "red">==>  MISSING_ELSE</font>
2645       1/1                          check_dm_tdipw[i%16] &lt;= 1'b1;
2646       1/1                          tm_dqs[i%16] &lt;= $time;
2647                                end else begin
2648       <font color = "red">0/1     ==>                  $fdisplay(HANDLE, &quot;%s: at time %t ERROR: Invalid latching edge on %s bit %d&quot;, _ModuleName, $time, dqs_string[i/16], i%16);</font>
2649                                end
2650                            end
                        MISSING_ELSE
2651       1/1                  check_write_dqs_high[i] &lt;= 1'b0;
2652       1/1                  tm_dqs_neg[i] = $time;
2653       1/1                  prev_dqs_in[i] &lt;= dqs_in[i];
2654                        end
2655                        endtask
2656                    
2657       1/1              always @(negedge dqs_in[ 0]) dqs_neg_timing_check( 0);
2658       1/1              always @(negedge dqs_in[ 1]) dqs_neg_timing_check( 1);
2659       1/1              always @(negedge dqs_in[ 2]) dqs_neg_timing_check( 2);
2660       1/1              always @(negedge dqs_in[ 3]) dqs_neg_timing_check( 3);
2661       1/1              always @(negedge dqs_in[ 4]) dqs_neg_timing_check( 4);
2662       1/1              always @(negedge dqs_in[ 5]) dqs_neg_timing_check( 5);
2663       1/1              always @(negedge dqs_in[ 6]) dqs_neg_timing_check( 6);
2664       1/1              always @(negedge dqs_in[ 7]) dqs_neg_timing_check( 7);
2665       1/1              always @(negedge dqs_in[ 8]) dqs_neg_timing_check( 8);
2666       1/1              always @(negedge dqs_in[ 9]) dqs_neg_timing_check( 9);
2667       1/1              always @(negedge dqs_in[10]) dqs_neg_timing_check(10);
2668       1/1              always @(negedge dqs_in[11]) dqs_neg_timing_check(11);
2669       1/1              always @(negedge dqs_in[12]) dqs_neg_timing_check(12);
2670       1/1              always @(negedge dqs_in[13]) dqs_neg_timing_check(13);
2671       1/1              always @(negedge dqs_in[14]) dqs_neg_timing_check(14);
2672       1/1              always @(negedge dqs_in[15]) dqs_neg_timing_check(15);
2673       1/1              always @(posedge dqs_in[16]) dqs_neg_timing_check(16);
2674       <font color = "red">0/1     ==>      always @(posedge dqs_in[17]) dqs_neg_timing_check(17);</font>
2675       <font color = "red">0/1     ==>      always @(posedge dqs_in[18]) dqs_neg_timing_check(18);</font>
2676       <font color = "red">0/1     ==>      always @(posedge dqs_in[19]) dqs_neg_timing_check(19);</font>
2677       <font color = "red">0/1     ==>      always @(posedge dqs_in[20]) dqs_neg_timing_check(20);</font>
2678       <font color = "red">0/1     ==>      always @(posedge dqs_in[21]) dqs_neg_timing_check(21);</font>
2679       <font color = "red">0/1     ==>      always @(posedge dqs_in[22]) dqs_neg_timing_check(22);</font>
2680       <font color = "red">0/1     ==>      always @(posedge dqs_in[23]) dqs_neg_timing_check(23);</font>
2681       <font color = "red">0/1     ==>      always @(posedge dqs_in[24]) dqs_neg_timing_check(24);</font>
2682       <font color = "red">0/1     ==>      always @(posedge dqs_in[25]) dqs_neg_timing_check(25);</font>
2683       <font color = "red">0/1     ==>      always @(posedge dqs_in[26]) dqs_neg_timing_check(26);</font>
2684       <font color = "red">0/1     ==>      always @(posedge dqs_in[27]) dqs_neg_timing_check(27);</font>
2685       <font color = "red">0/1     ==>      always @(posedge dqs_in[28]) dqs_neg_timing_check(28);</font>
2686       <font color = "red">0/1     ==>      always @(posedge dqs_in[29]) dqs_neg_timing_check(29);</font>
2687       <font color = "red">0/1     ==>      always @(posedge dqs_in[30]) dqs_neg_timing_check(30);</font>
2688       <font color = "red">0/1     ==>      always @(posedge dqs_in[31]) dqs_neg_timing_check(31);</font>
</pre>
</div>
<div class="ui-layout-south">
<table align=center><tr><td class="s0 cl">0%</td>
<td class="s1 cl">10%</td>
<td class="s2 cl">20%</td>
<td class="s3 cl">30%</td>
<td class="s4 cl">40%</td>
<td class="s5 cl">50%</td>
<td class="s6 cl">60%</td>
<td class="s7 cl">70%</td>
<td class="s8 cl">80%</td>
<td class="s9 cl">90%</td>
<td class="s10 cl">100%</td></tr></table></div>
</body>
</html>
