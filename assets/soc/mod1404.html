<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="Author" content="<username>"> <meta name="GENERATOR" content="urg/version [en] (platform name) [urg]">
<title>Unified Coverage Report :: Module :: gem_rx_decode</title>
<link type="text/css" rel="stylesheet" href="css/.urg.css">
<link type="text/css" rel="stylesheet" href="css/.layout.css">
<link type="text/css" rel="stylesheet" href="css/.breadcrumb.css">
<script type="text/javascript" src="js/.jquery.js"></script>
<script type="text/javascript" src="js/.jquery-ui.js"></script>
<script type="text/javascript" src="js/.sortable.js"></script>
<script type="text/javascript" src="js/.layout.js"></script>
<script type="text/javascript" src="js/.breadcrumb.js"></script>
<script type="text/javascript">
var layout, westLayout, centerLayout;
$(document).ready(function () {
  if ($("#north-bread-crumb")) {
    $("#north-bread-crumb").jBreadCrumb({easing:'swing'})
  }
  layout = $("body").layout({ 
    resizable: true,
    spacing_open: 4,
    spacing_closed: 4,
    north: {
      size: 76
    },
    south: {
      size: 45,
      initClosed: true
    },
    west: {
      size: 500,
      resizable: true,
      initClosed: false
    }
  });
  centerLayout = $('div.ui-layout-center').layout({
    north__paneSelector: ".ui-layout-center-inner-north",
    center__paneSelector: ".ui-layout-center-inner-center", 
    north__size: 50,
    spacing_open: 4,
    spacing_closed: 4
  });
});
</script>
</head>
<body onLoad="initPage();"><div class="ui-layout-north">
<div class="logo"></div>
<center class="pagetitle">Module Definition</center>
<div align="center"><a href="dashboard.html" ><b>dashboard</b></a> | <a href="hierarchy.html" ><b>hierarchy</b></a> | <a href="modlist.html" ><b>modlist</b></a> | groups | <a href="tests.html" ><b>tests</b></a> | <a href="asserts.html" ><b>asserts</b></a></div>

</div>
<div class="ui-layout-west">
<div name='tag_gem_rx_decode'>
<div class=modhdr>
<br clear=all>
<span class=titlename>Module : <a href="#"  onclick="showContent('tag_gem_rx_decode')">gem_rx_decode</a></span>
<br clear=all>
<table align=left>
<tr class="sortablehead">
<td>SCORE</td><td>LINE</td><td>COND</td><td>TOGGLE</td><td>FSM</td><td>BRANCH</td><td>ASSERT</td></tr><tr>
<td class="s3 cl rt"> 34.10</td>
<td class="s5 cl rt"><a href="mod1404.html#Line" > 59.43</a></td>
<td class="s2 cl rt"><a href="mod1404.html#Cond" > 20.00</a></td>
<td class="s2 cl rt"><a href="mod1404.html#Toggle" > 24.33</a></td>
<td class="s2 cl rt"><a href="mod1404.html#FSM" > 27.78</a></td>
<td class="s3 cl rt"><a href="mod1404.html#Branch" > 38.95</a></td>
<td class="wht cl rt"></td>
</tr></table><br clear=all>
<span class=repname>Source File(s) : </span>
<br clear=all>
<a href="javascript:void(0);"  onclick="openSrcFile('/nfs_project/gemini/DV/nadeem/dv/night_reg/gemini/design/ip/GbE/hdl/gem_rx_decode.v')">/nfs_project/gemini/DV/nadeem/dv/night_reg/gemini/design/ip/GbE/hdl/gem_rx_decode.v</a><br clear=all>
<br clear=all>
<span class=repname>Module self-instances :</span>
<br clear=all>
<table align=left>
<tr class="sortablehead">
<td class="alfsrt">NAME</td><td>SCORE</td><td>LINE</td><td>COND</td><td>TOGGLE</td><td>FSM</td><td>BRANCH</td><td>ASSERT</td></tr><tr>
<td class="wht cl wordwrap"><a href="mod1404.html#inst_tag_172226"  onclick="showContent('inst_tag_172226')">config_ss_tb.DUT.config_ss.gbe_u.gem_top_u.i_gem_ss.i_gem_top.i_gem_mac.i_gem_rx.i_rx_deco<img src="fx.gif" class="icon"></a></td>
<td class="wht cl rt"></td>
<td class="wht cl rt"></td>
<td class="wht cl rt"></td>
<td class="wht cl rt"></td>
<td class="wht cl rt"></td>
<td class="wht cl rt"></td>
<td class="wht cl rt"></td>
</tr></table></div>
</div>
<br clear=all>
</div>
<div class="ui-layout-center">
<div class="ui-layout-center-inner-center">
<div name='tag_gem_rx_decode'>
<a name="Line"></a>
Line Coverage for Module : <a href="mod1404.html" >gem_rx_decode</a><br clear=all>
<table class="noborder">
<col width="122">
<col span="4" width="82">
<tr><th></th><th>Line No.</th><th>Total</th><th>Covered</th><th>Percent</th></tr>
<tr class="s5"><td class="lf">TOTAL</td><td></td><td>1023</td><td>608</td><td>59.43</td></tr>
<tr class="s9"><td class="lf">ALWAYS</td><td>619</td><td>216</td><td>213</td><td>98.61</td></tr>
<tr class="s4"><td class="lf">ALWAYS</td><td>1002</td><td>617</td><td>289</td><td>46.84</td></tr>
<tr class="s7"><td class="lf">ALWAYS</td><td>2556</td><td>4</td><td>3</td><td>75.00</td></tr>
<tr class="s10"><td class="lf">ALWAYS</td><td>2568</td><td>6</td><td>6</td><td>100.00</td></tr>
<tr class="s7"><td class="lf">ALWAYS</td><td>2587</td><td>4</td><td>3</td><td>75.00</td></tr>
<tr class="s6"><td class="lf">ALWAYS</td><td>2601</td><td>11</td><td>7</td><td>63.64</td></tr>
<tr class="s5"><td class="lf">ALWAYS</td><td>2639</td><td>11</td><td>6</td><td>54.55</td></tr>
<tr class="s5"><td class="lf">ALWAYS</td><td>2680</td><td>7</td><td>4</td><td>57.14</td></tr>
<tr class="s10"><td class="lf">ALWAYS</td><td>2702</td><td>7</td><td>7</td><td>100.00</td></tr>
<tr class="s2"><td class="lf">ALWAYS</td><td>2757</td><td>21</td><td>6</td><td>28.57</td></tr>
<tr class="s6"><td class="lf">ALWAYS</td><td>2827</td><td>3</td><td>2</td><td>66.67</td></tr>
<tr class="s10"><td class="lf">ALWAYS</td><td>2852</td><td>3</td><td>3</td><td>100.00</td></tr>
<tr class="s5"><td class="lf">ALWAYS</td><td>2885</td><td>7</td><td>4</td><td>57.14</td></tr>
<tr class="s5"><td class="lf">ALWAYS</td><td>2906</td><td>7</td><td>4</td><td>57.14</td></tr>
<tr class="s10"><td class="lf">ALWAYS</td><td>2932</td><td>9</td><td>9</td><td>100.00</td></tr>
<tr class="s5"><td class="lf">ALWAYS</td><td>2961</td><td>24</td><td>13</td><td>54.17</td></tr>
<tr class="s8"><td class="lf">ALWAYS</td><td>3018</td><td>6</td><td>5</td><td>83.33</td></tr>
<tr class="s4"><td class="lf">ALWAYS</td><td>3038</td><td>60</td><td>24</td><td>40.00</td></tr>
</table>
<pre class="code"><br clear=all>
618                          begin
619        1/1                if (~n_rxreset)
620                              begin
621        1/1                      rx_dec_state    &lt;= RX_DEC_IDLE;
622        1/1                      ext_da          &lt;= 48'd0;
623        1/1                      ext_da_stb      &lt;= 1'b0;
624        1/1                      ext_sa          &lt;= 48'd0;
625        1/1                      ext_sa_stb      &lt;= 1'b0;
626        1/1                      ext_type        &lt;= 16'h0000;
627        1/1                      ext_type_stb    &lt;= 1'b0;
628        1/1                      ext_ip_sa       &lt;= 128'h00000000000000000000000000000000;
629        1/1                      ext_ip_sa_stb   &lt;= 1'b0;
630        1/1                      ext_ip_da       &lt;= 128'h00000000000000000000000000000000;
631        1/1                      ext_ip_da_stb   &lt;= 1'b0;
632        1/1                      ext_source_port &lt;= 16'h0000;
633        1/1                      ext_sp_stb      &lt;= 1'b0;
634        1/1                      ext_dest_port   &lt;= 16'h0000;
635        1/1                      ext_dp_stb      &lt;= 1'b0;
636        1/1                      ext_ipv6        &lt;= 1'b0;
637        1/1                      drop_pause_frame&lt;= 1'b0;
638        1/1                      length_field    &lt;= 16'hffff;
639        1/1                      vlan_tagged     &lt;= 1'b0;
640        1/1                      tci             &lt;= 4'h0;
641        1/1                      priority_tagged &lt;= 1'b0;
642        1/1                      pause_frame     &lt;= 1'b0;
643        1/1                      pause_time      &lt;= 16'h0000;
644        1/1                      pfc_pause_time0 &lt;= 16'h0000;
645        1/1                      pfc_pause_time1 &lt;= 16'h0000;
646        1/1                      pfc_pause_time2 &lt;= 16'h0000;
647        1/1                      pfc_pause_time3 &lt;= 16'h0000;
648        1/1                      pfc_pause_time4 &lt;= 16'h0000;
649        1/1                      pfc_pause_time5 &lt;= 16'h0000;
650        1/1                      pfc_pause_time6 &lt;= 16'h0000;
651        1/1                      pfc_pause_time7 &lt;= 16'h0000;
652        1/1                      pfc_pause_frame &lt;= 1'b0;
653        1/1                      pfc_decoded     &lt;= 1'b0;
654        1/1                      pause2_cnt      &lt;= 4'h0;
655        1/1                      priority_enable &lt;= 8'h00;
656        1/1                      snap_frame      &lt;= 1'b0;
657        1/1                      ip_opt_length   &lt;= 8'h00;
658        1/1                      ip_totlength    &lt;= 16'h0000;
659        1/1                      ip_v4_frame     &lt;= 1'b0;
660        1/1                      arp_frame       &lt;= 1'b0;
661        1/1                      tcp_frame       &lt;= 1'b0;
662        1/1                      udp_frame       &lt;= 1'b0;
663        1/1                      ptp_frame       &lt;= 1'b0;
664        1/1                      ip_check        &lt;= 1'b0;
665        1/1                      tcp_udp_check   &lt;= 1'b0;
666        1/1                      no_tcp_udp_ck   &lt;= 1'b0;
667        1/1                      ip_v4_tos       &lt;= 8'h00;
668        1/1                      ip_v6_tc        &lt;= 8'h00;
669                                 // Stacked VLAN tag support
670        1/1                      second_vlan       &lt;= 1'b0;
671        1/1                      ext_vlan_tag1     &lt;= 32'h0000_0000;
672        1/1                      ext_vlan_tag2     &lt;= 32'h0000_0000;
673        1/1                      ext_vlan_tag1_stb &lt;= 1'b0;
674        1/1                      ext_vlan_tag2_stb &lt;= 1'b0;
675        1/1                      ip_v6_frame     &lt;= 1'b0;
676        1/1                      store_tcp_csum  &lt;= 1'b0;
677        1/1                      ipv6_ext_hdr    &lt;= 1'b0;
678        1/1                      cur_hdr_is_frag &lt;= 1'b0;
679        1/1                      nxt_hdr_is_frag &lt;= 1'b0;
680        1/1                      cur_hdr_is_route&lt;= 1'b0;
681        1/1                      nxt_hdr_is_route&lt;= 1'b0;
682        1/1                      ptp_primary_load&lt;= 1'b0;
683        1/1                      ptp_pdelay_load &lt;= 1'b0;
684        1/1                      udptcp_offset   &lt;= 11'h000;
685        1/1                      pld_offset      &lt;= 16'd0;
686        1/1                      in_payload      &lt;= 1'b0;
687        1/1                      pld_offset_vld  &lt;= 1'b0;
688        1/1                      tcp_offset      &lt;= 4'h0;
689                     //            frer_rtag_seqnum&lt;= 16'h0000;
690                     //            frer_rtag_seqnum_stb  &lt;= 1'b0;
691                              end
692        1/1                else if (~enable_receive_rck | ~frame_being_decoded)
693                              begin
694        1/1                      rx_dec_state    &lt;= RX_DEC_IDLE;
695        1/1                      ext_da          &lt;= 48'd0;
696        1/1                      ext_da_stb      &lt;= 1'b0;
697        1/1                      ext_sa          &lt;= 48'd0;
698        1/1                      ext_sa_stb      &lt;= 1'b0;
699        1/1                      ext_type        &lt;= 16'h0000;
700        1/1                      ext_type_stb    &lt;= 1'b0;
701        1/1                      ext_ip_sa       &lt;= 128'h00000000000000000000000000000000;
702        1/1                      ext_ip_sa_stb   &lt;= 1'b0;
703        1/1                      ext_ip_da       &lt;= 128'h00000000000000000000000000000000;
704        1/1                      ext_ip_da_stb   &lt;= 1'b0;
705        1/1                      ext_sp_stb      &lt;= 1'b0;
706        1/1                      ext_source_port &lt;= 16'h0000;
707        1/1                      ext_dest_port   &lt;= 16'h0000;
708        1/1                      ext_dp_stb      &lt;= 1'b0;
709        1/1                      ext_ipv6        &lt;= 1'b0;
710        1/1                      drop_pause_frame&lt;= 1'b0;
711        1/1                      length_field    &lt;= 16'hffff;
712        1/1                      vlan_tagged     &lt;= 1'b0;
713        1/1                      tci             &lt;= 4'h0;
714        1/1                      priority_tagged &lt;= 1'b0;
715        1/1                      pause_frame     &lt;= 1'b0;
716        1/1                      pause_time      &lt;= 16'h0000;
717        1/1                      pfc_pause_frame &lt;= 1'b0;
718        1/1                      pfc_decoded     &lt;= 1'b0;
719        1/1                      pause2_cnt      &lt;= 4'h0;
720        1/1                      snap_frame      &lt;= 1'b0;
721        1/1                      ip_v4_frame     &lt;= 1'b0;
722        1/1                      arp_frame       &lt;= 1'b0;
723        1/1                      tcp_frame       &lt;= 1'b0;
724        1/1                      udp_frame       &lt;= 1'b0;
725        1/1                      ptp_frame       &lt;= 1'b0;
726        1/1                      ip_check        &lt;= 1'b0;
727        1/1                      tcp_udp_check   &lt;= 1'b0;
728        1/1                      no_tcp_udp_ck   &lt;= 1'b0;
729        1/1                      ip_v4_tos       &lt;= 8'h00;
730        1/1                      ip_v6_tc        &lt;= 8'h00;
731        1/1                      in_payload      &lt;= 1'b0;
732                                 // Stacked VLAN tag support
733        1/1                      second_vlan       &lt;= 1'b0;
734        1/1                      ext_vlan_tag1     &lt;= 32'h0000_0000;
735        1/1                      ext_vlan_tag2     &lt;= 32'h0000_0000;
736        1/1                      ext_vlan_tag1_stb &lt;= 1'b0;
737        1/1                      ext_vlan_tag2_stb &lt;= 1'b0;
738        1/1                      ip_v6_frame     &lt;= 1'b0;
739        1/1                      store_tcp_csum  &lt;= 1'b0;
740        1/1                      ipv6_ext_hdr    &lt;= 1'b0;
741        1/1                      nxt_hdr_is_frag &lt;= 1'b0;
742        1/1                      cur_hdr_is_frag &lt;= 1'b0;
743        1/1                      cur_hdr_is_route&lt;= 1'b0;
744        1/1                      nxt_hdr_is_route&lt;= 1'b0;
745        1/1                      ptp_primary_load&lt;= 1'b0;
746        1/1                      ptp_pdelay_load &lt;= 1'b0;
747        1/1                      pld_offset_vld  &lt;= 1'b0;
748                     //            frer_rtag_seqnum_stb  &lt;= 1'b0;
749        1/1                      if (~enable_receive_rck)
750                                 begin
751        1/1                        pfc_pause_time0 &lt;= 16'h0000;
752        1/1                        pfc_pause_time1 &lt;= 16'h0000;
753        1/1                        pfc_pause_time2 &lt;= 16'h0000;
754        1/1                        pfc_pause_time3 &lt;= 16'h0000;
755        1/1                        pfc_pause_time4 &lt;= 16'h0000;
756        1/1                        pfc_pause_time5 &lt;= 16'h0000;
757        1/1                        pfc_pause_time6 &lt;= 16'h0000;
758        1/1                        pfc_pause_time7 &lt;= 16'h0000;
759        1/1                        priority_enable &lt;= 8'h00;
760        1/1                        ip_opt_length   &lt;= 8'h00;
761        1/1                        ip_totlength    &lt;= 16'h0000;
762        1/1                        udptcp_offset   &lt;= 11'h000;
763        1/1                        pld_offset      &lt;= 16'h0000;
764        1/1                        tcp_offset      &lt;= 4'h0;
765                     //              frer_rtag_seqnum&lt;= 16'h0000;
766                                 end
                        MISSING_ELSE
767                              end
768                           else
769                              begin
770        1/1                      rx_dec_state    &lt;= rx_dec_state_nxt;
771        1/1                      ext_da          &lt;= ext_da_nxt;
772        1/1                      ext_da_stb      &lt;= ext_da_stb_nxt;
773        1/1                      ext_sa          &lt;= ext_sa_nxt;
774        1/1                      ext_sa_stb      &lt;= ext_sa_stb_nxt;
775        1/1                      ext_type        &lt;= ext_type_nxt;
776        1/1                      ext_type_stb    &lt;= ext_type_stb_nxt;
777        1/1                      ext_ip_sa       &lt;= ext_ip_sa_nxt;
778        1/1                      ext_ip_sa_stb   &lt;= ext_ip_sa_stb_nxt;
779        1/1                      ext_ip_da       &lt;= ext_ip_da_nxt;
780        1/1                      ext_ip_da_stb   &lt;= ext_ip_da_stb_nxt;
781        1/1                      ext_sp_stb      &lt;= ext_sp_stb_nxt;
782        1/1                      ext_dp_stb      &lt;= ext_dp_stb_nxt;
783        1/1                      ext_source_port &lt;= ext_source_port_nxt;
784        1/1                      ext_dest_port   &lt;= ext_dest_port_nxt;
785        1/1                      ext_ipv6        &lt;= ext_ipv6_nxt;
786        1/1                      drop_pause_frame&lt;= drop_pause_frame_nxt;
787        1/1                      length_field    &lt;= length_field_nxt;
788        1/1                      vlan_tagged     &lt;= vlan_tagged_nxt;
789        1/1                      tci             &lt;= tci_nxt;
790        1/1                      priority_tagged &lt;= priority_tag_nxt;
791        1/1                      pause_frame     &lt;= pause_frame_nxt;
792        1/1                      pause_time      &lt;= pause_time_nxt;
793        1/1                      pfc_pause_time0 &lt;= pfc_pause_time0_nxt;
794        1/1                      pfc_pause_time1 &lt;= pfc_pause_time1_nxt;
795        1/1                      pfc_pause_time2 &lt;= pfc_pause_time2_nxt;
796        1/1                      pfc_pause_time3 &lt;= pfc_pause_time3_nxt;
797        1/1                      pfc_pause_time4 &lt;= pfc_pause_time4_nxt;
798        1/1                      pfc_pause_time5 &lt;= pfc_pause_time5_nxt;
799        1/1                      pfc_pause_time6 &lt;= pfc_pause_time6_nxt;
800        1/1                      pfc_pause_time7 &lt;= pfc_pause_time7_nxt;
801        1/1                      pfc_pause_frame &lt;= pfc_pause_frame_nxt;
802        1/1                      pfc_decoded     &lt;= pfc_decoded_nxt;
803        1/1                      pause2_cnt      &lt;= pause2_cnt_nxt;
804        1/1                      priority_enable &lt;= priority_enable_nxt;
805        1/1                      snap_frame      &lt;= snap_frame_nxt;
806        1/1                      ip_opt_length   &lt;= ip_opt_length_nxt;
807        1/1                      ip_totlength    &lt;= ip_totlength_nxt;
808        1/1                      ip_v4_frame     &lt;= ip_v4_frame_nxt;
809        1/1                      arp_frame       &lt;= arp_frame_nxt;
810        1/1                      tcp_frame       &lt;= tcp_frame_nxt;
811        1/1                      udp_frame       &lt;= udp_frame_nxt;
812        1/1                      ptp_frame       &lt;= ptp_frame_nxt;
813        1/1                      ip_check        &lt;= ip_check_nxt;
814        1/1                      tcp_udp_check   &lt;= tcp_udp_check_nxt;
815        1/1                      in_payload      &lt;= in_payload_nxt;
816        1/1                      no_tcp_udp_ck   &lt;= no_tcp_udp_ck_nxt;
817                                 // Stacked VLAN tag support
818        1/1                      second_vlan     &lt;= second_vlan_nxt;
819        1/1                      ext_vlan_tag1   &lt;= ext_vlan_tag1_nxt;
820        1/1                      ext_vlan_tag2   &lt;= ext_vlan_tag2_nxt;
821        1/1                      ext_vlan_tag1_stb &lt;= ext_vlan_tag1_stb_nxt;
822        1/1                      ext_vlan_tag2_stb &lt;= ext_vlan_tag2_stb_nxt;
823        1/1                      ip_v6_frame     &lt;= ip_v6_frame_nxt;
824        1/1                      store_tcp_csum  &lt;= store_tcp_csum_nxt;
825        1/1                      ipv6_ext_hdr    &lt;= ipv6_ext_hdr_nxt;
826        1/1                      nxt_hdr_is_frag &lt;= nxt_hdr_is_frag_nxt;
827        1/1                      nxt_hdr_is_route&lt;= nxt_hdr_is_route_nxt;
828        1/1                      ip_v4_tos       &lt;= ip_v4_tos_nxt;
829        1/1                      ip_v6_tc        &lt;= ip_v6_tc_nxt;
830        1/1                      tcp_offset      &lt;= tcp_offset_nxt;
831                     //            frer_rtag_seqnum&lt;= frer_rtag_seqnum_nxt;
832                     //            frer_rtag_seqnum_stb  &lt;= frer_rtag_seqnum_stb_nxt;
833        1/1                      if ((((rx_dec_state == RX_DEC_IPv6_1) &amp; state_count == 11'h013)
834                                     |
835                                       ((rx_dec_state == RX_DEC_IPv6_2) &amp;
836                                         (state_count == ({1'b0,ip_opt_length,2'b00} + 11'd3))))
837                                     &amp; new_aligned_data)
838                                    begin
839        <font color = "red">0/1     ==>                    cur_hdr_is_frag  &lt;= nxt_hdr_is_frag;</font>
840        <font color = "red">0/1     ==>                    cur_hdr_is_route &lt;= nxt_hdr_is_route;</font>
841                                    end
                        MISSING_ELSE
842        1/1                      ptp_primary_load&lt;= ptp_primary_nxt;
843        1/1                      ptp_pdelay_load &lt;= ptp_pdelay_nxt;
844                     
845        1/1                      if (start_of_data)
846                                 begin
847        1/1                        pld_offset    &lt;= 16'd14;
848        1/1                        udptcp_offset &lt;= 11'h000;
849                                 end
850        1/1                      else if (~in_payload &amp; new_aligned_data)
851                                 begin
852        1/1                        if (last_vlan_hdr)
853        1/1                          pld_offset    &lt;= pld_offset_p4[15:0];
854        1/1                        else if (last_snap_hdr)
855        <font color = "red">0/1     ==>                  pld_offset    &lt;= pld_offset_p8[15:0];</font>
856        1/1                        else if (in_other_hdr | rx_dec_state == RX_DEC_CKSUM)
857        1/1                          pld_offset    &lt;= pld_offset_p2[15:0];
                        MISSING_ELSE
858                     
859        1/1                        if ((rx_dec_state != RX_DEC_CKSUM) &amp; (rx_dec_state != RX_DEC_IDLE))
860        1/1                          udptcp_offset &lt;= udptcp_offset + 11'h001;
                        MISSING_ELSE
861                                 end
                        MISSING_ELSE
862                     
863        1/1                      if (new_aligned_data)
864                                 begin
865        1/1                        pld_offset_vld  &lt;= in_payload_nxt &amp; ~in_payload;
866                                 end
                        MISSING_ELSE
867                     
868                              end
869                          end
870                        assign ext_has_2vlans = second_vlan;
871                     
872                     generate if (p_edma_rsc == 1) begin : gen_rsc_extractions
873                        reg          rsc_stop_r;
874                        reg          rsc_push_r;
875                        reg          tcp_syn_r;
876                        reg  [31:0]  tcp_seqnum_r;
877                        
878                        always@(posedge rx_clk or negedge n_rxreset)
879                          begin
880                           if (~n_rxreset)
881                              begin
882                                 rsc_stop_r        &lt;= 1'b0;
883                                 rsc_push_r        &lt;= 1'b0;
884                                 tcp_syn_r         &lt;= 1'b0;
885                                 tcp_seqnum_r      &lt;= 32'h00000000;
886                              end
887                           else if (~enable_receive_rck | ~frame_being_decoded)
888                              begin
889                                 rsc_stop_r        &lt;= (~enable_receive_rck)? 1'b0 : rsc_stop;
890                                 rsc_push_r        &lt;= (~enable_receive_rck)? 1'b0 : rsc_push;
891                                 tcp_syn_r         &lt;= (~enable_receive_rck)? 1'b0 : tcp_syn;
892                                 tcp_seqnum_r      &lt;= (~enable_receive_rck)? 32'h00000000 : tcp_seqnum;
893                              end
894                           else
895                              begin
896                                 rsc_stop_r        &lt;= rsc_stop_nxt;
897                                 rsc_push_r        &lt;= rsc_push_nxt;
898                                 tcp_syn_r         &lt;= tcp_syn_nxt;
899                                 tcp_seqnum_r      &lt;= {tcp_seqnum_high_nxt,tcp_seqnum_low_nxt};
900                              end
901                          end
902                          assign rsc_stop         = rsc_stop_r;
903                          assign rsc_push         = rsc_push_r;
904                          assign tcp_syn          = tcp_syn_r;
905                          assign tcp_seqnum       = tcp_seqnum_r;
906                     end else begin : gen_no_edma_rsc
907                          assign rsc_stop         = 1'b0;
908                          assign rsc_push         = 1'b0;
909                          assign tcp_syn          = 1'b0;
910                          assign tcp_seqnum       = 32'h00000000;
911                     end
912                     endgenerate
913                     
914                     
915                     
916                     generate if (p_num_type2_screeners &gt; 8'd0 &amp;&amp; p_num_scr2_compare_regs &gt; 8'd0) begin : gen_screener_extractions
917                        reg    [6:0]   index_cnt_sof_r;           // Index of Frame from SOF
918                        reg    [6:0]   index_cnt_type_r;          // Index of Frame from ethertype
919                        reg            index_cnt_l3_en_r;         // Enables the L3 index counter
920                        reg            index_cnt_l4_en_r;         // Enables the L4 index counter
921                        reg    [6:0]   index_cnt_l3_r;            // Index of Frame from L3 header
922                        reg    [6:0]   index_cnt_l4_r;            // Index of Frame from L4 header
923                        always@(posedge rx_clk or negedge n_rxreset)
924                          begin
925                           if (~n_rxreset)
926                              begin
927                                 index_cnt_sof_r   &lt;= 7'd0;
928                                 index_cnt_type_r  &lt;= 7'd0;
929                                 index_cnt_l3_en_r &lt;= 1'b0;
930                                 index_cnt_l4_en_r &lt;= 1'b0;
931                                 index_cnt_l3_r    &lt;= 7'd0;
932                                 index_cnt_l4_r    &lt;= 7'd0;
933                              end
934                           else if (~enable_receive_rck | ~frame_being_decoded)
935                              begin
936                                 index_cnt_sof_r   &lt;= 7'd0;
937                                 index_cnt_type_r  &lt;= 7'd0;
938                                 index_cnt_l3_en_r &lt;= 1'b0;
939                                 index_cnt_l4_en_r &lt;= 1'b0;
940                                 index_cnt_l3_r    &lt;= 7'd0;
941                                 index_cnt_l4_r    &lt;= 7'd0;
942                              end
943                           else
944                              begin
945                                 // Create Index counters into frame. Note we need 2
946                                 // seperate indexes here as the compare registers in
947                                 // the type2 extended screeners can independantly use either
948                                 if (new_aligned_data &amp; (index_cnt_sof != 7'b1111111))
949                                   index_cnt_sof_r   &lt;= index_cnt_sof + 7'b0000001;
950                     
951                                 if (rx_dec_state != RX_DEC_DA1  &amp;
952                                     rx_dec_state != RX_DEC_DA2  &amp;
953                                     rx_dec_state != RX_DEC_DA3  &amp;
954                                     rx_dec_state != RX_DEC_SA1  &amp;
955                                     rx_dec_state != RX_DEC_SA2  &amp;
956                                     rx_dec_state != RX_DEC_SA3  &amp;
957                                     rx_dec_state != RX_DEC_TYPE &amp;
958                                     rx_dec_state != CB_RTAG &amp;
959                                     rx_dec_state != CB_TAG_RSVD &amp;
960                                     rx_dec_state != RX_DEC_VLAN1 &amp;
961                                     rx_dec_state != RX_DEC_VLAN2 &amp;
962                                     ~(rx_dec_state == RX_DEC_SNAP1 &amp; rx_dec_state_nxt == RX_DEC_SNAP2) &amp;
963                                     rx_dec_state != RX_DEC_SNAP2 &amp;
964                                     rx_dec_state != RX_DEC_SNAP3 &amp;
965                                     rx_dec_state != RX_DEC_SNAP4 &amp;
966                                     (index_cnt_type != 7'b1111111) &amp; new_aligned_data)
967                                   index_cnt_type_r  &lt;= index_cnt_type + 7'b0000001;
968                     
969                                 if (last_ip_header | last_ipv6_header)
970                                   index_cnt_l3_en_r    &lt;= 1'b1;
971                     
972                                 if (index_cnt_l3_en_r &amp; new_aligned_data &amp; (index_cnt_l3 != 7'b1111111))
973                                   index_cnt_l3_r    &lt;= index_cnt_l3 + 7'b0000001;
974                     
975                                 if (last_tcpudp_header)
976                                   index_cnt_l4_en_r    &lt;= 1'b1;
977                     
978                                 if (index_cnt_l4_en_r &amp; new_aligned_data &amp; (index_cnt_l4 != 7'b1111111))
979                                   index_cnt_l4_r    &lt;= index_cnt_l4 + 7'b0000001;
980                              end
981                          end
982                     
983                          assign  index_cnt_sof   = index_cnt_sof_r;
984                          assign  index_cnt_type  = index_cnt_type_r;
985                          assign  index_cnt_l3    = index_cnt_l3_r;
986                          assign  index_cnt_l4    = index_cnt_l4_r;
987                      end else begin : gen_no_screener_extract
988                          assign  index_cnt_sof   = 7'h00;
989                          assign  index_cnt_type  = 7'h00;
990                          assign  index_cnt_l3    = 7'h00;
991                          assign  index_cnt_l4    = 7'h00;
992                      end
993                      endgenerate
994                     
995                     
996                     
997                     
998                        // TCP Receive checksum offload state machine (asynchronous part)
999                        always@(*)
1000                       begin
1001                          // defaults for next value is current value
1002       1/1                ext_da_nxt        = ext_da;
1003       1/1                ext_sa_nxt        = ext_sa;
1004       1/1                ext_type_nxt      = ext_type;
1005       1/1                ext_ip_sa_nxt     = ext_ip_sa;
1006       1/1                ext_ip_da_nxt     = ext_ip_da;
1007       1/1                ext_source_port_nxt = ext_source_port;
1008       1/1                ext_dest_port_nxt = ext_dest_port;
1009       1/1                ext_ipv6_nxt      = ext_ipv6;
1010       1/1                length_field_nxt  = length_field;
1011       1/1                vlan_tagged_nxt   = vlan_tagged;
1012       1/1                tci_nxt           = tci;
1013       1/1                priority_tag_nxt  = priority_tagged;
1014       1/1                pause_frame_nxt   = pause_frame;
1015       1/1                pause_time_nxt    = pause_time;
1016       1/1                pfc_pause_time0_nxt = pfc_pause_time0;
1017       1/1                pfc_pause_time1_nxt = pfc_pause_time1;
1018       1/1                pfc_pause_time2_nxt = pfc_pause_time2;
1019       1/1                pfc_pause_time3_nxt = pfc_pause_time3;
1020       1/1                pfc_pause_time4_nxt = pfc_pause_time4;
1021       1/1                pfc_pause_time5_nxt = pfc_pause_time5;
1022       1/1                pfc_pause_time6_nxt = pfc_pause_time6;
1023       1/1                pfc_pause_time7_nxt = pfc_pause_time7;
1024       1/1                pfc_pause_frame_nxt = pfc_pause_frame;
1025       1/1                pfc_decoded_nxt     = pfc_decoded;
1026       1/1                pause2_cnt_nxt      = pause2_cnt;
1027       1/1                priority_enable_nxt = priority_enable;
1028       1/1                snap_frame_nxt    = snap_frame;
1029       1/1                ip_opt_length_nxt = ip_opt_length;
1030       1/1                ip_totlength_nxt  = ip_totlength;
1031       1/1                ip_v4_tos_nxt     = ip_v4_tos;
1032       1/1                ip_v6_tc_nxt      = ip_v6_tc;
1033       1/1                ip_v4_frame_nxt   = ip_v4_frame;
1034       1/1                arp_frame_nxt     = arp_frame;
1035       1/1                tcp_frame_nxt     = tcp_frame;
1036       1/1                udp_frame_nxt     = udp_frame;
1037       1/1                ptp_frame_nxt     = ptp_frame;
1038       1/1                ip_check_nxt      = ip_check;
1039       1/1                tcp_udp_check_nxt = tcp_udp_check;
1040       1/1                no_tcp_udp_ck_nxt = no_tcp_udp_ck;
1041                          // Stacked VLAN tag support
1042       1/1                second_vlan_nxt   = second_vlan;
1043       1/1                ext_vlan_tag1_nxt = ext_vlan_tag1;
1044       1/1                ext_vlan_tag2_nxt = ext_vlan_tag2;
1045       1/1                ip_v6_frame_nxt   = ip_v6_frame;
1046       1/1                ipv6_ext_hdr_nxt  = ipv6_ext_hdr;
1047       1/1                nxt_hdr_is_frag_nxt = nxt_hdr_is_frag;
1048       1/1                nxt_hdr_is_route_nxt = nxt_hdr_is_route;
1049       1/1                ptp_primary_nxt   = ptp_primary_load;
1050       1/1                ptp_pdelay_nxt    = ptp_pdelay_load;
1051       1/1                drop_pause_frame_nxt = drop_pause_frame;
1052       1/1                in_payload_nxt    = in_payload;
1053       1/1                rsc_stop_nxt      = rsc_stop &amp;&amp; p_edma_rsc == 1;
1054       1/1                rsc_push_nxt      = rsc_push &amp;&amp; p_edma_rsc == 1;
1055       1/1                tcp_syn_nxt       = tcp_syn &amp;&amp; p_edma_rsc == 1;
1056       1/1                tcp_seqnum_high_nxt = tcp_seqnum[31:16] &amp; {16{p_edma_rsc}};
1057       1/1                tcp_seqnum_low_nxt = tcp_seqnum[15:0] &amp; {16{p_edma_rsc}};
1058       1/1                tcp_offset_nxt    = tcp_offset;
1059                    //      frer_rtag_seqnum_nxt  = frer_rtag_seqnum;
1060                          // Default strobe values to zero to ensure they are only one clock wide.
1061       1/1                ext_da_stb_nxt    = 1'b0;
1062       1/1                ext_sa_stb_nxt    = 1'b0;
1063       1/1                ext_type_stb_nxt  = 1'b0;
1064       1/1                ext_ip_sa_stb_nxt = 1'b0;
1065       1/1                ext_ip_da_stb_nxt = 1'b0;
1066       1/1                ext_sp_stb_nxt    = 1'b0;
1067       1/1                ext_dp_stb_nxt    = 1'b0;
1068       1/1                store_tcp_csum_nxt= 1'b0;
1069       1/1                state_count_inc   = 1'b0;
1070       1/1                state_count_rst   = 1'b0;
1071       1/1                ext_vlan_tag1_stb_nxt = 1'b0;
1072       1/1                ext_vlan_tag2_stb_nxt = 1'b0;
1073       1/1                last_tcpudp_header= 1'b0;
1074                    
1075       1/1                last_vlan_hdr     = 1'b0;
1076       1/1                in_other_hdr      = 1'b0;
1077       1/1                last_snap_hdr     = 1'b0;
1078                    //      frer_rtag_seqnum_stb_nxt  = 1'b0;
1079                    
1080                          // default vaule for PFC pause frame signals
1081                    
1082                          // decode current state
1083       1/1                case (rx_dec_state)
1084                    
1085                    
1086                             RX_DEC_DA1 : // decode DA from bytes 1-6 (first two)
1087                                begin
1088       1/1                         if (new_aligned_data)
1089                                      begin
1090                                         // Clear all signals at beginning of frame.
1091       1/1                               drop_pause_frame_nxt = 1'b0;
1092       1/1                               ext_da_nxt[15:0]  = new_data_align[15:0];
1093       1/1                               ext_da_nxt[47:16] = 32'h00000000;
1094       1/1                               ext_da_stb_nxt    = 1'b0;
1095       1/1                               ext_sa_nxt        = 48'd0;
1096       1/1                               ext_sa_stb_nxt    = 1'b0;
1097       1/1                               ext_type_nxt      = 16'h0000;
1098       1/1                               ext_type_stb_nxt  = 1'b0;
1099       1/1                               ext_ip_sa_nxt     = 128'h00000000000000000000000000000000;
1100       1/1                               ext_ip_sa_stb_nxt = 1'b0;
1101       1/1                               ext_ip_da_nxt     = 128'h00000000000000000000000000000000;
1102       1/1                               ext_ip_da_stb_nxt = 1'b0;
1103       1/1                               ext_dest_port_nxt = 16'h0000;
1104       1/1                               ext_source_port_nxt = 16'h0000;
1105       1/1                               ext_ipv6_nxt      = 1'b0;
1106       1/1                               length_field_nxt  = 16'hffff;
1107       1/1                               vlan_tagged_nxt   = 1'b0;
1108       1/1                               tci_nxt           = 4'h0;
1109       1/1                               priority_tag_nxt  = 1'b0;
1110       1/1                               pause_frame_nxt   = 1'b0;
1111       1/1                               pause_time_nxt    = 16'h0000;
1112       1/1                               pfc_pause_frame_nxt = 1'b0;
1113       1/1                               pfc_decoded_nxt     = 1'b0;
1114       1/1                               pause2_cnt_nxt      = 4'h0;
1115       1/1                               snap_frame_nxt    = 1'b0;
1116       1/1                               ip_v4_frame_nxt   = 1'b0;
1117       1/1                               arp_frame_nxt     = 1'b0;
1118       1/1                               tcp_frame_nxt     = 1'b0;
1119       1/1                               udp_frame_nxt     = 1'b0;
1120       1/1                               ptp_frame_nxt     = 1'b0;
1121       1/1                               ip_check_nxt      = 1'b0;
1122       1/1                               tcp_udp_check_nxt = 1'b0;
1123       1/1                               no_tcp_udp_ck_nxt = 1'b0;
1124                                         // Stacked VLAN tag support
1125       1/1                               second_vlan_nxt       = 1'b0;
1126       1/1                               ext_vlan_tag1_nxt     = 32'h0000_0000;
1127       1/1                               ext_vlan_tag2_nxt     = 32'h0000_0000;
1128       1/1                               ext_vlan_tag1_stb_nxt = 1'b0;
1129       1/1                               ext_vlan_tag2_stb_nxt = 1'b0;
1130       1/1                               ip_v4_tos_nxt         = 8'h00;
1131       1/1                               ip_v6_tc_nxt          = 8'h00;
1132       1/1                               rx_dec_state_nxt  = RX_DEC_DA2;
1133       1/1                               in_payload_nxt    = 1'b0;
1134                                      end
1135                                   else
1136                                      begin
1137       1/1                               rx_dec_state_nxt  = RX_DEC_DA1;
1138                                      end
1139                                end
1140                    
1141                    
1142                             RX_DEC_DA2 : // decode DA from bytes 1-6 (middle two)
1143                                begin
1144       1/1                         if (new_aligned_data)
1145                                      begin
1146       1/1                               ext_da_nxt[31:16] = new_data_align[15:0];
1147       1/1                               rx_dec_state_nxt  = RX_DEC_DA3;
1148                                      end
1149                                   else
1150                                      begin
1151       1/1                               rx_dec_state_nxt  = RX_DEC_DA2;
1152                                      end
1153                                end
1154                    
1155                    
1156                             RX_DEC_DA3 : // decode DA from bytes 1-6 (last two)
1157                                begin
1158       1/1                         if (new_aligned_data)
1159                                      begin
1160       1/1                               ext_da_nxt[47:32] = new_data_align[15:0];
1161       1/1                               ext_da_stb_nxt    = 1'b1;
1162       1/1                               rx_dec_state_nxt  = RX_DEC_SA1;
1163                                      end
1164                                   else
1165                                      begin
1166       1/1                               rx_dec_state_nxt  = RX_DEC_DA3;
1167                                      end
1168                                end
1169                    
1170                    
1171                             RX_DEC_SA1 : // decode SA from bytes 7-12 (first two)
1172                                begin
1173       1/1                         if (new_aligned_data)
1174                                      begin
1175       1/1                               ext_sa_nxt[15:0]  = new_data_align[15:0];
1176       1/1                               rx_dec_state_nxt  = RX_DEC_SA2;
1177                                      end
1178                                   else
1179                                      begin
1180       1/1                               rx_dec_state_nxt  = RX_DEC_SA1;
1181                                      end
1182                                end
1183                    
1184                    
1185                             RX_DEC_SA2 : // decode SA from bytes 7-12 (middle two)
1186                                begin
1187       1/1                         if (new_aligned_data)
1188                                      begin
1189       1/1                               ext_sa_nxt[31:16] = new_data_align[15:0];
1190       1/1                               rx_dec_state_nxt  = RX_DEC_SA3;
1191                                      end
1192                                   else
1193                                      begin
1194       1/1                               rx_dec_state_nxt  = RX_DEC_SA2;
1195                                      end
1196                                end
1197                    
1198                    
1199                             RX_DEC_SA3 : // decode SA from bytes 7-12 (last two)
1200                                begin
1201       1/1                         if (new_aligned_data)
1202                                      begin
1203       1/1                               ext_sa_nxt[47:32] = new_data_align[15:0];
1204       1/1                               ext_sa_stb_nxt    = 1'b1;
1205       1/1                               rx_dec_state_nxt  = RX_DEC_TYPE;
1206                                      end
1207                                   else
1208                                      begin
1209       1/1                               rx_dec_state_nxt  = RX_DEC_SA3;
1210                                      end
1211                                end
1212                    
1213                    
1214                             RX_DEC_TYPE : // extract type id from bytes 13&amp;14
1215                                begin
1216                                    // reset tcp flags as late as we can to compensate for delay in MAC to DMA.
1217       1/1                         rsc_stop_nxt       = 1'b0;
1218       1/1                         rsc_push_nxt       = 1'b0;
1219       1/1                         tcp_syn_nxt        = 1'b0;
1220       1/1                         tcp_seqnum_high_nxt = 16'h0000;
1221       1/1                         tcp_seqnum_low_nxt = 16'h0000;
1222       1/1                         ip_opt_length_nxt  = 8'h00;
1223       1/1                         ip_totlength_nxt   = 16'h0000;
1224       1/1                         tcp_offset_nxt     = 4'h0;
1225                    
1226                                   // Save external type &amp; length field
1227       1/1                         ext_type_nxt[15:0]= {new_data_align[7:0], new_data_align[15:8]};
1228       1/1                         length_field_nxt[15:0]= {new_data_align[7:0],
1229                                                            new_data_align[15:8]};
1230                    
1231                    
1232                                   // VLAN tagged frame
1233                                   // Stacked VLAN tag support
1234       1/1                         if (new_aligned_data &amp; (
1235                                         ({new_data_align[7:0],
1236                                           new_data_align[15:8]} == VLAN_TYPE)
1237                                       | ({1'b1, new_data_align[7:0],
1238                                                 new_data_align[15:8]} == stacked_vlantype) ) )
1239                    
1240                                      begin
1241       1/1                               ext_vlan_tag1_nxt[31:16] =
1242                                                       {new_data_align[7:0], new_data_align[15:8]};
1243       1/1                               vlan_tagged_nxt   = 1'b1;
1244       1/1                               rx_dec_state_nxt  = RX_DEC_VLAN1;
1245                                      end
1246                                   // PAUSE frame
1247       1/1                         else if (new_aligned_data &amp;
1248                                            ({new_data_align[7:0],
1249                                              new_data_align[15:8]} == PAUSE_TYPE))
1250                                      begin
1251       <font color = "red">0/1     ==>                       ext_type_stb_nxt  = 1'b1;</font>
1252       <font color = "red">0/1     ==>                       in_payload_nxt       = 1'b1;</font>
1253       <font color = "red">0/1     ==>                       drop_pause_frame_nxt  = rx_no_pause_frames;</font>
1254       <font color = "red">0/1     ==>                       if (pause_add_match)</font>
1255                                         begin
1256       <font color = "red">0/1     ==>                         pause_frame_nxt   = 1'b1;</font>
1257       <font color = "red">0/1     ==>                         pfc_pause_frame_nxt = 1'b1;</font>
1258       <font color = "red">0/1     ==>                         rx_dec_state_nxt  = RX_DEC_PAUSE1;</font>
1259                                         end
1260                                         else
1261       <font color = "red">0/1     ==>                         rx_dec_state_nxt  = RX_DEC_IDLE;</font>
1262                                      end
1263                    
1264                                   // ARP encapsulated frame
1265       1/1                         else if (new_aligned_data &amp; ({new_data_align[7:0],
1266                                                                 new_data_align[15:8]} == ARP_TYPE))
1267                                      begin
1268       <font color = "red">0/1     ==>                       ext_type_stb_nxt  = 1'b1;</font>
1269       <font color = "red">0/1     ==>                       arp_frame_nxt     = 1'b1;</font>
1270       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = RX_DEC_IDLE;</font>
1271       <font color = "red">0/1     ==>                       in_payload_nxt       = 1'b1;</font>
1272                                      end
1273                    
1274                                   // IPv4 encapsulated frame
1275       1/1                         else if (new_aligned_data &amp;
1276                                            ({new_data_align[7:0],
1277                                              new_data_align[15:8]} == IP_TYPEv4))
1278                                      begin
1279       1/1                               ext_type_stb_nxt  = 1'b1;
1280       1/1                               ip_check_nxt      = rx_toe_enable;
1281       1/1                               rx_dec_state_nxt  = RX_DEC_IP1;
1282                                      end
1283                    
1284                                   // IPv6 encapsulated frame
1285       1/1                         else if (new_aligned_data &amp;
1286                                            ({new_data_align[7:0],
1287                                              new_data_align[15:8]} == IP_TYPEv6))
1288                                      begin
1289       <font color = "red">0/1     ==>                       ext_type_stb_nxt  = 1'b1;</font>
1290       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = RX_DEC_IPv6_1;</font>
1291                                      end
1292                    
1293                                   // SNAP encapsulated frame
1294       1/1                         else if (new_aligned_data &amp;
1295                                              ({new_data_align[7:0],
1296                                                new_data_align[15:8]} &lt;= SNAP_TYPE))
1297                                      begin
1298       1/1                               rx_dec_state_nxt  = RX_DEC_SNAP1;
1299                                      end
1300                    
1301                                   // non encapsulated PTP frame
1302       1/1                         else if (new_aligned_data &amp;
1303                                              ({new_data_align[7:0],
1304                                                new_data_align[15:8]} == PTP_TYPE))
1305                                      begin
1306       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = RX_DEC_PTP1;</font>
1307       <font color = "red">0/1     ==>                       ext_type_stb_nxt  = 1'b1;</font>
1308       <font color = "red">0/1     ==>                       ptp_frame_nxt     = 1'b1;</font>
1309       <font color = "red">0/1     ==>                       if (ext_da[47:0] == 48'h000000191b01)</font>
1310                                            begin
1311       <font color = "red">0/1     ==>                             ptp_primary_nxt = 1'b1;</font>
1312                                            end
                   <font color = "red">==>  MISSING_ELSE</font>
1313       <font color = "red">0/1     ==>                       if (ext_da[47:0] == 48'h0e0000c28001)</font>
1314                                            begin
1315       <font color = "red">0/1     ==>                             ptp_pdelay_nxt  = 1'b1;</font>
1316                                            end
                   <font color = "red">==>  MISSING_ELSE</font>
1317                                      end
1318                    
1319                                   // PPPoE encapsulated frame
1320       1/1                         else if (new_aligned_data &amp;
1321                                              ({new_data_align[7:0],
1322                                                new_data_align[15:8]} == 16'h8864))
1323                                      begin
1324       <font color = "red">0/1     ==>                       ext_type_stb_nxt  = 1'b1;</font>
1325       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = PPPoE1;</font>
1326                                      end
1327                    
1328                                   // 802.1CB Redundancy Tag
1329       1/1                         else if (new_aligned_data &amp;
1330                                            ({new_data_align[7:0],
1331                                              new_data_align[15:8]} == frer_rtag_ethertype))
1332                                      begin
1333       <font color = "red">0/1     ==>                       if (~frer_6b_tag)</font>
1334       <font color = "red">0/1     ==>                         rx_dec_state_nxt = CB_RTAG;</font>
1335                                         else
1336       <font color = "red">0/1     ==>                         rx_dec_state_nxt = CB_TAG_RSVD;</font>
1337                                      end
1338                    
1339                                   // Other type - just present to external filter interface
1340       1/1                         else if (new_aligned_data)
1341                                      begin
1342       1/1                               ext_type_stb_nxt  = 1'b1;
1343       1/1                               rx_dec_state_nxt  = RX_DEC_IDLE;
1344       1/1                               in_payload_nxt    = 1'b1;
1345                                      end
1346                    
1347                                   // wait for next pipeline data
1348                                   else
1349                                      begin
1350       1/1                               rx_dec_state_nxt  = RX_DEC_TYPE;
1351                                      end
1352                                end
1353                    
1354                             CB_TAG_RSVD : // Ignore the 2 bytes following the type and before the sequence number
1355                                begin
1356       <font color = "red">0/1     ==>                 if (new_aligned_data)</font>
1357       <font color = "red">0/1     ==>                    rx_dec_state_nxt      = CB_RTAG;</font>
1358                                   else
1359       <font color = "red">0/1     ==>                    rx_dec_state_nxt      = CB_TAG_RSVD;</font>
1360                                end
1361                    
1362                             CB_RTAG : // Extract sequence number from next two bytes
1363                                begin
1364                                   // Extract sequence number from next two bytes.
1365       <font color = "red">0/1     ==>                 if (new_aligned_data)</font>
1366                                   begin
1367       <font color = "red">0/1     ==>                    if (vlan_tagged)</font>
1368       <font color = "red">0/1     ==>                       rx_dec_state_nxt      = RX_DEC_VLAN2;</font>
1369                                      else
1370       <font color = "red">0/1     ==>                       rx_dec_state_nxt      = RX_DEC_TYPE;</font>
1371                    //                  frer_rtag_seqnum_nxt  = {new_data_align[7:0],
1372                    //                                            new_data_align[15:8]};
1373                    //                  frer_rtag_seqnum_stb_nxt  = 1'b1;
1374                                   end
1375                                   else
1376       <font color = "red">0/1     ==>                    rx_dec_state_nxt  = CB_RTAG;</font>
1377                                end
1378                    
1379                             RX_DEC_VLAN1 : // Extract vlan tag from bytes 15-16
1380                                begin
1381                                   // Extract vlan tag from bytes 15-16
1382                                   // presented as {user priority, CFI, VID[11:0]}
1383                                   // The UPPER nibble of byte 15 contains the priority and CFI bit.
1384                                   // The LOWER nibble of byte 15 and both nibbles of byte 16
1385                                   // contains VID (should=0 for priority tagged)
1386       1/1                         if (new_aligned_data)
1387                                      begin
1388       1/1                               tci_nxt           = new_data_align[7:4];
1389       1/1                               priority_tag_nxt  = (new_data_align[3:0]  == 4'h0) &amp;
1390                                                             (new_data_align[15:8] == 8'h00);
1391       1/1                               rx_dec_state_nxt  = RX_DEC_VLAN2;
1392                                         // Stacked VLAN tag support
1393                                         //
1394       1/1                               if (~second_vlan)
1395                                            begin
1396       1/1                                     ext_vlan_tag1_nxt[15:0] = {new_data_align[7:0],
1397                                                                          new_data_align[15:8]};
1398       1/1                                     ext_vlan_tag1_stb_nxt   = 1'b1;
1399                                            end
1400                                         else
1401                                            begin
1402       <font color = "red">0/1     ==>                             ext_vlan_tag2_nxt[15:0] = {new_data_align[7:0],</font>
1403                                                                          new_data_align[15:8]};
1404       <font color = "red">0/1     ==>                             ext_vlan_tag2_stb_nxt   = 1'b1;</font>
1405                                            end
1406                                      end
1407                                   else
1408                                      begin
1409       1/1                               rx_dec_state_nxt  = RX_DEC_VLAN1;
1410                                      end
1411                                end
1412                    
1413                    
1414                             RX_DEC_VLAN2 : // extract type id from bytes 17&amp;18 after VLAN tag
1415                                begin
1416                    
1417       1/1                        last_vlan_hdr     = 1'b1;
1418                    
1419                                   // Save external type and length field
1420       1/1                         ext_type_nxt[15:0]= {new_data_align[7:0], new_data_align[15:8]};
1421       1/1                         length_field_nxt[15:0]= {new_data_align[7:0],
1422                                                            new_data_align[15:8]};
1423                    
1424                                   // Stacked VLAN tag support
1425       1/1                         if (new_aligned_data &amp; ~second_vlan &amp; stacked_vlantype[16] &amp;
1426                                         ({new_data_align[7:0], new_data_align[15:8]} == VLAN_TYPE))
1427                                      begin
1428       <font color = "red">0/1     ==>                       second_vlan_nxt = 1'b1;</font>
1429       <font color = "red">0/1     ==>                       ext_vlan_tag2_nxt[31:16] =</font>
1430                                                        {new_data_align[7:0], new_data_align[15:8]};
1431       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = RX_DEC_VLAN1;</font>
1432                                      end
1433                    
1434                                   // IPv4 encapsulated frame -  only check IP if no VLAN CFI.
1435       1/1                         else if (new_aligned_data &amp; ~tci[0] &amp;
1436                                       ({new_data_align[7:0],
1437                                         new_data_align[15:8]} == IP_TYPEv4))
1438                                      begin
1439       <font color = "red">0/1     ==>                       ext_type_stb_nxt  = 1'b1;</font>
1440       <font color = "red">0/1     ==>                       ip_check_nxt      = rx_toe_enable;</font>
1441       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = RX_DEC_IP1;</font>
1442                                      end
1443                    
1444                                   // IPv6 encapsulated frame -  only check IP if no VLAN CFI.
1445       1/1                         else if (new_aligned_data &amp; ~tci[0] &amp;
1446                                       ({new_data_align[7:0],
1447                                         new_data_align[15:8]} == IP_TYPEv6))
1448                                      begin
1449       <font color = "red">0/1     ==>                       ext_type_stb_nxt  = 1'b1;</font>
1450       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = RX_DEC_IPv6_1;</font>
1451                                      end
1452                    
1453                                   // ARP encapsulated frame
1454       1/1                         else if (new_aligned_data &amp; ({new_data_align[7:0],
1455                                                                 new_data_align[15:8]} == ARP_TYPE))
1456                                      begin
1457       <font color = "red">0/1     ==>                       ext_type_stb_nxt  = 1'b1;</font>
1458       <font color = "red">0/1     ==>                       arp_frame_nxt     = 1'b1;</font>
1459       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = RX_DEC_IDLE;</font>
1460       <font color = "red">0/1     ==>                       in_payload_nxt    = 1'b1;</font>
1461                                      end
1462                    
1463                                   // SNAP encapsulated frame -  only check SNAP if no VLAN CFI.
1464       1/1                         else if (new_aligned_data &amp; ~tci[0] &amp;
1465                                              ({new_data_align[7:0],
1466                                                new_data_align[15:8]} &lt;= SNAP_TYPE))
1467                                      begin
1468       1/1                               rx_dec_state_nxt  = RX_DEC_SNAP1;
1469                                      end
1470                    
1471                                   // non encapsulated PTP frame
1472       1/1                         else if (new_aligned_data &amp;
1473                                              ({new_data_align[7:0],
1474                                                new_data_align[15:8]} == PTP_TYPE))
1475                                      begin
1476       <font color = "red">0/1     ==>                       in_payload_nxt    = 1'b1;</font>
1477       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = RX_DEC_PTP1;</font>
1478       <font color = "red">0/1     ==>                       ext_type_stb_nxt  = 1'b1;</font>
1479       <font color = "red">0/1     ==>                       ptp_frame_nxt     = 1'b1;</font>
1480       <font color = "red">0/1     ==>                       if (ext_da[47:0] == 48'h000000191b01)</font>
1481                                            begin
1482       <font color = "red">0/1     ==>                             ptp_primary_nxt = 1'b1;</font>
1483                                            end
                   <font color = "red">==>  MISSING_ELSE</font>
1484       <font color = "red">0/1     ==>                       if (ext_da[47:0] == 48'h0e0000c28001)</font>
1485                                            begin
1486       <font color = "red">0/1     ==>                             ptp_pdelay_nxt  = 1'b1;</font>
1487                                            end
                   <font color = "red">==>  MISSING_ELSE</font>
1488                                      end
1489                    
1490                                   // PPPoE encapsulated frame
1491       1/1                         else if (new_aligned_data &amp;
1492                                              ({new_data_align[7:0],
1493                                                new_data_align[15:8]} == 16'h8864))
1494                                      begin
1495       <font color = "red">0/1     ==>                       ext_type_stb_nxt  = 1'b1;</font>
1496       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = PPPoE1;</font>
1497                                      end
1498                    
1499                                   // 802.1CB Redundancy Tag
1500       1/1                         else if (new_aligned_data &amp;
1501                                            ({new_data_align[7:0],
1502                                              new_data_align[15:8]} == frer_rtag_ethertype))
1503                                      begin
1504       <font color = "red">0/1     ==>                       if (~frer_6b_tag)</font>
1505       <font color = "red">0/1     ==>                          rx_dec_state_nxt = CB_RTAG;</font>
1506                                         else
1507       <font color = "red">0/1     ==>                          rx_dec_state_nxt = CB_TAG_RSVD;</font>
1508                                      end
1509                    
1510                                   // Other type - just present to external filter interface
1511       1/1                         else if (new_aligned_data)
1512                                      begin
1513       <font color = "red">0/1     ==>                       in_payload_nxt    = 1'b1;</font>
1514       <font color = "red">0/1     ==>                       ext_type_stb_nxt  = 1'b1;</font>
1515       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = RX_DEC_IDLE;</font>
1516                                      end
1517                    
1518                                   // wait for next pipeline data
1519                                   else
1520                                      begin
1521       1/1                               rx_dec_state_nxt  = RX_DEC_VLAN2;
1522                                      end
1523                                end
1524                    
1525                    
1526                             PPPoE1 :
1527                                begin
1528       <font color = "red">0/1     ==>                 in_other_hdr      = 1'b1;</font>
1529       <font color = "red">0/1     ==>                 if (new_aligned_data)</font>
1530                                      begin
1531       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = PPPoE2;</font>
1532                                      end
1533                                   // wait for next pipeline data
1534                                   else
1535                                      begin
1536       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = PPPoE1;</font>
1537                                      end
1538                                end
1539                    
1540                    
1541                             PPPoE2 :
1542                                begin
1543       <font color = "red">0/1     ==>                 in_other_hdr      = 1'b1;</font>
1544       <font color = "red">0/1     ==>                 if (new_aligned_data)</font>
1545                                      begin
1546       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = PPPoE3;</font>
1547                                      end
1548                                   // wait for next pipeline data
1549                                   else
1550                                      begin
1551       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = PPPoE2;</font>
1552                                      end
1553                                end
1554                    
1555                    
1556                             PPPoE3 :
1557                                begin
1558       <font color = "red">0/1     ==>                 in_other_hdr      = 1'b1;</font>
1559       <font color = "red">0/1     ==>                 if (new_aligned_data)</font>
1560                                      begin
1561       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = PPPoE4;</font>
1562                                      end
1563                                   // wait for next pipeline data
1564                                   else
1565                                      begin
1566       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = PPPoE3;</font>
1567                                      end
1568                                end
1569                    
1570                    
1571                             PPPoE4 :
1572                                begin
1573       <font color = "red">0/1     ==>                 in_other_hdr      = 1'b1;</font>
1574                                   // IPv4 encapsulated frame
1575       <font color = "red">0/1     ==>                 if (new_aligned_data &amp;</font>
1576                                       ({new_data_align[7:0],
1577                                         new_data_align[15:8]} == 16'h0021))
1578                                      begin
1579       <font color = "red">0/1     ==>                       ip_check_nxt      = rx_toe_enable;</font>
1580       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = RX_DEC_IP1;</font>
1581                                      end
1582                                   // IPv6 encapsulated frame
1583       <font color = "red">0/1     ==>                 else if (new_aligned_data &amp;</font>
1584                                       ({new_data_align[7:0],
1585                                         new_data_align[15:8]} == 16'h0057))
1586                                      begin
1587       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = RX_DEC_IPv6_1;</font>
1588                                      end
1589       <font color = "red">0/1     ==>                 else if (new_aligned_data)</font>
1590                                      begin
1591       <font color = "red">0/1     ==>                       in_payload_nxt    = 1'b1;</font>
1592       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = RX_DEC_IDLE;</font>
1593                                      end
1594                                   // wait for next pipeline data
1595                                   else
1596                                      begin
1597       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = PPPoE4;</font>
1598                                      end
1599                                end
1600                    
1601                    
1602                             RX_DEC_PAUSE1 : // check pause opcode from bytes 15-16
1603                                begin
1604                                   // 802.3 pause frame op-code decoded
1605       <font color = "red">0/1     ==>                 if (new_aligned_data &amp; ({new_data_align[7:0],</font>
1606                                                            new_data_align[15:8]} == PAUSE_OPCODE))
1607                                      begin
1608       <font color = "red">0/1     ==>                       pfc_pause_frame_nxt = 1'b0;</font>
1609       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = RX_DEC_PAUSE2;</font>
1610                                      end
1611                    
1612                                   // PFC pause frame op-code decoded
1613       <font color = "red">0/1     ==>                 else if (new_aligned_data &amp; ({new_data_align[7:0],</font>
1614                                                        new_data_align[15:8]} == PFC_PAUSE_OPCODE))
1615                                      begin
1616       <font color = "red">0/1     ==>                       pfc_decoded_nxt   = 1'b1;</font>
1617       <font color = "red">0/1     ==>                       pause_frame_nxt   = 1'b0;</font>
1618       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = RX_DEC_PAUSE2;</font>
1619                                      end
1620                    
1621                                   // Invalid pause opcode, wait for next frame
1622       <font color = "red">0/1     ==>                 else if (new_aligned_data)</font>
1623                                      begin
1624       <font color = "red">0/1     ==>                       drop_pause_frame_nxt  = 1'b0;</font>
1625       <font color = "red">0/1     ==>                       pause_frame_nxt   = 1'b0;</font>
1626       <font color = "red">0/1     ==>                       pfc_pause_frame_nxt = 1'b0;</font>
1627       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = RX_DEC_IDLE;</font>
1628                                      end
1629                    
1630                                   // wait for next pipeline data
1631                                   else
1632                                      begin
1633       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = RX_DEC_PAUSE1;</font>
1634                                      end
1635                                end
1636                    
1637                    
1638                             RX_DEC_PAUSE2 : // extract pause time value from bytes 17-18
1639                                begin
1640                                   // Check pause opcode, but pause is disabled
1641       <font color = "red">0/1     ==>                 if (new_aligned_data &amp;</font>
1642                                      ((~pause_enable_rck &amp; pause_frame) |
1643                                       (~pfc_enable_rck &amp; pfc_decoded)))
1644                    
1645                                      begin
1646       <font color = "red">0/1     ==>                       pause_time_nxt    = pause_time;</font>
1647       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = RX_DEC_IDLE;</font>
1648                                      end
1649                    
1650                                   // Check pause opcode, and pause is enabled
1651       <font color = "red">0/1     ==>                 else if (new_aligned_data)</font>
1652                                      //-----------------------------------------------
1653                                      //------- PFC pause_frame op-code decoded    ----
1654                                      //-----------------------------------------------
1655       <font color = "red">0/1     ==>                    if (pfc_decoded)</font>
1656                                      begin
1657       <font color = "red">0/1     ==>                        pause2_cnt_nxt = pause2_cnt + 4'h1;</font>
1658       <font color = "red">0/1     ==>                        case (pause2_cnt)</font>
1659                                             4'b0000 : // load priority enable vector
1660                                             begin
1661       <font color = "red">0/1     ==>                             priority_enable_nxt = new_data_align[15:8];</font>
1662       <font color = "red">0/1     ==>                             rx_dec_state_nxt  = RX_DEC_PAUSE2;</font>
1663                                             end
1664                                             4'b0001 : // load pause time length for data frame
1665                                                       // with priority 0
1666                                             begin
1667       <font color = "red">0/1     ==>                             rx_dec_state_nxt  = RX_DEC_PAUSE2;</font>
1668       <font color = "red">0/1     ==>                             pfc_pause_time0_nxt = {new_data_align[7:0],</font>
1669                                                                      new_data_align[15:8]};
1670                                             end
1671                                             4'b0010 : // load pause time length for data frame
1672                                                       // with priority 1
1673                                             begin
1674       <font color = "red">0/1     ==>                             rx_dec_state_nxt  = RX_DEC_PAUSE2;</font>
1675       <font color = "red">0/1     ==>                             pfc_pause_time1_nxt = {new_data_align[7:0],</font>
1676                                                                      new_data_align[15:8]};
1677                                             end
1678                                             4'b0011 :  // load pause time length for data frame
1679                                                        // with priority 2
1680                                             begin
1681       <font color = "red">0/1     ==>                             rx_dec_state_nxt  = RX_DEC_PAUSE2;</font>
1682       <font color = "red">0/1     ==>                             pfc_pause_time2_nxt = {new_data_align[7:0],</font>
1683                                                                      new_data_align[15:8]};
1684                                             end
1685                                             4'b0100 :  // load pause time length for data frame
1686                                                        // with priority 3
1687                                             begin
1688       <font color = "red">0/1     ==>                             rx_dec_state_nxt  = RX_DEC_PAUSE2;</font>
1689       <font color = "red">0/1     ==>                             pfc_pause_time3_nxt = {new_data_align[7:0],</font>
1690                                                                      new_data_align[15:8]};
1691                                             end
1692                                             4'b0101 :  // load pause time length for data frame
1693                                                        // with  priority 4
1694                                             begin
1695       <font color = "red">0/1     ==>                             rx_dec_state_nxt  = RX_DEC_PAUSE2;</font>
1696       <font color = "red">0/1     ==>                             pfc_pause_time4_nxt = {new_data_align[7:0],</font>
1697                                                                      new_data_align[15:8]};
1698                                             end
1699                                             4'b0110 :  // load pause time length for data frame
1700                                                        // with  priority 5
1701                                             begin
1702       <font color = "red">0/1     ==>                             rx_dec_state_nxt  = RX_DEC_PAUSE2;</font>
1703       <font color = "red">0/1     ==>                             pfc_pause_time5_nxt = {new_data_align[7:0],</font>
1704                                                                      new_data_align[15:8]};
1705                                             end
1706                                             4'b0111 :  // load pause time length for data frame
1707                                                        // with  priority 6
1708                                             begin
1709       <font color = "red">0/1     ==>                             rx_dec_state_nxt  = RX_DEC_PAUSE2;</font>
1710       <font color = "red">0/1     ==>                             pfc_pause_time6_nxt = {new_data_align[7:0],</font>
1711                                                                      new_data_align[15:8]};
1712                                             end
1713                                             default :  // load pause time length for data frame
1714                                                        // with  priority 7
1715                                             begin
1716       <font color = "red">0/1     ==>                             rx_dec_state_nxt  = RX_DEC_IDLE;</font>
1717       <font color = "red">0/1     ==>                             pfc_pause_time7_nxt = {new_data_align[7:0],</font>
1718                                                                      new_data_align[15:8]};
1719                                             end
1720                                          endcase
1721                                      end
1722                                      else // else of &quot;if pfc_decoded&quot;
1723                                      //-----------------------------------------------
1724                                      //------- 802.3 pause frame op-code decoded -----
1725                                      //-----------------------------------------------
1726                                        begin
1727       <font color = "red">0/1     ==>                         pause_time_nxt    = {new_data_align[7:0],</font>
1728                                                                new_data_align[15:8]};
1729       <font color = "red">0/1     ==>                         rx_dec_state_nxt  = RX_DEC_IDLE;</font>
1730                                        end
1731                    
1732                                   //----------------------------------------------------------
1733                                   // else of &quot;if (new_aligned_data &amp; ~pause_enable_rck)&quot;
1734                                   // wait for next pipeline data
1735                                   else
1736                                      begin
1737       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = RX_DEC_PAUSE2;</font>
1738                                      end
1739                    
1740                                end
1741                    
1742                    
1743                             RX_DEC_SNAP1 : // Check for valid DSAP and SSAP in SNAP encapsulation
1744                                begin
1745       1/1                         if (new_aligned_data &amp; (new_data_align[7:0]  == SNAP_DSAP) &amp;
1746                                                          (new_data_align[15:8] == SNAP_SSAP))
1747                                      begin
1748       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = RX_DEC_SNAP2;</font>
1749                                      end
1750                    
1751                                   // Invalid DSAP or SSAP, wait for next frame.
1752                                   // Present previously saved type field to filter interface
1753       1/1                         else if (new_aligned_data)
1754                                      begin
1755       1/1                               in_payload_nxt    = 1'b1;
1756       1/1                               ext_type_stb_nxt  = 1'b1;
1757       1/1                               rx_dec_state_nxt  = RX_DEC_IDLE;
1758                                      end
1759                    
1760                                   // wait for next pipeline data
1761                                   else
1762                                      begin
1763       1/1                               rx_dec_state_nxt  = RX_DEC_SNAP1;
1764                                      end
1765                                end
1766                    
1767                    
1768                             RX_DEC_SNAP2 : // Check for valid control and ID[7:0] in SNAP
1769                                begin
1770       <font color = "red">0/1     ==>                 if (new_aligned_data &amp; (new_data_align[7:0]  == SNAP_CONT) &amp;</font>
1771                                                          (new_data_align[15:8] == SNAP_ID_7_0))
1772                                      begin
1773       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = RX_DEC_SNAP3;</font>
1774                                      end
1775                    
1776                                   // Invalid control or ID[7:0], wait for next frame
1777                                   // Present previously saved type field to filter interface
1778       <font color = "red">0/1     ==>                 else if (new_aligned_data)</font>
1779                                      begin
1780       <font color = "red">0/1     ==>                       in_payload_nxt    = 1'b1;</font>
1781       <font color = "red">0/1     ==>                       ext_type_stb_nxt  = 1'b1;</font>
1782       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = RX_DEC_IDLE;</font>
1783                                      end
1784                    
1785                                   // wait for next pipeline data
1786                                   else
1787                                      begin
1788       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = RX_DEC_SNAP2;</font>
1789                                      end
1790                                end
1791                    
1792                    
1793                             RX_DEC_SNAP3 : // Check for valid ID[23:8] in SNAP
1794                                begin
1795       <font color = "red">0/1     ==>                 if (new_aligned_data &amp; (new_data_align[7:0]  == SNAP_ID_15_8) &amp;</font>
1796                                                          (new_data_align[15:8] == SNAP_ID_23_16))
1797                                      begin
1798       <font color = "red">0/1     ==>                       snap_frame_nxt    = 1'b1;</font>
1799       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = RX_DEC_SNAP4;</font>
1800                                      end
1801                    
1802                                   // Invalid control or ID[23:8], wait for next frame
1803                                   // Present previously saved type field to filter interface
1804       <font color = "red">0/1     ==>                 else if (new_aligned_data)</font>
1805                                      begin
1806       <font color = "red">0/1     ==>                       in_payload_nxt    = 1'b1;</font>
1807       <font color = "red">0/1     ==>                       ext_type_stb_nxt  = 1'b1;</font>
1808       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = RX_DEC_IDLE;</font>
1809                                      end
1810                    
1811                                   // wait for next pipeline data
1812                                   else
1813                                      begin
1814       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = RX_DEC_SNAP3;</font>
1815                                      end
1816                                end
1817                    
1818                    
1819                             RX_DEC_SNAP4 : // Check ethernet type for IP
1820                                begin
1821       <font color = "red">0/1     ==>                 last_snap_hdr    = 1'b1;</font>
1822                                   // Save external type
1823       <font color = "red">0/1     ==>                 ext_type_nxt[15:0]= {new_data_align[7:0], new_data_align[15:8]};</font>
1824                    
1825                    
1826       <font color = "red">0/1     ==>                 if (new_aligned_data &amp; ({new_data_align[7:0],</font>
1827                                                            new_data_align[15:8]} == IP_TYPEv4))
1828                                      begin
1829       <font color = "red">0/1     ==>                       ext_type_stb_nxt  = 1'b1;</font>
1830       <font color = "red">0/1     ==>                       ip_check_nxt      = rx_toe_enable;</font>
1831       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = RX_DEC_IP1;</font>
1832                                      end
1833                    
1834       <font color = "red">0/1     ==>                 else if (new_aligned_data &amp; ({new_data_align[7:0],</font>
1835                                                            new_data_align[15:8]} == IP_TYPEv6))
1836                                      begin
1837       <font color = "red">0/1     ==>                       ext_type_stb_nxt  = 1'b1;</font>
1838       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = RX_DEC_IPv6_1;</font>
1839                                      end
1840                    
1841                                   // Other type - just present to external filter interface
1842       <font color = "red">0/1     ==>                 else if (new_aligned_data)</font>
1843                                      begin
1844       <font color = "red">0/1     ==>                       in_payload_nxt    = 1'b1;</font>
1845       <font color = "red">0/1     ==>                       ext_type_stb_nxt  = 1'b1;</font>
1846       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = RX_DEC_IDLE;</font>
1847                                      end
1848                    
1849                                   // wait for next pipeline data
1850                                   else
1851                                      begin
1852       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = RX_DEC_SNAP4;</font>
1853                                      end
1854                                end
1855                    
1856                    
1857                             RX_DEC_IP1   : // Check IP version and get IP header length
1858                                begin
1859       1/1                         in_other_hdr      = 1'b1;
1860       1/1                         if (new_aligned_data &amp; (new_data_align[7:4] == IP_VERSION4) &amp;
1861                                                          (new_data_align[3:0] &gt;= IP_IHL_MIN))
1862                                      begin
1863       1/1                               ip_opt_length_nxt =
1864                                                      {4'h0, (new_data_align[3:0] - IP_IHL_MIN)};
1865       1/1                               ip_v4_tos_nxt     = new_data_align[15:8];
1866       1/1                               ip_v4_frame_nxt   = 1'b1;
1867       1/1                               rx_dec_state_nxt  = RX_DEC_IP2;
1868                                      end
1869                    
1870                                   // invalid - wait for next frame
1871       1/1                         else if (new_aligned_data)
1872                                      begin
1873       <font color = "red">0/1     ==>                       in_payload_nxt    = 1'b1;</font>
1874       <font color = "red">0/1     ==>                       ip_check_nxt      = 1'b0;</font>
1875       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = RX_DEC_IDLE;</font>
1876                                      end
1877                    
1878                                   // wait for next pipeline data
1879                                   else
1880                                      begin
1881       1/1                               rx_dec_state_nxt  = RX_DEC_IP1;
1882                                      end
1883                                end
1884                    
1885                    
1886                             RX_DEC_IP2   : // Get total length of datagram
1887                                begin
1888       1/1                         in_other_hdr      = 1'b1;
1889       1/1                         if (new_aligned_data)
1890                                      begin
1891       1/1                               ip_totlength_nxt  = {new_data_align[7:0],
1892                                                              new_data_align[15:8]};
1893       1/1                               rx_dec_state_nxt  = RX_DEC_IP3;
1894                                      end
1895                                   else
1896                                      begin
1897       1/1                               rx_dec_state_nxt  = RX_DEC_IP2;
1898                                      end
1899                                end
1900                    
1901                    
1902                             RX_DEC_IP3   : // wait for IP header identification
1903                                begin
1904       1/1                         in_other_hdr      = 1'b1;
1905       1/1                         if (new_aligned_data)
1906                                      begin
1907       1/1                               rx_dec_state_nxt  = RX_DEC_IP4;
1908                                      end
1909                                   else
1910                                      begin
1911       1/1                               rx_dec_state_nxt  = RX_DEC_IP3;
1912                                      end
1913                                end
1914                    
1915                    
1916                             RX_DEC_IP4   : // Check no IP header fragmentation
1917                                begin
1918       1/1                         in_other_hdr      = 1'b1;
1919       1/1                         if (new_aligned_data &amp;
1920                                          (({new_data_align[7:0],
1921                                             new_data_align[15:8]} == IP_NFRAG_VAL1) |
1922                                           ({new_data_align[7:0],
1923                                             new_data_align[15:8]} == IP_NFRAG_VAL2)))
1924                                      begin
1925       1/1                               rx_dec_state_nxt  = RX_DEC_IP5;
1926                                      end
1927                    
1928                                   // invalid - don't check TCP/UDP checksum (carry on checking IP)
1929       1/1                         else if (new_aligned_data)
1930                                      begin
1931       <font color = "red">0/1     ==>                       no_tcp_udp_ck_nxt = 1'b1;</font>
1932       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = RX_DEC_IP5;</font>
1933                                      end
1934                    
1935                                   // wait for next pipeline data
1936                                   else
1937                                      begin
1938       1/1                               rx_dec_state_nxt  = RX_DEC_IP4;
1939                                      end
1940                                end
1941                    
1942                    
1943                             RX_DEC_IP5   : // Extract IP protocol (TCP or UDP only)
1944                                begin
1945       1/1                         in_other_hdr      = 1'b1;
1946                                   // TCP packet
1947       1/1                         if (new_aligned_data &amp; (new_data_align[15:8] == IP_TCP))
1948                                      begin
1949       <font color = "red">0/1     ==>                       tcp_frame_nxt     = ~no_tcp_udp_ck; // un-fragmented</font>
1950       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = RX_DEC_IP6;</font>
1951                                      end
1952                    
1953                                   // UDP packet
1954       1/1                         else if (new_aligned_data &amp; (new_data_align[15:8] == IP_UDP))
1955                                      begin
1956       1/1                               udp_frame_nxt     = ~no_tcp_udp_ck; // un-fragmented
1957       1/1                               rx_dec_state_nxt  = RX_DEC_IP6;
1958                                      end
1959                    
1960                                   // invalid - don't check TCP/UDP checksum (carry on checking IP)
1961       1/1                         else if (new_aligned_data)
1962                                      begin
1963       <font color = "red">0/1     ==>                       no_tcp_udp_ck_nxt = 1'b1;</font>
1964       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = RX_DEC_IP6;</font>
1965                                      end
1966                    
1967                                   // wait for next pipeline data
1968                                   else
1969                                      begin
1970       1/1                               rx_dec_state_nxt  = RX_DEC_IP5;
1971                                      end
1972                                end
1973                    
1974                    
1975                             RX_DEC_IP6   : // wait for IP header checksum
1976                                begin
1977       1/1                         in_other_hdr      = 1'b1;
1978                                   // Once IP header checksum received, start adding data to
1979                                   // TCP/UDP header checksum if not blocked.
1980       1/1                         if (new_aligned_data)
1981                                      begin
1982       1/1                               tcp_udp_check_nxt = ~no_tcp_udp_ck &amp; rx_toe_enable;
1983       1/1                               rx_dec_state_nxt  = RX_DEC_IP7;
1984                                      end
1985                                   else
1986                                      begin
1987       1/1                               rx_dec_state_nxt  = RX_DEC_IP6;
1988                                      end
1989                                end
1990                    
1991                    
1992                             RX_DEC_IP7 : // decode IP source Address (first two bytes)
1993                                begin
1994       1/1                         in_other_hdr      = 1'b1;
1995       1/1                         if (new_aligned_data)
1996                                      begin
1997       1/1                               ext_ip_sa_nxt[15:0]  = new_data_align[15:0];
1998       1/1                               rx_dec_state_nxt     = RX_DEC_IP8;
1999                                      end
2000                                   else
2001                                      begin
2002       1/1                               rx_dec_state_nxt     = RX_DEC_IP7;
2003                                      end
2004                                end
2005                    
2006                    
2007                             RX_DEC_IP8 : // decode IP source Address (second two bytes)
2008                                begin
2009       1/1                         in_other_hdr      = 1'b1;
2010       1/1                         if (new_aligned_data)
2011                                      begin
2012       1/1                               ext_ip_sa_nxt[31:16] = new_data_align[15:0];
2013       1/1                               ext_ip_sa_stb_nxt    = 1'b1;
2014       1/1                               rx_dec_state_nxt     = RX_DEC_IP9;
2015                                      end
2016                                   else
2017                                      begin
2018       1/1                               rx_dec_state_nxt     = RX_DEC_IP8;
2019                                      end
2020                                end
2021                    
2022                    
2023                             RX_DEC_IP9 : // decode IP destination Address (first two bytes)
2024                                begin
2025       1/1                         in_other_hdr      = 1'b1;
2026       1/1                         if (new_aligned_data)
2027                                      begin
2028       1/1                               ext_ip_da_nxt[15:0]  = new_data_align[15:0];
2029       1/1                               rx_dec_state_nxt     = RX_DEC_IP10;
2030                                      end
2031                                   else
2032                                      begin
2033       1/1                               rx_dec_state_nxt     = RX_DEC_IP9;
2034                                      end
2035                                end
2036                    
2037                    
2038                             RX_DEC_IP10 : // decode IP destination Address (second two bytes)
2039                                begin
2040       1/1                         in_other_hdr      = 1'b1;
2041                                   // If no options fields then this is the last field in IP header.
2042                                   // If IP header checksum is OK, go onto checking TCP/UDP checksum
2043       1/1                         if (last_ip_header &amp; ~no_tcp_udp_ck)
2044                                      begin
2045       1/1                               ext_ip_da_nxt[31:16] = new_data_align[15:0];
2046       1/1                               ext_ip_da_stb_nxt    = 1'b1;
2047       1/1                               ip_check_nxt         = 1'b0;
2048       1/1                               rx_dec_state_nxt     = RX_DEC_CKSUM;
2049       1/1                               in_payload_nxt       = ~tcp_frame&amp; ~udp_frame;
2050                                      end
2051                    
2052                                   // Last field in IP header, but bad checksum or not checking
2053                                   // TCP/UDP header checksum.
2054       1/1                         else if (last_ip_header)
2055                                      begin
2056       <font color = "red">0/1     ==>                       ext_ip_da_nxt[31:16] = new_data_align[15:0];</font>
2057       <font color = "red">0/1     ==>                       ext_ip_da_stb_nxt    = 1'b1;</font>
2058       <font color = "red">0/1     ==>                       ip_check_nxt         = 1'b0;</font>
2059       <font color = "red">0/1     ==>                       tcp_udp_check_nxt    = 1'b0;</font>
2060       <font color = "red">0/1     ==>                       rx_dec_state_nxt     = RX_DEC_IDLE;</font>
2061       <font color = "red">0/1     ==>                       in_payload_nxt       = 1'b1;</font>
2062                                      end
2063                    
2064                                   // Option fields in IP header need to be processed.
2065       1/1                         else if (new_aligned_data)
2066                                      begin
2067       1/1                               ext_ip_da_nxt[31:16] = new_data_align[15:0];
2068       1/1                               ext_ip_da_stb_nxt    = 1'b1;
2069       1/1                               tcp_udp_check_nxt    = 1'b0;
2070       1/1                               rx_dec_state_nxt     = RX_DEC_IP11;
2071                                      end
2072                    
2073                                   // wait for next pipeline data
2074                                   else
2075                                      begin
2076       1/1                               rx_dec_state_nxt     = RX_DEC_IP10;
2077                                      end
2078                                end
2079                    
2080                    
2081                             RX_DEC_IP11 : // Process IP header options fields
2082                                begin
2083       <font color = "red">0/1     ==>                 in_other_hdr      = 1'b1;</font>
2084                                   // Last field in IP header and IP header checksum is OK,
2085                                   // go onto checking TCP/UDP checksum
2086       <font color = "red">0/1     ==>                 if (last_ip_header &amp; ~no_tcp_udp_ck)</font>
2087                                      begin
2088       <font color = "red">0/1     ==>                       ip_check_nxt         = 1'b0;</font>
2089       <font color = "red">0/1     ==>                       tcp_udp_check_nxt    = rx_toe_enable;</font>
2090       <font color = "red">0/1     ==>                       rx_dec_state_nxt     = RX_DEC_CKSUM;</font>
2091       <font color = "red">0/1     ==>                       in_payload_nxt       = ~tcp_frame&amp; ~udp_frame;</font>
2092                                      end
2093                    
2094                                   // Last field in IP header, but bad checksum or not checking
2095                                   // TCP/UDP header checksum.
2096       <font color = "red">0/1     ==>                 else if (last_ip_header)</font>
2097                                      begin
2098       <font color = "red">0/1     ==>                       ip_check_nxt         = 1'b0;</font>
2099       <font color = "red">0/1     ==>                       tcp_udp_check_nxt    = 1'b0;</font>
2100       <font color = "red">0/1     ==>                       rx_dec_state_nxt     = RX_DEC_IDLE;</font>
2101       <font color = "red">0/1     ==>                       in_payload_nxt       = 1'b1;</font>
2102                                      end
2103                    
2104                                   // wait for next pipeline data to be last in IP header
2105                                   else
2106                                      begin
2107       <font color = "red">0/1     ==>                       rx_dec_state_nxt     = RX_DEC_IP11;</font>
2108                                      end
2109                                end
2110                    
2111                    
2112                             RX_DEC_PTP1 : // decode MAC Source Address
2113                                begin
2114                                   // NOTE: Stay in this state for rest of frame. At end of frame
2115                                   //       decoding the synchronous part of FSM will reset back
2116                                   //       to idle to process next frame.
2117                                   //       This could be seen as a terminal state in LINT
2118       <font color = "red">0/1     ==>                 rx_dec_state_nxt = RX_DEC_PTP1;</font>
2119       <font color = "red">0/1     ==>                 if (new_aligned_data)</font>
2120                                      begin
2121       <font color = "red">0/1     ==>                       ptp_primary_nxt  = 1'b0;</font>
2122       <font color = "red">0/1     ==>                       ptp_pdelay_nxt   = 1'b0;</font>
2123                                      end
                   <font color = "red">==>  MISSING_ELSE</font>
2124                                end
2125                    
2126                    
2127                             RX_DEC_CKSUM : // wait until all checksum data is processed and grab UDP Dest Addr.
2128                                begin
2129       1/1                         if (end_tcpudp_payload | udp_checksum_zero)
2130                                      begin
2131       <font color = "red">0/1     ==>                       tcp_udp_check_nxt    = 1'b0;</font>
2132       <font color = "red">0/1     ==>                       rx_dec_state_nxt     = RX_DEC_IDLE;</font>
2133       <font color = "red">0/1     ==>                       state_count_rst      = 1'b1;</font>
2134                                      end
2135       1/1                         else if (new_aligned_data)
2136                                     begin
2137       1/1                            if (state_count == 11'h000)
2138                                        begin
2139       1/1                               ext_source_port_nxt  = {new_data_align[7:0],new_data_align[15:8]};
2140       1/1                               rx_dec_state_nxt     = RX_DEC_CKSUM;
2141       1/1                               state_count_inc      = 1'b1;
2142       1/1                               ext_sp_stb_nxt       = 1'b1;
2143                                        end
2144       1/1                            else if (state_count == 11'h001)
2145                                        begin
2146       1/1                               ext_dest_port_nxt    = {new_data_align[7:0],new_data_align[15:8]};
2147       1/1                               rx_dec_state_nxt     = RX_DEC_CKSUM;
2148       1/1                               state_count_inc      = 1'b1;
2149       1/1                               ext_dp_stb_nxt       = 1'b1;
2150                                        end
2151       1/1                            else if (state_count == 11'h003 &amp; udp_frame)
2152                                        begin
2153       1/1                               last_tcpudp_header   = 1'b1;
2154       1/1                               in_payload_nxt       = 1'b1;
2155       1/1                               state_count_inc      = 1'b1;
2156       1/1                               rx_dec_state_nxt     = RX_DEC_CKSUM;
2157                                       end
2158       1/1                            else if (state_count == 11'd002 &amp; tcp_frame &amp; p_edma_rsc == 1)
2159                                        begin
2160       <font color = "red">0/1     ==>                       tcp_seqnum_high_nxt = {new_data_align[7:0],new_data_align[15:8]};</font>
2161       <font color = "red">0/1     ==>                       state_count_inc      = 1'b1;</font>
2162       <font color = "red">0/1     ==>                       rx_dec_state_nxt     = RX_DEC_CKSUM;</font>
2163                                       end
2164       1/1                            else if (state_count == 11'd003 &amp; tcp_frame &amp; p_edma_rsc == 1)
2165                                        begin
2166       <font color = "red">0/1     ==>                       tcp_seqnum_low_nxt = {new_data_align[7:0],new_data_align[15:8]};</font>
2167       <font color = "red">0/1     ==>                       state_count_inc      = 1'b1;</font>
2168       <font color = "red">0/1     ==>                       rx_dec_state_nxt     = RX_DEC_CKSUM;</font>
2169                                       end
2170       1/1                            else if (state_count == 11'd006 &amp; tcp_frame)
2171                                        begin
2172       <font color = "red">0/1     ==>                       tcp_offset_nxt       = new_data_align[7:4];</font>
2173                                         // Set rsc_stop if FIN/SYN/RST or URG flags are set
2174       <font color = "red">0/1     ==>                       if (p_edma_rsc == 1)</font>
2175                                         begin
2176       <font color = "red">0/1     ==>                         rsc_stop_nxt       = new_data_align[13] |    // URG</font>
2177                                                                (|new_data_align[10:8]); // RST/SYN/FIN;
2178       <font color = "red">0/1     ==>                         rsc_push_nxt       = new_data_align[11]; // set with PSH flag</font>
2179       <font color = "red">0/1     ==>                         tcp_syn_nxt          = new_data_align[9];  // set with SYN flag</font>
2180                                         end
                   <font color = "red">==>  MISSING_ELSE</font>
2181       <font color = "red">0/1     ==>                       state_count_inc      = 1'b1;</font>
2182       <font color = "red">0/1     ==>                       rx_dec_state_nxt     = RX_DEC_CKSUM;</font>
2183                                       end
2184       1/1                            else if (state_count == ({6'd0,tcp_offset,1'b0} - 11'd1) &amp; tcp_frame)
2185                                        begin
2186       <font color = "red">0/1     ==>                       last_tcpudp_header   = 1'b1;</font>
2187       <font color = "red">0/1     ==>                       in_payload_nxt       = 1'b1;</font>
2188       <font color = "red">0/1     ==>                       state_count_inc      = 1'b1;</font>
2189       <font color = "red">0/1     ==>                       rx_dec_state_nxt     = RX_DEC_CKSUM;</font>
2190                                       end
2191                                      else
2192                                        begin
2193       1/1                               state_count_inc      = 1'b1;
2194       1/1                               rx_dec_state_nxt     = RX_DEC_CKSUM;
2195                                       end
2196                                     end
2197                                   else
2198       1/1                            rx_dec_state_nxt     = RX_DEC_CKSUM;
2199                                end
2200                    
2201                             RX_DEC_IPv6_1   : // Check IP version
2202                                begin
2203       <font color = "red">0/1     ==>                 in_other_hdr      = 1'b1;</font>
2204       <font color = "red">0/1     ==>                 rx_dec_state_nxt  = RX_DEC_IPv6_1;</font>
2205       <font color = "red">0/1     ==>                 ext_ipv6_nxt      = 1'b1;</font>
2206       <font color = "red">0/1     ==>                 if (new_aligned_data)</font>
2207                                      begin
2208       <font color = "red">0/1     ==>                       ip_check_nxt      = 1'b0;  // No IP checksum for IPv6</font>
2209       <font color = "red">0/1     ==>                       case (state_count)</font>
2210                                         11'h000 :
2211                                            begin
2212       <font color = "red">0/1     ==>                             if (new_data_align[7:4] == IP_VERSION6)</font>
2213                                                  begin
2214       <font color = "red">0/1     ==>                                   ip_v6_tc_nxt      = {new_data_align[3:0],new_data_align[15:12]};</font>
2215       <font color = "red">0/1     ==>                                   state_count_inc   = 1'b1;</font>
2216       <font color = "red">0/1     ==>                                   ip_v6_frame_nxt   = 1'b1;</font>
2217                                                  end
2218                                               // invalid - wait for next frame
2219                                               else
2220                                                  begin
2221       <font color = "red">0/1     ==>                                   in_payload_nxt    = 1'b1;</font>
2222       <font color = "red">0/1     ==>                                   state_count_rst   = 1'b1;</font>
2223       <font color = "red">0/1     ==>                                   rx_dec_state_nxt  = RX_DEC_IDLE;</font>
2224                                                  end
2225                                            end
2226                    
2227                                         11'h001 :
2228                                            begin
2229       <font color = "red">0/1     ==>                             state_count_inc   = 1'b1;</font>
2230                                            end
2231                                         11'h002 :
2232                                            begin
2233       <font color = "red">0/1     ==>                             state_count_inc   = 1'b1;</font>
2234       <font color = "red">0/1     ==>                             ip_totlength_nxt  = {new_data_align[7:0],</font>
2235                                                                    new_data_align[15:8]};
2236                                            end
2237                    
2238                                         11'h003 :
2239                                            begin
2240       <font color = "red">0/1     ==>                             nxt_hdr_is_frag_nxt   =</font>
2241                                                               (new_data_align[7:0] == IPV6_FRAG);
2242       <font color = "red">0/1     ==>                             nxt_hdr_is_route_nxt  =</font>
2243                                                               (new_data_align[7:0] == IPV6_ROUTE);
2244       <font color = "red">0/1     ==>                             if ((new_data_align[7:0] == IPV6_HOP)   |</font>
2245                                                  (new_data_align[7:0] == IPV6_ROUTE) |
2246                                                  (new_data_align[7:0] == IPV6_FRAG)  |
2247                                                  (new_data_align[7:0] == IPV6_DEST))
2248                                                  begin
2249       <font color = "red">0/1     ==>                                   ipv6_ext_hdr_nxt  = 1'b1;</font>
2250       <font color = "red">0/1     ==>                                   state_count_inc   = 1'b1;</font>
2251       <font color = "red">0/1     ==>                                   tcp_udp_check_nxt = rx_toe_enable;</font>
2252                                                  end
2253                    
2254                                               else
2255                                                  begin
2256       <font color = "red">0/1     ==>                                   ipv6_ext_hdr_nxt  = 1'b0;</font>
2257       <font color = "red">0/1     ==>                                   if (new_data_align[7:0] == IP_TCP)</font>
2258                                                        begin
2259       <font color = "red">0/1     ==>                                         state_count_inc   = 1'b1;</font>
2260       <font color = "red">0/1     ==>                                         tcp_frame_nxt     = 1'b1;</font>
2261       <font color = "red">0/1     ==>                                         tcp_udp_check_nxt = rx_toe_enable;</font>
2262                                                        end
2263                    
2264       <font color = "red">0/1     ==>                                   else if (new_data_align[7:0] == IP_UDP)</font>
2265                                                        begin
2266       <font color = "red">0/1     ==>                                         state_count_inc   = 1'b1;</font>
2267       <font color = "red">0/1     ==>                                         udp_frame_nxt     = 1'b1;</font>
2268       <font color = "red">0/1     ==>                                         tcp_udp_check_nxt = rx_toe_enable;</font>
2269                                                        end
2270                    
2271                                                     else
2272                                                        begin
2273       <font color = "red">0/1     ==>                                         state_count_inc   = 1'b1;</font>
2274                    //                                       state_count_rst   = 1'b1;
2275                    //                                       rx_dec_state_nxt  = RX_DEC_IDLE;
2276       <font color = "red">0/1     ==>                                         tcp_udp_check_nxt = 1'b0;</font>
2277                                                        end
2278                                                  end
2279                    
2280                                            end
2281                    
2282                                         // 128 bits Source Address
2283                                         11'h004 :
2284                                            begin
2285       <font color = "red">0/1     ==>                             ext_ip_sa_nxt[15:0] = new_data_align[15:0];</font>
2286                    //                           tcp_udp_check_nxt = rx_toe_enable;
2287       <font color = "red">0/1     ==>                             state_count_inc   = 1'b1;</font>
2288                                            end
2289                    
2290                                         11'h005 :
2291                                            begin
2292       <font color = "red">0/1     ==>                             ext_ip_sa_nxt[31:16] = new_data_align[15:0];</font>
2293                    //                           tcp_udp_check_nxt = rx_toe_enable;
2294       <font color = "red">0/1     ==>                             state_count_inc   = 1'b1;</font>
2295                                            end
2296                    
2297                                         11'h006 :
2298                                            begin
2299       <font color = "red">0/1     ==>                             ext_ip_sa_nxt[47:32] = new_data_align[15:0];</font>
2300                    //                           tcp_udp_check_nxt = rx_toe_enable;
2301       <font color = "red">0/1     ==>                             state_count_inc   = 1'b1;</font>
2302                                            end
2303                    
2304                                         11'h007 :
2305                                            begin
2306       <font color = "red">0/1     ==>                             ext_ip_sa_nxt[63:48] = new_data_align[15:0];</font>
2307                    //                           tcp_udp_check_nxt = rx_toe_enable;
2308       <font color = "red">0/1     ==>                             state_count_inc   = 1'b1;</font>
2309                                            end
2310                    
2311                                         11'h008 :
2312                                            begin
2313       <font color = "red">0/1     ==>                             ext_ip_sa_nxt[79:64] = new_data_align[15:0];</font>
2314                    //                           tcp_udp_check_nxt = rx_toe_enable;
2315       <font color = "red">0/1     ==>                             state_count_inc   = 1'b1;</font>
2316                                            end
2317                    
2318                                         11'h009 :
2319                                            begin
2320       <font color = "red">0/1     ==>                             ext_ip_sa_nxt[95:80] = new_data_align[15:0];</font>
2321                    //                           tcp_udp_check_nxt = rx_toe_enable;
2322       <font color = "red">0/1     ==>                             state_count_inc   = 1'b1;</font>
2323                                            end
2324                    
2325                                         11'h00a :
2326                                            begin
2327       <font color = "red">0/1     ==>                             ext_ip_sa_nxt[111:96] = new_data_align[15:0];</font>
2328                    //                           tcp_udp_check_nxt = rx_toe_enable;
2329       <font color = "red">0/1     ==>                             state_count_inc   = 1'b1;</font>
2330                                            end
2331                    
2332                                         11'h00b: // Last 16 bits of Source Add.  Need to store
2333                                                  // checksum value here as we may need to recall
2334                                                  // it later if there are routing options
2335                                            begin
2336       <font color = "red">0/1     ==>                             ext_ip_sa_nxt[127:112] = new_data_align[15:0];</font>
2337       <font color = "red">0/1     ==>                             ext_ip_sa_stb_nxt = 1'b1;</font>
2338                    //                           tcp_udp_check_nxt = rx_toe_enable;
2339                    //                           store_tcp_csum_nxt = 1'b1;
2340       <font color = "red">0/1     ==>                             store_tcp_csum_nxt = tcp_udp_check;</font>
2341       <font color = "red">0/1     ==>                             state_count_inc   = 1'b1;</font>
2342                                            end
2343                    
2344                                         // 128 bits Destination Address
2345                                         11'h00c :
2346                                            begin
2347       <font color = "red">0/1     ==>                             ext_ip_da_nxt[15:0] = new_data_align[15:0];</font>
2348                    //                           tcp_udp_check_nxt = rx_toe_enable;
2349       <font color = "red">0/1     ==>                             state_count_inc   = 1'b1;</font>
2350                                            end
2351                    
2352                                         11'h00d :
2353                                            begin
2354       <font color = "red">0/1     ==>                             ext_ip_da_nxt[31:16] = new_data_align[15:0];</font>
2355                    //                           tcp_udp_check_nxt = rx_toe_enable;
2356       <font color = "red">0/1     ==>                             state_count_inc   = 1'b1;</font>
2357                                            end
2358                    
2359                                         11'h00e :
2360                                            begin
2361       <font color = "red">0/1     ==>                             ext_ip_da_nxt[47:32] = new_data_align[15:0];</font>
2362                    //                           tcp_udp_check_nxt = rx_toe_enable;
2363       <font color = "red">0/1     ==>                             state_count_inc   = 1'b1;</font>
2364                                            end
2365                    
2366                                         11'h00f :
2367                                            begin
2368       <font color = "red">0/1     ==>                             ext_ip_da_nxt[63:48] = new_data_align[15:0];</font>
2369                    //                           tcp_udp_check_nxt = rx_toe_enable;
2370       <font color = "red">0/1     ==>                             state_count_inc   = 1'b1;</font>
2371                                            end
2372                    
2373                                         11'h010 :
2374                                            begin
2375       <font color = "red">0/1     ==>                             ext_ip_da_nxt[79:64] = new_data_align[15:0];</font>
2376                    //                           tcp_udp_check_nxt = rx_toe_enable;
2377       <font color = "red">0/1     ==>                             state_count_inc   = 1'b1;</font>
2378                                            end
2379                    
2380                                         11'h011 :
2381                                            begin
2382       <font color = "red">0/1     ==>                             ext_ip_da_nxt[95:80] = new_data_align[15:0];</font>
2383                    //                           tcp_udp_check_nxt = rx_toe_enable;
2384       <font color = "red">0/1     ==>                             state_count_inc   = 1'b1;</font>
2385                                            end
2386                    
2387                                         11'h012 :
2388                                            begin
2389       <font color = "red">0/1     ==>                             ext_ip_da_nxt[111:96] = new_data_align[15:0];</font>
2390                    //                           tcp_udp_check_nxt = rx_toe_enable;
2391       <font color = "red">0/1     ==>                             state_count_inc   = 1'b1;</font>
2392                                            end
2393                    
2394                                         default :
2395                                            begin
2396       <font color = "red">0/1     ==>                             state_count_rst   = 1'b1;</font>
2397       <font color = "red">0/1     ==>                             ext_ip_da_nxt[127:112] = new_data_align[15:0];</font>
2398       <font color = "red">0/1     ==>                             ext_ip_da_stb_nxt = 1'b1;</font>
2399       <font color = "red">0/1     ==>                             if (ipv6_ext_hdr)</font>
2400                                                  begin
2401       <font color = "red">0/1     ==>                                   rx_dec_state_nxt  = RX_DEC_IPv6_2;</font>
2402       <font color = "red">0/1     ==>                                   tcp_udp_check_nxt = 1'b0;</font>
2403                                                  end
2404       <font color = "red">0/1     ==>                             else if (tcp_frame | udp_frame)</font>
2405       <font color = "red">0/1     ==>                                rx_dec_state_nxt  = RX_DEC_CKSUM;</font>
2406                                               else
2407                                                 begin
2408       <font color = "red">0/1     ==>                                  in_payload_nxt    = 1'b1;</font>
2409       <font color = "red">0/1     ==>                                  rx_dec_state_nxt  = RX_DEC_IDLE;</font>
2410                                                 end
2411                                            end
2412                    
2413                                         endcase
2414                    
2415                                      end
2416                                   // wait for next pipeline data
2417                                   else
2418                                      begin
2419       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = RX_DEC_IPv6_1;</font>
2420                                      end
2421                                end
2422                    
2423                             RX_DEC_IPv6_2 :
2424                                begin
2425       <font color = "red">0/1     ==>                 in_other_hdr      = 1'b1;</font>
2426       <font color = "red">0/1     ==>                 rx_dec_state_nxt  = RX_DEC_IPv6_2;</font>
2427       <font color = "red">0/1     ==>                 if (new_aligned_data)</font>
2428                                      begin
2429       <font color = "red">0/1     ==>                       ip_check_nxt      = 1'b0;  // No IP checksum for IPv6</font>
2430       <font color = "red">0/1     ==>                       if (state_count == 11'h000)</font>
2431                                            begin
2432       <font color = "red">0/1     ==>                             nxt_hdr_is_frag_nxt   =</font>
2433                                                                (new_data_align[7:0] == IPV6_FRAG);
2434       <font color = "red">0/1     ==>                             nxt_hdr_is_route_nxt  =</font>
2435                                                               (new_data_align[7:0] == IPV6_ROUTE);
2436       <font color = "red">0/1     ==>                             if (cur_hdr_is_frag)</font>
2437                                                  begin
2438       <font color = "red">0/1     ==>                                   ip_opt_length_nxt = 8'h00;</font>
2439       <font color = "red">0/1     ==>                                   ip_totlength_nxt  = ip_totlength - 16'h0008;</font>
2440       <font color = "red">0/1     ==>                                   no_tcp_udp_ck_nxt = 1'b1;</font>
2441                                                  end
2442                                               else
2443                                                  begin
2444       <font color = "red">0/1     ==>                                   ip_totlength_nxt  = ip_totlength - 16'h0008 -</font>
2445                                                                  {5'h00,new_data_align[15:8],3'h0};
2446       <font color = "red">0/1     ==>                                   ip_opt_length_nxt = new_data_align[15:8];</font>
2447                                                  end
2448                    
2449       <font color = "red">0/1     ==>                             if (cur_hdr_is_frag)</font>
2450                                                  begin
2451       <font color = "red">0/1     ==>                                   rx_dec_state_nxt  = RX_DEC_IDLE;</font>
2452       <font color = "red">0/1     ==>                                   state_count_rst   = 1'b1;</font>
2453       <font color = "red">0/1     ==>                                   in_payload_nxt    = 1'b1;</font>
2454                                                  end
2455                    
2456       <font color = "red">0/1     ==>                             else if ((new_data_align[7:0] == IPV6_HOP)   |</font>
2457                                                   (new_data_align[7:0] == IPV6_ROUTE) |
2458                                                   (new_data_align[7:0] == IPV6_DEST) |
2459                                                   (new_data_align[7:0] == IPV6_FRAG))
2460                                                  begin
2461       <font color = "red">0/1     ==>                                   state_count_inc   = 1'b1;</font>
2462       <font color = "red">0/1     ==>                                   ipv6_ext_hdr_nxt  = 1'b1;</font>
2463                                                  end
2464                    
2465                                               else
2466                                                  begin
2467       <font color = "red">0/1     ==>                                   ipv6_ext_hdr_nxt  = 1'b0;</font>
2468       <font color = "red">0/1     ==>                                   if (new_data_align[7:0] == IP_TCP)</font>
2469                                                        begin
2470       <font color = "red">0/1     ==>                                         state_count_inc   = 1'b1;</font>
2471       <font color = "red">0/1     ==>                                         tcp_frame_nxt     = 1'b1;</font>
2472                                                        end
2473                    
2474       <font color = "red">0/1     ==>                                   else if (new_data_align[7:0] == IP_UDP)</font>
2475                                                        begin
2476       <font color = "red">0/1     ==>                                         state_count_inc   = 1'b1;</font>
2477       <font color = "red">0/1     ==>                                         udp_frame_nxt     = 1'b1;</font>
2478                                                        end
2479                    
2480                                                     else
2481                                                        begin
2482       <font color = "red">0/1     ==>                                         state_count_inc   = 1'b1;</font>
2483                                                        end
2484                                                  end
2485                                            end
2486                    
2487                                         // Restart checksum calculation on the last DEST address
2488       <font color = "red">0/1     ==>                       else if (state_count == ({1'b0,ip_opt_length,2'b00} - 11'd5) &amp;</font>
2489                                                  cur_hdr_is_route &amp; segments_left)
2490                                            begin
2491       <font color = "red">0/1     ==>                             tcp_udp_check_nxt = rx_toe_enable;</font>
2492       <font color = "red">0/1     ==>                             state_count_inc   = 1'b1;</font>
2493                                            end
2494                    
2495                                         // Last cycle of this extension header
2496       <font color = "red">0/1     ==>                       else if (state_count == ({1'b0,ip_opt_length,2'b00} + 11'd3))</font>
2497                                            begin
2498       <font color = "red">0/1     ==>                             state_count_rst   = 1'b1;</font>
2499       <font color = "red">0/1     ==>                             if (ipv6_ext_hdr)</font>
2500                                                  begin
2501       <font color = "red">0/1     ==>                                   tcp_udp_check_nxt = 1'b0;</font>
2502       <font color = "red">0/1     ==>                                   rx_dec_state_nxt  = RX_DEC_IPv6_2;</font>
2503                                                  end
2504                                               else
2505                                                  begin
2506       <font color = "red">0/1     ==>                                   if (!(tcp_frame|udp_frame))</font>
2507                                                        begin
2508       <font color = "red">0/1     ==>                                         rx_dec_state_nxt  = RX_DEC_IDLE;</font>
2509       <font color = "red">0/1     ==>                                         tcp_udp_check_nxt = 1'b0;</font>
2510       <font color = "red">0/1     ==>                                         in_payload_nxt    = 1'b1;</font>
2511                                                        end
2512                                                     else
2513                                                        begin
2514       <font color = "red">0/1     ==>                                         rx_dec_state_nxt  = RX_DEC_CKSUM;</font>
2515       <font color = "red">0/1     ==>                                         tcp_udp_check_nxt = rx_toe_enable;</font>
2516                                                        end
2517                                                  end
2518                                            end
2519                    
2520                                         else
2521       <font color = "red">0/1     ==>                          state_count_inc   = 1'b1;</font>
2522                    
2523                                      end
2524                                   // wait for next pipeline data
2525                                   else
2526                                      begin
2527       <font color = "red">0/1     ==>                       rx_dec_state_nxt  = RX_DEC_IPv6_2;</font>
2528                                      end
2529                                end
2530                    
2531                    
2532                    
2533                             default      : // RX_DEC_IDLE
2534                                begin
2535                                   // If new frame coming in goto RX_DEC_DA1, only if enabled
2536                                   // by synchronous process of state machine.
2537       1/1                         if (start_of_data)
2538                                      begin
2539       1/1                               rx_dec_state_nxt     = RX_DEC_DA1;
2540                                      end
2541                                   else
2542                                      begin
2543       1/1                               rx_dec_state_nxt     = RX_DEC_IDLE;
2544                                      end
2545                                end
2546                    
2547                          endcase
2548                       end
2549                    
2550                    
2551                    // -----------------------------------------------------------------------------
2552                    // Detect and store segments_left
2553                    // -----------------------------------------------------------------------------
2554                       always@(posedge rx_clk or negedge n_rxreset)
2555                       begin
2556       1/1                if (~n_rxreset)
2557       1/1                   segments_left  &lt;= 1'b0;
2558       1/1                else if (new_aligned_data &amp; cur_hdr_is_route &amp; state_count == 11'h001)
2559       <font color = "red">0/1     ==>           segments_left  &lt;= (new_data_align[15:8] != 8'h00);</font>
                        MISSING_ELSE
2560                       end
2561                    
2562                    
2563                    // -----------------------------------------------------------------------------
2564                    // State Counter for IPv6 states
2565                    // -----------------------------------------------------------------------------
2566                       always@(posedge rx_clk or negedge n_rxreset)
2567                       begin
2568       1/1                if (~n_rxreset)
2569       1/1                  state_count &lt;= 11'h000;
2570       1/1                else if (state_count_inc &amp; ~(&amp;state_count))
2571       1/1                  state_count &lt;= state_count + 11'h001;
2572       1/1                else if (state_count_rst | ~enable_receive_rck | ~frame_being_decoded)
2573       1/1                  state_count &lt;= 11'h000;
                        MISSING_ELSE
2574                       end
2575                    
2576                    
2577                    // -----------------------------------------------------------------------------
2578                    // In IPV6, the DEST address to use in the checksum value depends on
2579                    // whether there are any routing options.  However, we may not know there
2580                    // are any routing options in the packet until after the DEST address of the
2581                    // IP header. We must therefore store the value of the checksum after the SRC
2582                    // address so that we can revert to this value should a routing option be
2583                    // detected later on
2584                    // -----------------------------------------------------------------------------
2585                       always@(posedge rx_clk or negedge n_rxreset)
2586                       begin
2587       1/1                if (~n_rxreset)
2588       1/1                  stored_tcp_csum &lt;= 17'h00000;
2589       1/1                else if (store_tcp_csum)
2590       <font color = "red">0/1     ==>          stored_tcp_csum &lt;= {tcp_checksum_carry,tcp_checksum_val};</font>
                        MISSING_ELSE
2591                       end
2592                    
2593                    
2594                    // -----------------------------------------------------------------------------
2595                    // IP Header Checksum Validation
2596                    // -----------------------------------------------------------------------------
2597                    
2598                       // Count correct number of options field (counted in 16 bit words)
2599                       always@(posedge rx_clk or negedge n_rxreset)
2600                       begin
2601       1/1              if (~n_rxreset)
2602       1/1                ip_options_cnt &lt;= 9'd0;
2603       1/1              else if ((rx_dec_state_nxt == RX_DEC_IP11) &amp; new_aligned_data)
2604       <font color = "red">0/1     ==>        ip_options_cnt &lt;= ip_options_cnt_nxt;</font>
2605       1/1              else if (rx_dec_state_nxt == RX_DEC_IP11)
2606       <font color = "red">0/1     ==>        ip_options_cnt &lt;= ip_options_cnt;</font>
2607       1/1              else if ((rx_dec_state_nxt == RX_DEC_IPv6_2) &amp; new_aligned_data)
2608       <font color = "red">0/1     ==>        ip_options_cnt &lt;= ip_options_cnt_nxt;</font>
2609       1/1              else if (rx_dec_state_nxt == RX_DEC_IPv6_2)
2610       <font color = "red">0/1     ==>        ip_options_cnt &lt;= ip_options_cnt;</font>
2611                        else
2612       1/1                ip_options_cnt &lt;= 9'd0;
2613                       end
2614                    
2615                       // Next value of options field counter
2616                       assign ip_options_cnt_nxt = ip_options_cnt + 9'h001;
2617                    
2618                       // Indicate last ip header when value of options field counter
2619                       // equals expected length and we have reached RX_DEC_IP10 or RX_DEC_IP11.
2620                       // Note that ip_opt_length is expressed in 32 bit words, whereas we are
2621                       // counting in 16 bit words.
2622                       assign last_ip_header = new_aligned_data &amp;
2623                                               ( (rx_dec_state == RX_DEC_IP10 |
2624                                                  rx_dec_state == RX_DEC_IP11) &amp;
2625                                                  ip_options_cnt == {ip_opt_length,1'b0});
2626                    
2627                       assign last_ipv6_header = new_aligned_data &amp;
2628                                                ((rx_dec_state == RX_DEC_IPv6_1 &amp;
2629                                                   state_count == 11'h013 &amp;
2630                                                   ~ipv6_ext_hdr) |
2631                                                 (rx_dec_state == RX_DEC_IPv6_2 &amp;
2632                                                   (state_count == ({1'b0,ip_opt_length,2'b00} + 11'd3)) &amp;
2633                                                   ~ipv6_ext_hdr)) ;
2634                    
2635                    
2636                       // maintain checksum value
2637                       always@(posedge rx_clk or negedge n_rxreset)
2638                       begin
2639       1/1              if (~n_rxreset)
2640                          begin
2641       1/1                   ip_checksum_val   &lt;= 16'h0000;
2642       1/1                   ip_checksum_carry &lt;= 1'b0;
2643                          end
2644       1/1              else if (~enable_receive_rck | ~rx_toe_enable | ~frame_being_decoded)
2645                          begin
2646       1/1                   ip_checksum_val   &lt;= 16'h0000;
2647       1/1                   ip_checksum_carry &lt;= 1'b0;
2648                          end
2649       <font color = "red">0/1     ==>      else if (ip_check &amp; new_aligned_data)</font>
2650                          begin
2651       <font color = "red">0/1     ==>           ip_checksum_val   &lt;= ip_checksum_val_nxt[15:0];</font>
2652       <font color = "red">0/1     ==>           ip_checksum_carry &lt;= ip_checksum_val_nxt[16];</font>
2653                          end
2654                        else
2655                          begin
2656       <font color = "red">0/1     ==>           ip_checksum_val   &lt;= ip_checksum_val;</font>
2657       <font color = "red">0/1     ==>           ip_checksum_carry &lt;= ip_checksum_carry;</font>
2658                          end
2659                       end
2660                    
2661                       // Calculate next value for checksum value.
2662                       // Next value is previous plus the previous carry plus the new data (note
2663                       // the order of the new data is [earliest byte, latest byte]).
2664                       assign ip_checksum_val_nxt={1'b0, ip_checksum_val[15:0]} +
2665                                                  {16'd0, ip_checksum_carry} +
2666                                                  {1'b0, new_data_align[7:0], new_data_align[15:8]};
2667                    
2668                    
2669                       // Validate the IP header checksum on last IP header. Checksum is OK if
2670                       // the new value is 0xFFFF. The new value must be include the carry bit
2671                       // added to the LSB (one's complement addition). Normally this is added
2672                       // in the next cycle, so instead look for 0xFFFE if the carry is set.
2673                       assign ip_checksum_ok = (ip_checksum_val_nxt[15:0] ==
2674                                                               {15'h7fff,~ip_checksum_val_nxt[16]});
2675                    
2676                    
2677                       // hold checksum error until end of frame.
2678                       always@(posedge rx_clk or negedge n_rxreset)
2679                       begin
2680       1/1              if (~n_rxreset)
2681       1/1                ip_ck_err_det &lt;= 1'b0;
2682       1/1              else if (~enable_receive_rck | ~rx_toe_enable | ~frame_being_decoded)
2683       1/1                ip_ck_err_det &lt;= 1'b0;
2684       <font color = "red">0/1     ==>      else if (last_ip_header &amp; ~ip_checksum_ok)</font>
2685       <font color = "red">0/1     ==>        ip_ck_err_det &lt;= 1'b1;</font>
2686                        else
2687       <font color = "red">0/1     ==>        ip_ck_err_det &lt;= ip_ck_err_det;</font>
2688                       end
2689                    
2690                       // Signal IP checksum error if not OK or if the end of frame is reached
2691                       // before calculation is complete
2692                       assign ip_ck_err = ip_ck_err_det | (end_of_frame &amp; ip_check);
2693                    
2694                    
2695                    // -----------------------------------------------------------------------------
2696                    // TCP/UDP Checksum Validation
2697                    // -----------------------------------------------------------------------------
2698                    
2699                       // Count correct number of TCP/UDP fields. Count number of 16 bit words.
2700                       always@(posedge rx_clk or negedge n_rxreset)
2701                       begin
2702       1/1              if (~n_rxreset)
2703       1/1                ip_length_cnt &lt;= 16'h0000;
2704       1/1              else if (~enable_receive_rck | ~frame_being_decoded)
2705       1/1                ip_length_cnt &lt;= 16'h0000;
2706       1/1              else if (new_aligned_data &amp; (ip_check | (rx_dec_state == RX_DEC_CKSUM)))
2707       1/1                ip_length_cnt &lt;= ip_length_cnt_nxt;
2708                        else
2709       1/1                ip_length_cnt &lt;= ip_length_cnt;
2710                       end
2711                    
2712                    
2713                       // Next value of TCP/UDP length counter (counting in 16 bit words).
2714                       assign ip_length_cnt_nxt = ip_length_cnt + 16'h0001;
2715                    
2716                    
2717                       // Round up ip_totlength to the nearest number of 16 bit words.
2718                       assign ip_totlength_rounded = ({1'b0,ip_totlength[15:1]} +
2719                                                      {15'd0,ip_totlength[0]});
2720                    
2721                    
2722                       // Indicate last TCP/UDP data. ip_totlength is expressed in terms of bytes,
2723                       // whereas we are counting in 16 bit words. We also need to round
2724                       // up to the nearest number of 16 bit words.
2725                       assign end_tcpudp_payload = new_aligned_data &amp;
2726                                                (rx_dec_state == RX_DEC_CKSUM) &amp;
2727                                                (ip_length_cnt_nxt == ip_totlength_rounded);
2728                    
2729                    
2730                       // Work out where the UDP checksum value will be. This will be on the 27th
2731                       // and 28th byte if the options field is zero length. (note that counter
2732                       // value will be 13 (0xd) when checksum is in new_data_align).
2733                       // Note that ip_opt_length is expressed in 32 bit words, whereas we are
2734                       // counting in 16 bit words.
2735                       assign udp_checksum[9:0] = 10'h00d + {1'b0, ip_opt_length, 1'b0};
2736                    
2737                    
2738                       // detect when a UDP frame and the UDP checksum value is zero. When this
2739                       // is signalled checksum verification is stopped and no error is reported.
2740                       // note for ipv6 packets udp with a zero checksum must be discarded
2741                       assign udp_checksum_zero = new_aligned_data &amp; udp_frame &amp;
2742                                                ~ip_v6_frame &amp; (ip_length_cnt == {6'h00,udp_checksum[9:0]}) &amp;
2743                                                (new_data_align[15:0] == 16'h0000);
2744                    
2745                       assign udp_checksum_zero_ipv6 = new_aligned_data &amp; udp_frame &amp;
2746                                                 ip_v6_frame &amp; (ip_length_cnt == 16'h0003) &amp;
2747                                                (new_data_align[15:0] == 16'h0000);
2748                    
2749                       wire [17:0] tcp_checksum_1;
2750                       wire [17:0] tcp_checksum_2;
2751                       assign      tcp_checksum_1 = ip_totlength[15:0] + {8'h00,IP_TCP} + tcp_checksum_val[15:0] + {15'd0, tcp_checksum_carry};
2752                       assign      tcp_checksum_2 = ip_totlength[15:0] + {8'h00,IP_UDP} + tcp_checksum_val[15:0] + {15'd0, tcp_checksum_carry};
2753                       
2754                       // maintain TCP/UDP checksum value
2755                       always@(posedge rx_clk or negedge n_rxreset)
2756                       begin
2757       1/1              if (~n_rxreset)
2758                           begin
2759       1/1                    tcp_checksum_val   &lt;= 16'h0000;
2760       1/1                    tcp_checksum_carry &lt;= 1'b0;
2761                           end
2762                    
2763                        // Zero when disabled or not receiving a frame
2764       1/1              else if (~enable_receive_rck | ~rx_toe_enable | ~frame_being_decoded)
2765                           begin
2766       1/1                    tcp_checksum_val   &lt;= 16'h0000;
2767       1/1                    tcp_checksum_carry &lt;= 1'b0;
2768                           end
2769                    
2770                        // Initialise checksum value with tcp_checksum_init - IPv4 ONLY
2771       <font color = "red">0/1     ==>      else if ((rx_dec_state == RX_DEC_IP6) &amp; new_aligned_data)</font>
2772                           begin
2773       <font color = "red">0/1     ==>            tcp_checksum_val   &lt;= tcp_checksum_init[15:0];</font>
2774       <font color = "red">0/1     ==>            tcp_checksum_carry &lt;= tcp_checksum_init[16];</font>
2775                           end
2776                    
2777                        // For IPv6 packets with a routing header, we need to reset
2778                        // the checksum to the temp value stored in stored_tcp_csum.
2779                        // this value contains the checksum value after the source
2780                        // address only has been processed
2781                        // Use state count of 2 as segments_left is only valid at this point
2782       <font color = "red">0/1     ==>      else if (new_aligned_data &amp; cur_hdr_is_route &amp; segments_left &amp;</font>
2783                                 (state_count == 11'h002))
2784                           begin
2785       <font color = "red">0/1     ==>            tcp_checksum_val   &lt;= stored_tcp_csum[15:0];</font>
2786       <font color = "red">0/1     ==>            tcp_checksum_carry &lt;= stored_tcp_csum[16];</font>
2787                           end
2788                    
2789                        // Initialise checksum value  - IPv6
2790       <font color = "red">0/1     ==>      else if (new_aligned_data &amp; (tcp_frame_nxt|udp_frame_nxt) &amp;</font>
2791                                ((rx_dec_state == RX_DEC_IPv6_1 &amp; state_count == 11'h003) |
2792                                 (rx_dec_state == RX_DEC_IPv6_2 &amp; state_count == 11'h003)))
2793                           begin
2794                              // If there are no more extension headers and next hdr
2795                              // is the TCP/UDP, then we can add the payload length
2796                              // &amp; next header values into the checksum here.
2797                              // Note that ip_totlength is updated in state cnt 0
2798                              // of RX_DEC_IPv6_2 state, so it is valid here in state 1
2799       <font color = "red">0/1     ==>            if (tcp_frame_nxt)</font>
2800       <font color = "red">0/1     ==>               {tcp_checksum_carry,tcp_checksum_val}   &lt;= tcp_checksum_1[16:0];</font>
2801                              else
2802       <font color = "red">0/1     ==>               {tcp_checksum_carry,tcp_checksum_val}   &lt;= tcp_checksum_2[16:0];</font>
2803                           end
2804                    
2805                        // If data is part of checksum calculation (tcp_udp_check high),
2806                        // then add to checksum value.
2807       <font color = "red">0/1     ==>      else if (tcp_udp_check &amp; new_aligned_data)</font>
2808                           begin
2809       <font color = "red">0/1     ==>            tcp_checksum_val   &lt;= tcp_checksum_val_nxt[15:0];</font>
2810       <font color = "red">0/1     ==>            tcp_checksum_carry &lt;= tcp_checksum_val_nxt[16];</font>
2811                           end
2812                    
2813                        // Otherwise maintain value
2814                        else
2815                           begin
2816       <font color = "red">0/1     ==>            tcp_checksum_val   &lt;= tcp_checksum_val;</font>
2817       <font color = "red">0/1     ==>            tcp_checksum_carry &lt;= tcp_checksum_carry;</font>
2818                           end
2819                       end
2820                    
2821                    
2822                    
2823                       // Calculate next value for checksum value.
2824                       always @(*)
2825                       begin
2826                         // Total number of bytes in datagram is odd and last word
2827       1/1               if (ip_totlength[0] &amp; end_tcpudp_payload)
2828       <font color = "red">0/1     ==>          tcp_checksum_val_nxt = {1'b0, tcp_checksum_val[15:0]} +</font>
2829                                                   {16'd0, tcp_checksum_carry} +
2830                                                   {1'b0, new_data_align[7:0], 8'h00};
2831                    
2832                         // Otherwise always add previous value plus the previous carry plus
2833                         // the new data value ordered as [earliest byte, latest byte]
2834                         else
2835       1/1                  tcp_checksum_val_nxt = {1'b0, tcp_checksum_val[15:0]} +
2836                                                   {16'd0, tcp_checksum_carry} +
2837                                                   {1'b0, new_data_align[7:0],
2838                                                       new_data_align[15:8]};
2839                       end
2840                    
2841                    
2842                    
2843                       // Initial value of checksum calculation is
2844                       //
2845                       //   &lt;total length&gt; - (4 * &lt;option length&gt;) - 20 + X
2846                       //       where X = 0x0011 for UDP and 0x0006 for TCP
2847                       //
2848                       // Note lengths must be expressed in bytes.
2849                       //
2850                       always @(udp_frame or ip_totlength or ip_opt_length)
2851                       begin
2852       1/1               if (udp_frame)
2853                           begin
2854       1/1                    tcp_checksum_init = {1'b0, ip_totlength[15:0]} -
2855                                                  {7'd0, ip_opt_length,2'b00} -
2856                                                  17'h00003;
2857                           end
2858                         else
2859                           begin
2860       1/1                    tcp_checksum_init = {1'b0, ip_totlength[15:0]} -
2861                                                  {7'd0, ip_opt_length,2'b00} -
2862                                                  17'h0000e;
2863                           end
2864                       end
2865                    
2866                      // TCP Payload Length ...
2867                      assign tcp_payload_len      = {ip_totlength[15:0]} -
2868                                                    {6'd0, ip_opt_length,2'b00} -
2869                                                    {6'd0, tcp_offset,2'b00} -
2870                                                    16'h0014;
2871                    
2872                       // Validate the TCP/UDP header checksum on last data.
2873                       // Checksum is good if value is 0xFFFF or if UDP frame with zero checksum.
2874                       // The new value must be include the carry bit added to the LSB (one's
2875                       // complement addition). Normally this is added in the next cycle, so
2876                       // instead look for 0xFFFE if the carry is set.
2877                       assign tcp_udp_checksum_ok = (tcp_checksum_val_nxt[15:0] ==
2878                                                         {15'h7fff,~tcp_checksum_val_nxt[16]}) |
2879                                                    udp_checksum_zero | ~(udp_frame|tcp_frame);
2880                    
2881                    
2882                       // hold zero checksum udp ipv6 frame error until end of frame.
2883                       always@(posedge rx_clk or negedge n_rxreset)
2884                       begin
2885       1/1              if (~n_rxreset)
2886                          begin
2887       1/1                   zero_udp_csum_ipv6 &lt;= 1'b0;
2888                          end
2889       1/1              else if (~enable_receive_rck | ~rx_toe_enable | ~frame_being_decoded)
2890                          begin
2891       1/1                   zero_udp_csum_ipv6 &lt;= 1'b0;
2892                          end
2893       <font color = "red">0/1     ==>      else if (udp_checksum_zero_ipv6)</font>
2894                          begin
2895       <font color = "red">0/1     ==>           zero_udp_csum_ipv6 &lt;= 1'b1;</font>
2896                          end
2897                        else
2898                          begin
2899       <font color = "red">0/1     ==>           zero_udp_csum_ipv6 &lt;= zero_udp_csum_ipv6;</font>
2900                          end
2901                       end
2902                    
2903                       // hold checksum error until end of frame.
2904                       always@(posedge rx_clk or negedge n_rxreset)
2905                       begin
2906       1/1              if (~n_rxreset)
2907       1/1                tcp_udp_ck_err_det &lt;= 1'b0;
2908       1/1              else if (~enable_receive_rck | ~rx_toe_enable | ~frame_being_decoded)
2909       1/1                tcp_udp_ck_err_det &lt;= 1'b0;
2910       <font color = "red">0/1     ==>      else if (end_tcpudp_payload &amp; (~tcp_udp_checksum_ok | zero_udp_csum_ipv6))</font>
2911       <font color = "red">0/1     ==>        tcp_udp_ck_err_det &lt;= 1'b1;</font>
2912                        else
2913       <font color = "red">0/1     ==>        tcp_udp_ck_err_det &lt;= tcp_udp_ck_err_det;</font>
2914                       end
2915                    
2916                    
2917                       // Signal TCP/UDP checksum error if not OK or if the end of frame is reached
2918                       // before calculation is complete. gate with the IP ck error, as there is no
2919                       // point in incrementing the UDP/TCP checksum error stats if there was error
2920                       // was actually in the IP checksum
2921                       assign tcp_udp_ck_err = ((tcp_udp_ck_err_det |
2922                                                (end_of_frame &amp; tcp_udp_check)) &amp; ~ip_ck_err_det);
2923                    
2924                    
2925                    
2926                    
2927                       // IEEE 1588 stuff
2928                       // drive sof_rx
2929                       // assert at start of frame, de-assert at end of frame
2930                       always@(posedge rx_clk or negedge n_rxreset)
2931                       begin
2932       1/1              if (~n_rxreset)
2933                          begin
2934       1/1                   sof_rx &lt;= 1'b0;
2935       1/1                   sof_rx_tog &lt;= 1'b0;
2936                          end
2937       1/1              else if (~enable_receive_rck | ~frame_being_decoded)
2938                          begin
2939       1/1                   sof_rx &lt;= 1'b0;
2940       1/1                   sof_rx_tog &lt;= sof_rx_tog;
2941                          end
2942       1/1              else if (start_of_data)
2943                          begin
2944       1/1                   sof_rx &lt;= 1'b1;
2945       1/1                   sof_rx_tog &lt;= ~sof_rx_tog;
2946                          end
                        MISSING_ELSE
2947                       end
2948                    
2949                    
2950                       // want to match LSBs of IP address of 001, 010, 011 and 100
2951                       assign ip_lsb_ptp_dec =
2952                                           (~ext_ip_da_nxt[26] &amp; (ext_ip_da_nxt[25:24] != 2'b00)) |
2953                                           (ext_ip_da_nxt[26:24] == 3'b100);
2954                    
2955                       assign unicast_address ={rx_ptp_unicast[7:0], rx_ptp_unicast[15:8],
2956                                                rx_ptp_unicast[23:16], rx_ptp_unicast[31:24]};
2957                    
2958                       // drive en_ptp_count
2959                       always@(posedge rx_clk or negedge n_rxreset)
2960                       begin
2961       1/1              if (~n_rxreset)
2962                          begin
2963       1/1                   en_ptp_count    &lt;= 1'b0;
2964       1/1                   ptp_primary_set &lt;= 1'b0;
2965       1/1                   ptp_pdelay_set  &lt;= 1'b0;
2966                          end
2967                        // stop at end of frame or if destination port is not 013F or 0140
2968       1/1              else if (~enable_receive_rck | ~frame_being_decoded |
2969                                                (new_aligned_data &amp; (ptp_count == 5'b00010) &amp;
2970                                                    ~udp_event_frame &amp; ~udp_gener_frame))
2971                          begin
2972       1/1                   en_ptp_count    &lt;= 1'b0;
2973       1/1                   ptp_primary_set &lt;= 1'b0;
2974       1/1                   ptp_pdelay_set  &lt;= 1'b0;
2975                          end
2976                        // IPv4 unicast, start if UDP frame with correct unicast IP address
2977       1/1              else if (ptp_unicast_ena &amp; ext_ip_da_stb_nxt &amp; udp_frame &amp; ip_v4_frame &amp;
2978                                (ext_ip_da_nxt[31:0] == unicast_address))
2979                          begin
2980       <font color = "red">0/1     ==>           en_ptp_count    &lt;= 1'b1;</font>
2981       <font color = "red">0/1     ==>           ptp_primary_set &lt;= 1'b1;</font>
2982       <font color = "red">0/1     ==>           ptp_pdelay_set  &lt;= 1'b1;</font>
2983                          end
2984                        // IPv4 primary, start if UDP frame with correct multicast IP address
2985       1/1              else if (ext_ip_da_stb_nxt &amp; udp_frame &amp; ip_v4_frame &amp;
2986                           (ext_ip_da_nxt[23:0] == 24'h0100e0) &amp; (ext_ip_da_nxt[31:27] == 5'h10))
2987                          begin
2988       <font color = "red">0/1     ==>           en_ptp_count    &lt;= ip_lsb_ptp_dec;</font>
2989       <font color = "red">0/1     ==>           ptp_primary_set &lt;= ip_lsb_ptp_dec;</font>
2990                          end
2991                        // IPv4 peer, start if UDP frame with correct multicast IP address
2992       1/1              else if (ext_ip_da_stb_nxt &amp; udp_frame &amp; ip_v4_frame &amp;
2993                                (ext_ip_da_nxt[31:0] == 32'h6b0000e0))
2994                          begin
2995       <font color = "red">0/1     ==>           en_ptp_count    &lt;= 1'b1;</font>
2996       <font color = "red">0/1     ==>           ptp_pdelay_set  &lt;= 1'b1;</font>
2997                          end
2998                        // IPv6 primary, start if UDP frame with correct multicast IP address
2999       1/1              else if (ext_ip_da_stb_nxt &amp; udp_frame &amp; ip_v6_frame &amp;
3000                                ((ext_ip_da_nxt[127:12] == 116'h81010000000000000000000000000) &amp;
3001                                 (ext_ip_da_nxt[7:0] == 8'hff)))
3002                          begin
3003       <font color = "red">0/1     ==>           en_ptp_count    &lt;= 1'b1;</font>
3004       <font color = "red">0/1     ==>           ptp_primary_set &lt;= 1'b1;</font>
3005                          end
3006                        // IPv6 peer, start if UDP frame with correct multicast IP address
3007       1/1              else if (ext_ip_da_stb_nxt &amp; udp_frame &amp; ip_v6_frame &amp;
3008                                (ext_ip_da_nxt[127:0] == 128'h6b0000000000000000000000000002ff))
3009                          begin
3010       <font color = "red">0/1     ==>           en_ptp_count    &lt;= 1'b1;</font>
3011       <font color = "red">0/1     ==>           ptp_pdelay_set  &lt;= 1'b1;</font>
3012                          end
                        MISSING_ELSE
3013                       end
3014                    
3015                       // count through PTP frame when en_ptp_count is high
3016                       always@(posedge rx_clk or negedge n_rxreset)
3017                       begin
3018       1/1              if (~n_rxreset)
3019       1/1                ptp_count &lt;= 5'b00000;
3020       1/1              else if (~enable_receive_rck | ~frame_being_decoded)
3021       1/1                ptp_count &lt;= 5'b00000;
3022       1/1              else if (en_ptp_count &amp; new_aligned_data &amp; (ptp_count != 5'b11111))
3023       <font color = "red">0/1     ==>        ptp_count &lt;= ptp_count + 5'b00001;</font>
                        MISSING_ELSE
3024                       end
3025                    
3026                       // drive PTP signals
3027                       // de-assert at end of frame
3028                       // if ptp_count makes it to 5'b10100 check PTP event frame messageType
3029                       wire dat_8tod;
3030                       assign dat_8tod =  ((new_data_align[3:0] == 4'h8)
3031                                          |(new_data_align[3:0] == 4'h9)
3032                                          |(new_data_align[3:0] == 4'hb)
3033                                          |(new_data_align[3:0] == 4'hc)
3034                                          |(new_data_align[3:0] == 4'hd));
3035                    
3036                       always@(posedge rx_clk or negedge n_rxreset)
3037                       begin
3038       1/1              if (~n_rxreset)
3039                           begin
3040       1/1                    sync_frame_rx    &lt;= 1'b0;
3041       1/1                    delay_req_rx     &lt;= 1'b0;
3042       1/1                    pdelay_req_rx    &lt;= 1'b0;
3043       1/1                    pdelay_resp_rx   &lt;= 1'b0;
3044       1/1                    ptp_v1           &lt;= 1'b0;
3045       1/1                    general_frame_rx &lt;= 1'b0;
3046       1/1                    udp_event_frame  &lt;= 1'b0;
3047       1/1                    udp_gener_frame  &lt;= 1'b0;
3048                           end
3049       1/1              else if (~enable_receive_rck | ~frame_being_decoded)
3050                           begin
3051       1/1                    sync_frame_rx    &lt;= 1'b0;
3052       1/1                    delay_req_rx     &lt;= 1'b0;
3053       1/1                    pdelay_req_rx    &lt;= 1'b0;
3054       1/1                    pdelay_resp_rx   &lt;= 1'b0;
3055       1/1                    ptp_v1           &lt;= 1'b0;
3056       1/1                    general_frame_rx &lt;= 1'b0;
3057       1/1                    udp_event_frame  &lt;= 1'b0;
3058       1/1                    udp_gener_frame  &lt;= 1'b0;
3059                            end
3060                        // non-encapsulated PTP-frame
3061       1/1              else if (new_aligned_data &amp; ptp_frame &amp; ptp_primary_load)
3062                           begin
3063       <font color = "red">0/1     ==>            sync_frame_rx    &lt;= (new_data_align[3:0] == 4'h0);</font>
3064       <font color = "red">0/1     ==>            delay_req_rx     &lt;= (new_data_align[3:0] == 4'h1);</font>
3065       <font color = "red">0/1     ==>            general_frame_rx &lt;= dat_8tod;</font>
3066                           end
3067       1/1              else if (new_aligned_data &amp; ptp_frame &amp; ptp_pdelay_load)
3068                           begin
3069       <font color = "red">0/1     ==>            sync_frame_rx    &lt;= (new_data_align[3:0] == 4'h0);</font>
3070       <font color = "red">0/1     ==>            pdelay_req_rx    &lt;= (new_data_align[3:0] == 4'h2);</font>
3071       <font color = "red">0/1     ==>            pdelay_resp_rx   &lt;= (new_data_align[3:0] == 4'h3);</font>
3072       <font color = "red">0/1     ==>            general_frame_rx &lt;= (new_data_align[3:0] == 4'ha); // Peer general message</font>
3073                           end
3074                        // look at udp destination port to see if we have a PTP event frame
3075                        // or PTP general frame
3076       1/1              else if (new_aligned_data &amp; (ptp_count == 5'b00001))
3077                           begin
3078       <font color = "red">0/1     ==>            udp_event_frame &lt;= (new_data_align[15:0] == 16'h3F01);</font>
3079       <font color = "red">0/1     ==>            udp_gener_frame &lt;= (new_data_align[15:0] == 16'h4001);</font>
3080                           end
3081                        // PTP version 2 encapsulated in IPv4
3082                        // Note that Peer general Messages (i.e. Pdelay_Resp_Follow_Up) is decoded
3083                        // at a different multicast address from other General Messages
3084                        // depending on encapsulation.
3085                        // See IEEE 1588D2.2 Appendix D/E/F
3086       1/1              else if (new_aligned_data &amp; ip_v4_frame &amp; (ptp_count == 5'b00100))
3087                           begin
3088                              // unicast
3089       <font color = "red">0/1     ==>            if (ptp_unicast_ena &amp; ptp_primary_set &amp; ptp_pdelay_set &amp;</font>
3090                            //     (new_data_align[15:8] == 8'h02))
3091                                 (new_data_align[11:8] == 4'h2))
3092                                 begin
3093       <font color = "red">0/1     ==>                  sync_frame_rx    &lt;= (new_data_align[3:0] == 4'h0) &amp; udp_event_frame;</font>
3094       <font color = "red">0/1     ==>                  delay_req_rx     &lt;= (new_data_align[3:0] == 4'h1) &amp; udp_event_frame;</font>
3095       <font color = "red">0/1     ==>                  pdelay_req_rx    &lt;= (new_data_align[3:0] == 4'h2) &amp; udp_event_frame;</font>
3096       <font color = "red">0/1     ==>                  pdelay_resp_rx   &lt;= (new_data_align[3:0] == 4'h3) &amp; udp_event_frame;</font>
3097       <font color = "red">0/1     ==>                  general_frame_rx &lt;= dat_8tod &amp; udp_gener_frame;</font>
3098                                 end
3099                    //          else if (ptp_primary_set &amp; (ext_ip_da[31:24] == 8'h81) &amp; (new_data_align[15:8] == 8'h02))
3100       <font color = "red">0/1     ==>            else if (ptp_primary_set &amp; (ext_ip_da[31:24] == 8'h81) &amp; (new_data_align[11:8] == 4'h2))</font>
3101                                 begin
3102       <font color = "red">0/1     ==>                  sync_frame_rx    &lt;= (new_data_align[3:0] == 4'h0) &amp; udp_event_frame;</font>
3103       <font color = "red">0/1     ==>                  delay_req_rx     &lt;= (new_data_align[3:0] == 4'h1) &amp; udp_event_frame;</font>
3104       <font color = "red">0/1     ==>                  general_frame_rx &lt;= dat_8tod &amp; udp_gener_frame;</font>
3105                                 end
3106                        //      else if (ptp_primary_set &amp; (ip_lsb_ptp_dec) &amp; (new_data_align[15:8] == 8'h01))
3107       <font color = "red">0/1     ==>            else if (ptp_primary_set &amp; (ip_lsb_ptp_dec) &amp; (new_data_align[11:8] == 4'h1))</font>
3108                                 begin
3109       <font color = "red">0/1     ==>                  ptp_v1           &lt;= 1'b1;</font>
3110                                 end
3111       <font color = "red">0/1     ==>            else if (ptp_pdelay_set)</font>
3112                                 begin
3113       <font color = "red">0/1     ==>                  pdelay_req_rx    &lt;= (new_data_align[3:0] == 4'h2) &amp; udp_event_frame;</font>
3114       <font color = "red">0/1     ==>                  pdelay_resp_rx   &lt;= (new_data_align[3:0] == 4'h3) &amp; udp_event_frame;</font>
3115       <font color = "red">0/1     ==>                  general_frame_rx &lt;= (new_data_align[3:0] == 4'ha) &amp; udp_gener_frame; // Peer general message</font>
3116                                 end
                   <font color = "red">==>  MISSING_ELSE</font>
3117                            end
3118                        // PTP version 2 encapsulated in IPv6
3119       1/1              else if (new_aligned_data &amp; ip_v6_frame &amp; (ptp_count == 5'b00100))
3120                           begin
3121       <font color = "red">0/1     ==>            if (ptp_primary_set)</font>
3122                                 begin
3123       <font color = "red">0/1     ==>                  sync_frame_rx    &lt;= (new_data_align[3:0] == 4'h0) &amp; udp_event_frame;</font>
3124       <font color = "red">0/1     ==>                  delay_req_rx     &lt;= (new_data_align[3:0] == 4'h1) &amp; udp_event_frame;</font>
3125       <font color = "red">0/1     ==>                  general_frame_rx &lt;= dat_8tod &amp; udp_gener_frame;</font>
3126                                 end
3127                              else // if (ptp_pdelay_set) // This must be true, otherwise ptp_count wouldnt be incrementing ...
3128                                 begin
3129       <font color = "red">0/1     ==>                  pdelay_req_rx    &lt;= (new_data_align[3:0] == 4'h2) &amp; udp_event_frame;</font>
3130       <font color = "red">0/1     ==>                  pdelay_resp_rx   &lt;= (new_data_align[3:0] == 4'h3) &amp; udp_event_frame;</font>
3131       <font color = "red">0/1     ==>                  general_frame_rx &lt;= (new_data_align[3:0] == 4'ha) &amp; udp_gener_frame; // Peer general message</font>
3132                                 end
3133                           end
3134                        // PTP version 1 encapsulated in IPv4
3135       1/1              else if (new_aligned_data &amp; ip_v4_frame &amp; (ptp_count == 5'b10100))
3136                           begin
3137       <font color = "red">0/1     ==>            if (ptp_primary_set &amp; ptp_v1)</font>
3138                                 begin
3139       <font color = "red">0/1     ==>                  sync_frame_rx    &lt;= (new_data_align[3:0] == 4'h0) &amp; udp_event_frame;</font>
3140       <font color = "red">0/1     ==>                  delay_req_rx     &lt;= (new_data_align[3:0] == 4'h1) &amp; udp_event_frame;</font>
3141       <font color = "red">0/1     ==>                  general_frame_rx &lt;= ((new_data_align[3:0] == 4'h2)</font>
3142                                                        |(new_data_align[3:0] == 4'h3)
3143                                                        |(new_data_align[3:0] == 4'h4)) &amp; udp_gener_frame;
3144                                 end
                   <font color = "red">==>  MISSING_ELSE</font>
3145                            end
                        MISSING_ELSE
</pre>
<hr>
<a name="Cond"></a>
Cond Coverage for Module : <a href="mod1404.html" >gem_rx_decode</a><br clear=all>
<table class="noborder">
<col width="122">
<col span="3" width="82">
<tr><th></th><th>Total</th><th>Covered</th><th>Percent</th></tr>
<tr class="s2"><td class="lf">Conditions</td><td>5</td><td>1</td><td>20.00</td></tr>
<tr class="s2"><td class="lf">Logical</td><td>5</td><td>1</td><td>20.00</td></tr>
<tr class="wht"><td class="lf">Non-Logical</td><td>0</td><td>0</td><td></td></tr>
<tr class="wht"><td class="lf">Event</td><td>0</td><td>0</td><td></td></tr>
</table>
<br clear=all>
<pre class="code"> LINE       3150
 EXPRESSION ((rx_dec_state_nxt == CB_TAG_RSVD) || (rx_dec_state == CB_TAG_RSVD) || (rx_dec_state_nxt == CB_RTAG) || (rx_dec_state == CB_RTAG))
             ----------------1----------------    --------------2--------------    --------------3--------------    ------------4------------
</pre>
<table class="noborder">
<col span="4" width="40">
<tr><th>-1-</th><th>-2-</th><th>-3-</th><th>-4-</th><th>Status</th>                      </tr>
<tr class="uGreen"><td>0</td><td>0</td><td>0</td><td>0</td><td class="lf">Covered</td></tr>
<tr class="uRed"><td>0</td><td>0</td><td>0</td><td>1</td><td class="lf">Not Covered</td></tr>
<tr class="uRed"><td>0</td><td>0</td><td>1</td><td>0</td><td class="lf">Not Covered</td></tr>
<tr class="uRed"><td>0</td><td>1</td><td>0</td><td>0</td><td class="lf">Not Covered</td></tr>
<tr class="uRed"><td>1</td><td>0</td><td>0</td><td>0</td><td class="lf">Not Covered</td></tr>
</table>
<hr>
<a name="Toggle"></a>
Toggle Coverage for Module : <a href="mod1404.html" >gem_rx_decode</a><br clear=all>
<table align=left class="noborder">
<tr>
<th nowrap width=120></th><th nowrap width=80>Total</th><th nowrap width=80>Covered</th><th nowrap width=80>Percent</th></tr><tr class="s2">
<td>Totals</td>
<td class="rt">85</td>
<td class="rt">23</td>
<td class="rt">27.06 </td>
</tr><tr class="s2">
<td>Total Bits</td>
<td class="rt">1788</td>
<td class="rt">435</td>
<td class="rt">24.33 </td>
</tr><tr class="s2">
<td nowrap>Total Bits 0->1</td>
<td class="rt">894</td>
<td class="rt">215</td>
<td class="rt">24.05 </td>
</tr><tr class="s2">
<td nowrap>Total Bits 1->0</td>
<td class="rt">894</td>
<td class="rt">220</td>
<td class="rt">24.61 </td>
</tr></table><br clear=all>
<table align=left class="noborder">
<tr>
<th nowrap width=120></th><th nowrap width=80></th><th nowrap width=80></th><th nowrap width=80></th></tr><tr class="s2">
<td>Ports</td>
<td class="rt">85</td>
<td class="rt">23</td>
<td class="rt">27.06 </td>
</tr><tr class="s2">
<td>Port Bits</td>
<td class="rt">1788</td>
<td class="rt">435</td>
<td class="rt">24.33 </td>
</tr><tr class="s2">
<td nowrap>Port Bits 0->1</td>
<td class="rt">894</td>
<td class="rt">215</td>
<td class="rt">24.05 </td>
</tr><tr class="s2">
<td nowrap>Port Bits 1->0</td>
<td class="rt">894</td>
<td class="rt">220</td>
<td class="rt">24.61 </td>
</tr></table><br clear=all>
<table align=left class="sortable noborder">
<caption><b>Port Details</b></caption>
<tr class="sortablehead">
<td class="alfsrt">Name</td><td class="alfsrt">Toggle</td><td class="alfsrt">Toggle 1->0</td><td class="alfsrt">Toggle 0->1</td><td class="alfsrt">Direction</td></tr><tr>
<td>n_rxreset</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s9 cl">Yes</td>
<td>INPUT</td>
</tr><tr>
<td>rx_clk</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>INPUT</td>
</tr><tr>
<td>enable_receive_rck</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s9 cl">Yes</td>
<td>INPUT</td>
</tr><tr>
<td>pause_enable_rck</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>INPUT</td>
</tr><tr>
<td>rx_toe_enable</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>INPUT</td>
</tr><tr>
<td>frer_6b_tag</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>INPUT</td>
</tr><tr>
<td>frame_being_decoded</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>INPUT</td>
</tr><tr>
<td>end_of_frame</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>INPUT</td>
</tr><tr>
<td>pause_add_match</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>INPUT</td>
</tr><tr>
<td>start_of_data</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>INPUT</td>
</tr><tr>
<td>new_aligned_data</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>INPUT</td>
</tr><tr>
<td>new_data_align[15:0]</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>INPUT</td>
</tr><tr>
<td>new_data_align[23:16]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>INPUT</td>
</tr><tr>
<td>rx_no_pause_frames</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>INPUT</td>
</tr><tr>
<td>ext_da[47:0]</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_da_stb</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_sa[47:0]</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_sa_stb</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_type[15:0]</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_type_stb</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_ip_sa[0]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_ip_sa[4:1]</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_ip_sa[6:5]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_ip_sa[7]</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_ip_sa[9:8]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_ip_sa[11:10]</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_ip_sa[14:12]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_ip_sa[15]</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_ip_sa[20:16]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_ip_sa[23:21]</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_ip_sa[25:24]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_ip_sa[31:26]</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_ip_sa[127:32]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_ip_sa_stb</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_ip_da[4:0]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_ip_da[7:5]</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_ip_da[24:8]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_ip_da[25]</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_ip_da[127:26]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_ip_da_stb</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_source_port[0]</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_source_port[5:1]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_source_port[10:6]</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_source_port[15:11]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_sp_stb</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_dest_port[0]</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_dest_port[5:1]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_dest_port[10:6]</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_dest_port[15:11]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_dp_stb</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_ipv6</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>drop_pause_frame</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>stacked_vlantype[16:0]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>INPUT</td>
</tr><tr>
<td>ext_vlan_tag1[0]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_vlan_tag1[1]</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_vlan_tag1[23:2]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_vlan_tag1[24]</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_vlan_tag1[30:25]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_vlan_tag1[31]</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_vlan_tag1_stb</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_vlan_tag2[31:0]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_vlan_tag2_stb</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>ext_has_2vlans</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>frer_rtag_ethertype[15:0]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>INPUT</td>
</tr><tr>
<td>frer_rtag_mark_early</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>sof_rx</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>OUTPUT</td>
</tr><tr>
<td>sof_rx_tog</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s9 cl">Yes</td>
<td>OUTPUT</td>
</tr><tr>
<td>sync_frame_rx</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>delay_req_rx</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>pdelay_req_rx</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>pdelay_resp_rx</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>general_frame_rx</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>ptp_unicast_ena</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>INPUT</td>
</tr><tr>
<td>rx_ptp_unicast[31:0]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>INPUT</td>
</tr><tr>
<td>length_field[15:0]</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>OUTPUT</td>
</tr><tr>
<td>vlan_tagged</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>OUTPUT</td>
</tr><tr>
<td>priority_tagged</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>tci[3:0]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>pause_frame</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>pause_time[15:0]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>snap_frame</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>ip_v4_frame</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>OUTPUT</td>
</tr><tr>
<td>ip_v6_frame</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>arp_frame</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>tcp_frame</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>udp_frame</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>OUTPUT</td>
</tr><tr>
<td>ip_ck_err</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>tcp_udp_ck_err</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>index_cnt_sof[6:0]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>index_cnt_type[6:0]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>index_cnt_l3[6:0]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>index_cnt_l4[6:0]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>udptcp_offset[3:0]</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>OUTPUT</td>
</tr><tr>
<td>udptcp_offset[4]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s9 cl">Yes</td>
<td>OUTPUT</td>
</tr><tr>
<td>udptcp_offset[10:5]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>pld_offset[0]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>pld_offset[4:1]</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>OUTPUT</td>
</tr><tr>
<td>pld_offset[5]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s9 cl">Yes</td>
<td>OUTPUT</td>
</tr><tr>
<td>pld_offset[15:6]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>pld_offset_vld</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>OUTPUT</td>
</tr><tr>
<td>ip_v4_tos[5:0]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>ip_v4_tos[7:6]</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td>OUTPUT</td>
</tr><tr>
<td>ip_v6_tc[7:0]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>rsc_stop</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>rsc_push</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>tcp_seqnum[31:0]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>tcp_syn</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>tcp_payload_len[3:0]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>tcp_payload_len[4]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s9 cl">Yes</td>
<td>OUTPUT</td>
</tr><tr>
<td>tcp_payload_len[15:5]</td>
<td class="s3 cl">No</td>
<td class="s9 cl">Yes</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>pfc_enable_rck</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>INPUT</td>
</tr><tr>
<td>pfc_pause_frame</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>pfc_pause_time0[15:0]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>pfc_pause_time1[15:0]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>pfc_pause_time2[15:0]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>pfc_pause_time3[15:0]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>pfc_pause_time4[15:0]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>pfc_pause_time5[15:0]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>pfc_pause_time6[15:0]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>pfc_pause_time7[15:0]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr><tr>
<td>priority_enable[7:0]</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td class="s3 cl">No</td>
<td>OUTPUT</td>
</tr></table><br clear=all>
<hr>
<a name="FSM"></a>
FSM Coverage for Module : <a href="mod1404.html" >gem_rx_decode</a><br clear=all>
<table align=left class="noborder">
<caption><b>Summary for FSM :: rx_dec_state</b></caption>
<tr>
<th nowrap width=120></th><th nowrap width=80>Total</th><th nowrap width=80>Covered</th><th nowrap width=80>Percent</th><th nowrap width=200></th></tr><tr class="wht">
<td>States</td>
<td class="rt">37</td>
<td class="rt">22</td>
<td class="rt">59.46 </td>
<td>(Not included in score)</td>
</tr><tr class="s2">
<td>Transitions</td>
<td class="rt">90</td>
<td class="rt">25</td>
<td class="rt">27.78 </td>
<td></td>
</tr><tr class="wht">
<td>Sequences</td>
<td class="rt">0</td>
<td class="rt">0</td>
<td></td>
<td></td>
</tr></table><br clear=all>
<b>State, Transition and Sequence Details for FSM :: rx_dec_state</b><hr>
<table align=left class="sortable noborder">
<tr class="sortablehead">
<td class="alfsrt">states</td><td>Line No.</td><td class="alfsrt">Covered</td></tr><tr class="uRed">
<td nowrap>CB_RTAG</td>
<td class="rt">1334</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>CB_TAG_RSVD</td>
<td class="rt">1336</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>PPPoE1</td>
<td class="rt">1325</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>PPPoE2</td>
<td class="rt">1531</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>PPPoE3</td>
<td class="rt">1546</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>PPPoE4</td>
<td class="rt">1561</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_CKSUM</td>
<td class="rt">2048</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_DA1</td>
<td class="rt">1137</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_DA2</td>
<td class="rt">1132</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_DA3</td>
<td class="rt">1147</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_IDLE</td>
<td class="rt">621</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_IP1</td>
<td class="rt">1281</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_IP10</td>
<td class="rt">2029</td>
<td>Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_IP11</td>
<td class="rt">2070</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_IP2</td>
<td class="rt">1867</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_IP3</td>
<td class="rt">1893</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_IP4</td>
<td class="rt">1907</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_IP5</td>
<td class="rt">1925</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_IP6</td>
<td class="rt">1950</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_IP7</td>
<td class="rt">1983</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_IP8</td>
<td class="rt">1998</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_IP9</td>
<td class="rt">2014</td>
<td>Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_IPv6_1</td>
<td class="rt">1290</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_IPv6_2</td>
<td class="rt">2401</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_PAUSE1</td>
<td class="rt">1258</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_PAUSE2</td>
<td class="rt">1609</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_PTP1</td>
<td class="rt">1306</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_SA1</td>
<td class="rt">1162</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_SA2</td>
<td class="rt">1176</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_SA3</td>
<td class="rt">1190</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_SNAP1</td>
<td class="rt">1298</td>
<td>Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_SNAP2</td>
<td class="rt">1748</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_SNAP3</td>
<td class="rt">1773</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_SNAP4</td>
<td class="rt">1799</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_TYPE</td>
<td class="rt">1205</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_VLAN1</td>
<td class="rt">1244</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_VLAN2</td>
<td class="rt">1368</td>
<td>Covered</td>
</tr></table><br clear=all>
<br clear=all>
<table align=left class="sortable noborder">
<tr class="sortablehead">
<td class="alfsrt">transitions</td><td>Line No.</td><td class="alfsrt">Covered</td></tr><tr class="uRed">
<td nowrap>CB_RTAG->RX_DEC_IDLE</td>
<td class="rt">621</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>CB_RTAG->RX_DEC_TYPE</td>
<td class="rt">1370</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>CB_RTAG->RX_DEC_VLAN2</td>
<td class="rt">1368</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>CB_TAG_RSVD->CB_RTAG</td>
<td class="rt">1357</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>CB_TAG_RSVD->RX_DEC_IDLE</td>
<td class="rt">621</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>PPPoE1->PPPoE2</td>
<td class="rt">1531</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>PPPoE1->RX_DEC_IDLE</td>
<td class="rt">621</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>PPPoE2->PPPoE3</td>
<td class="rt">1546</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>PPPoE2->RX_DEC_IDLE</td>
<td class="rt">621</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>PPPoE3->PPPoE4</td>
<td class="rt">1561</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>PPPoE3->RX_DEC_IDLE</td>
<td class="rt">621</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>PPPoE4->RX_DEC_IDLE</td>
<td class="rt">621</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>PPPoE4->RX_DEC_IP1</td>
<td class="rt">1580</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>PPPoE4->RX_DEC_IPv6_1</td>
<td class="rt">1587</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_CKSUM->RX_DEC_IDLE</td>
<td class="rt">621</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_DA1->RX_DEC_DA2</td>
<td class="rt">1132</td>
<td>Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_DA1->RX_DEC_IDLE</td>
<td class="rt">621</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_DA2->RX_DEC_DA3</td>
<td class="rt">1147</td>
<td>Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_DA2->RX_DEC_IDLE</td>
<td class="rt">621</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_DA3->RX_DEC_IDLE</td>
<td class="rt">621</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_DA3->RX_DEC_SA1</td>
<td class="rt">1162</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_IDLE->RX_DEC_DA1</td>
<td class="rt">2539</td>
<td>Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_IP1->RX_DEC_IDLE</td>
<td class="rt">621</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_IP1->RX_DEC_IP2</td>
<td class="rt">1867</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_IP10->RX_DEC_CKSUM</td>
<td class="rt">2048</td>
<td>Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_IP10->RX_DEC_IDLE</td>
<td class="rt">621</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_IP10->RX_DEC_IP11</td>
<td class="rt">2070</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_IP11->RX_DEC_CKSUM</td>
<td class="rt">2090</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_IP11->RX_DEC_IDLE</td>
<td class="rt">621</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_IP2->RX_DEC_IDLE</td>
<td class="rt">621</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_IP2->RX_DEC_IP3</td>
<td class="rt">1893</td>
<td>Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_IP3->RX_DEC_IDLE</td>
<td class="rt">621</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_IP3->RX_DEC_IP4</td>
<td class="rt">1907</td>
<td>Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_IP4->RX_DEC_IDLE</td>
<td class="rt">621</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_IP4->RX_DEC_IP5</td>
<td class="rt">1925</td>
<td>Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_IP5->RX_DEC_IDLE</td>
<td class="rt">621</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_IP5->RX_DEC_IP6</td>
<td class="rt">1950</td>
<td>Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_IP6->RX_DEC_IDLE</td>
<td class="rt">621</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_IP6->RX_DEC_IP7</td>
<td class="rt">1983</td>
<td>Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_IP7->RX_DEC_IDLE</td>
<td class="rt">621</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_IP7->RX_DEC_IP8</td>
<td class="rt">1998</td>
<td>Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_IP8->RX_DEC_IDLE</td>
<td class="rt">621</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_IP8->RX_DEC_IP9</td>
<td class="rt">2014</td>
<td>Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_IP9->RX_DEC_IDLE</td>
<td class="rt">621</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_IP9->RX_DEC_IP10</td>
<td class="rt">2029</td>
<td>Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_IPv6_1->RX_DEC_CKSUM</td>
<td class="rt">2405</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_IPv6_1->RX_DEC_IDLE</td>
<td class="rt">621</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_IPv6_1->RX_DEC_IPv6_2</td>
<td class="rt">2401</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_IPv6_2->RX_DEC_CKSUM</td>
<td class="rt">2514</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_IPv6_2->RX_DEC_IDLE</td>
<td class="rt">621</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_PAUSE1->RX_DEC_IDLE</td>
<td class="rt">621</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_PAUSE1->RX_DEC_PAUSE2</td>
<td class="rt">1609</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_PAUSE2->RX_DEC_IDLE</td>
<td class="rt">621</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_PTP1->RX_DEC_IDLE</td>
<td class="rt">621</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_SA1->RX_DEC_IDLE</td>
<td class="rt">621</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_SA1->RX_DEC_SA2</td>
<td class="rt">1176</td>
<td>Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_SA2->RX_DEC_IDLE</td>
<td class="rt">621</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_SA2->RX_DEC_SA3</td>
<td class="rt">1190</td>
<td>Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_SA3->RX_DEC_IDLE</td>
<td class="rt">621</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_SA3->RX_DEC_TYPE</td>
<td class="rt">1205</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_SNAP1->RX_DEC_IDLE</td>
<td class="rt">621</td>
<td>Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_SNAP1->RX_DEC_SNAP2</td>
<td class="rt">1748</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_SNAP2->RX_DEC_IDLE</td>
<td class="rt">621</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_SNAP2->RX_DEC_SNAP3</td>
<td class="rt">1773</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_SNAP3->RX_DEC_IDLE</td>
<td class="rt">621</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_SNAP3->RX_DEC_SNAP4</td>
<td class="rt">1799</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_SNAP4->RX_DEC_IDLE</td>
<td class="rt">621</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_SNAP4->RX_DEC_IP1</td>
<td class="rt">1831</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_SNAP4->RX_DEC_IPv6_1</td>
<td class="rt">1838</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_TYPE->CB_RTAG</td>
<td class="rt">1334</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_TYPE->CB_TAG_RSVD</td>
<td class="rt">1336</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_TYPE->PPPoE1</td>
<td class="rt">1325</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_TYPE->RX_DEC_IDLE</td>
<td class="rt">621</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_TYPE->RX_DEC_IP1</td>
<td class="rt">1281</td>
<td>Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_TYPE->RX_DEC_IPv6_1</td>
<td class="rt">1290</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_TYPE->RX_DEC_PAUSE1</td>
<td class="rt">1258</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_TYPE->RX_DEC_PTP1</td>
<td class="rt">1306</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_TYPE->RX_DEC_SNAP1</td>
<td class="rt">1298</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_TYPE->RX_DEC_VLAN1</td>
<td class="rt">1244</td>
<td>Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_VLAN1->RX_DEC_IDLE</td>
<td class="rt">621</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_VLAN1->RX_DEC_VLAN2</td>
<td class="rt">1391</td>
<td>Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_VLAN2->CB_RTAG</td>
<td class="rt">1505</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_VLAN2->CB_TAG_RSVD</td>
<td class="rt">1507</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_VLAN2->PPPoE1</td>
<td class="rt">1496</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_VLAN2->RX_DEC_IDLE</td>
<td class="rt">621</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_VLAN2->RX_DEC_IP1</td>
<td class="rt">1441</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_VLAN2->RX_DEC_IPv6_1</td>
<td class="rt">1450</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_VLAN2->RX_DEC_PTP1</td>
<td class="rt">1477</td>
<td>Not&nbsp;Covered</td>
</tr><tr class="uGreen">
<td nowrap>RX_DEC_VLAN2->RX_DEC_SNAP1</td>
<td class="rt">1468</td>
<td>Covered</td>
</tr><tr class="uRed">
<td nowrap>RX_DEC_VLAN2->RX_DEC_VLAN1</td>
<td class="rt">1431</td>
<td>Not&nbsp;Covered</td>
</tr></table><br clear=all>
<br clear=all>
<hr>
<a name="Branch"></a>
Branch Coverage for Module : <a href="mod1404.html" >gem_rx_decode</a><br clear=all>
<table align=left class="noborder">
<tr>
<th nowrap width=120></th><th nowrap width=80>Line No.</th><th nowrap width=80>Total</th><th nowrap width=80>Covered</th><th nowrap width=80>Percent</th></tr><tr class="s3">
<td>Branches</td>
<td></td>
<td class="rt">267</td>
<td class="rt">104</td>
<td class="rt">38.95 </td>
</tr><tr class="s8">
<td>IF</td>
<td class="rt">619</td>
<td class="rt">15</td>
<td class="rt">13</td>
<td class="rt">86.67 </td>
</tr><tr class="s2">
<td>CASE</td>
<td class="rt">1083</td>
<td class="rt">173</td>
<td class="rt">51</td>
<td class="rt">29.48 </td>
</tr><tr class="s6">
<td>IF</td>
<td class="rt">2556</td>
<td class="rt">3</td>
<td class="rt">2</td>
<td class="rt">66.67 </td>
</tr><tr class="s10">
<td>IF</td>
<td class="rt">2568</td>
<td class="rt">4</td>
<td class="rt">4</td>
<td class="rt">100.00</td>
</tr><tr class="s6">
<td>IF</td>
<td class="rt">2587</td>
<td class="rt">3</td>
<td class="rt">2</td>
<td class="rt">66.67 </td>
</tr><tr class="s3">
<td>IF</td>
<td class="rt">2601</td>
<td class="rt">6</td>
<td class="rt">2</td>
<td class="rt">33.33 </td>
</tr><tr class="s5">
<td>IF</td>
<td class="rt">2639</td>
<td class="rt">4</td>
<td class="rt">2</td>
<td class="rt">50.00 </td>
</tr><tr class="s5">
<td>IF</td>
<td class="rt">2680</td>
<td class="rt">4</td>
<td class="rt">2</td>
<td class="rt">50.00 </td>
</tr><tr class="s10">
<td>IF</td>
<td class="rt">2702</td>
<td class="rt">4</td>
<td class="rt">4</td>
<td class="rt">100.00</td>
</tr><tr class="s2">
<td>IF</td>
<td class="rt">2757</td>
<td class="rt">8</td>
<td class="rt">2</td>
<td class="rt">25.00 </td>
</tr><tr class="s5">
<td>IF</td>
<td class="rt">2827</td>
<td class="rt">2</td>
<td class="rt">1</td>
<td class="rt">50.00 </td>
</tr><tr class="s10">
<td>IF</td>
<td class="rt">2852</td>
<td class="rt">2</td>
<td class="rt">2</td>
<td class="rt">100.00</td>
</tr><tr class="s5">
<td>IF</td>
<td class="rt">2885</td>
<td class="rt">4</td>
<td class="rt">2</td>
<td class="rt">50.00 </td>
</tr><tr class="s5">
<td>IF</td>
<td class="rt">2906</td>
<td class="rt">4</td>
<td class="rt">2</td>
<td class="rt">50.00 </td>
</tr><tr class="s10">
<td>IF</td>
<td class="rt">2932</td>
<td class="rt">4</td>
<td class="rt">4</td>
<td class="rt">100.00</td>
</tr><tr class="s3">
<td>IF</td>
<td class="rt">2961</td>
<td class="rt">8</td>
<td class="rt">3</td>
<td class="rt">37.50 </td>
</tr><tr class="s7">
<td>IF</td>
<td class="rt">3018</td>
<td class="rt">4</td>
<td class="rt">3</td>
<td class="rt">75.00 </td>
</tr><tr class="s2">
<td>IF</td>
<td class="rt">3038</td>
<td class="rt">15</td>
<td class="rt">3</td>
<td class="rt">20.00 </td>
</tr></table><br clear=all>
<pre class="code"><br clear=all>
619              if (~n_rxreset)
                 <font color = "green">-1-</font>  
620                 begin
621                    rx_dec_state    <= RX_DEC_IDLE;
           <font color = "green">            ==></font>
622                    ext_da          <= 48'd0;
623                    ext_da_stb      <= 1'b0;
624                    ext_sa          <= 48'd0;
625                    ext_sa_stb      <= 1'b0;
626                    ext_type        <= 16'h0000;
627                    ext_type_stb    <= 1'b0;
628                    ext_ip_sa       <= 128'h00000000000000000000000000000000;
629                    ext_ip_sa_stb   <= 1'b0;
630                    ext_ip_da       <= 128'h00000000000000000000000000000000;
631                    ext_ip_da_stb   <= 1'b0;
632                    ext_source_port <= 16'h0000;
633                    ext_sp_stb      <= 1'b0;
634                    ext_dest_port   <= 16'h0000;
635                    ext_dp_stb      <= 1'b0;
636                    ext_ipv6        <= 1'b0;
637                    drop_pause_frame<= 1'b0;
638                    length_field    <= 16'hffff;
639                    vlan_tagged     <= 1'b0;
640                    tci             <= 4'h0;
641                    priority_tagged <= 1'b0;
642                    pause_frame     <= 1'b0;
643                    pause_time      <= 16'h0000;
644                    pfc_pause_time0 <= 16'h0000;
645                    pfc_pause_time1 <= 16'h0000;
646                    pfc_pause_time2 <= 16'h0000;
647                    pfc_pause_time3 <= 16'h0000;
648                    pfc_pause_time4 <= 16'h0000;
649                    pfc_pause_time5 <= 16'h0000;
650                    pfc_pause_time6 <= 16'h0000;
651                    pfc_pause_time7 <= 16'h0000;
652                    pfc_pause_frame <= 1'b0;
653                    pfc_decoded     <= 1'b0;
654                    pause2_cnt      <= 4'h0;
655                    priority_enable <= 8'h00;
656                    snap_frame      <= 1'b0;
657                    ip_opt_length   <= 8'h00;
658                    ip_totlength    <= 16'h0000;
659                    ip_v4_frame     <= 1'b0;
660                    arp_frame       <= 1'b0;
661                    tcp_frame       <= 1'b0;
662                    udp_frame       <= 1'b0;
663                    ptp_frame       <= 1'b0;
664                    ip_check        <= 1'b0;
665                    tcp_udp_check   <= 1'b0;
666                    no_tcp_udp_ck   <= 1'b0;
667                    ip_v4_tos       <= 8'h00;
668                    ip_v6_tc        <= 8'h00;
669                    // Stacked VLAN tag support
670                    second_vlan       <= 1'b0;
671                    ext_vlan_tag1     <= 32'h0000_0000;
672                    ext_vlan_tag2     <= 32'h0000_0000;
673                    ext_vlan_tag1_stb <= 1'b0;
674                    ext_vlan_tag2_stb <= 1'b0;
675                    ip_v6_frame     <= 1'b0;
676                    store_tcp_csum  <= 1'b0;
677                    ipv6_ext_hdr    <= 1'b0;
678                    cur_hdr_is_frag <= 1'b0;
679                    nxt_hdr_is_frag <= 1'b0;
680                    cur_hdr_is_route<= 1'b0;
681                    nxt_hdr_is_route<= 1'b0;
682                    ptp_primary_load<= 1'b0;
683                    ptp_pdelay_load <= 1'b0;
684                    udptcp_offset   <= 11'h000;
685                    pld_offset      <= 16'd0;
686                    in_payload      <= 1'b0;
687                    pld_offset_vld  <= 1'b0;
688                    tcp_offset      <= 4'h0;
689        //            frer_rtag_seqnum<= 16'h0000;
690        //            frer_rtag_seqnum_stb  <= 1'b0;
691                 end
692              else if (~enable_receive_rck | ~frame_being_decoded)
                      <font color = "green">-2-</font>  
693                 begin
694                    rx_dec_state    <= RX_DEC_IDLE;
695                    ext_da          <= 48'd0;
696                    ext_da_stb      <= 1'b0;
697                    ext_sa          <= 48'd0;
698                    ext_sa_stb      <= 1'b0;
699                    ext_type        <= 16'h0000;
700                    ext_type_stb    <= 1'b0;
701                    ext_ip_sa       <= 128'h00000000000000000000000000000000;
702                    ext_ip_sa_stb   <= 1'b0;
703                    ext_ip_da       <= 128'h00000000000000000000000000000000;
704                    ext_ip_da_stb   <= 1'b0;
705                    ext_sp_stb      <= 1'b0;
706                    ext_source_port <= 16'h0000;
707                    ext_dest_port   <= 16'h0000;
708                    ext_dp_stb      <= 1'b0;
709                    ext_ipv6        <= 1'b0;
710                    drop_pause_frame<= 1'b0;
711                    length_field    <= 16'hffff;
712                    vlan_tagged     <= 1'b0;
713                    tci             <= 4'h0;
714                    priority_tagged <= 1'b0;
715                    pause_frame     <= 1'b0;
716                    pause_time      <= 16'h0000;
717                    pfc_pause_frame <= 1'b0;
718                    pfc_decoded     <= 1'b0;
719                    pause2_cnt      <= 4'h0;
720                    snap_frame      <= 1'b0;
721                    ip_v4_frame     <= 1'b0;
722                    arp_frame       <= 1'b0;
723                    tcp_frame       <= 1'b0;
724                    udp_frame       <= 1'b0;
725                    ptp_frame       <= 1'b0;
726                    ip_check        <= 1'b0;
727                    tcp_udp_check   <= 1'b0;
728                    no_tcp_udp_ck   <= 1'b0;
729                    ip_v4_tos       <= 8'h00;
730                    ip_v6_tc        <= 8'h00;
731                    in_payload      <= 1'b0;
732                    // Stacked VLAN tag support
733                    second_vlan       <= 1'b0;
734                    ext_vlan_tag1     <= 32'h0000_0000;
735                    ext_vlan_tag2     <= 32'h0000_0000;
736                    ext_vlan_tag1_stb <= 1'b0;
737                    ext_vlan_tag2_stb <= 1'b0;
738                    ip_v6_frame     <= 1'b0;
739                    store_tcp_csum  <= 1'b0;
740                    ipv6_ext_hdr    <= 1'b0;
741                    nxt_hdr_is_frag <= 1'b0;
742                    cur_hdr_is_frag <= 1'b0;
743                    cur_hdr_is_route<= 1'b0;
744                    nxt_hdr_is_route<= 1'b0;
745                    ptp_primary_load<= 1'b0;
746                    ptp_pdelay_load <= 1'b0;
747                    pld_offset_vld  <= 1'b0;
748        //            frer_rtag_seqnum_stb  <= 1'b0;
749                    if (~enable_receive_rck)
                       <font color = "green">-3-</font>  
750                    begin
751                      pfc_pause_time0 <= 16'h0000;
           <font color = "green">              ==></font>
752                      pfc_pause_time1 <= 16'h0000;
753                      pfc_pause_time2 <= 16'h0000;
754                      pfc_pause_time3 <= 16'h0000;
755                      pfc_pause_time4 <= 16'h0000;
756                      pfc_pause_time5 <= 16'h0000;
757                      pfc_pause_time6 <= 16'h0000;
758                      pfc_pause_time7 <= 16'h0000;
759                      priority_enable <= 8'h00;
760                      ip_opt_length   <= 8'h00;
761                      ip_totlength    <= 16'h0000;
762                      udptcp_offset   <= 11'h000;
763                      pld_offset      <= 16'h0000;
764                      tcp_offset      <= 4'h0;
765        //              frer_rtag_seqnum<= 16'h0000;
766                    end
                       MISSING_ELSE
           <font color = "green">            ==></font>
767                 end
768              else
769                 begin
770                    rx_dec_state    <= rx_dec_state_nxt;
771                    ext_da          <= ext_da_nxt;
772                    ext_da_stb      <= ext_da_stb_nxt;
773                    ext_sa          <= ext_sa_nxt;
774                    ext_sa_stb      <= ext_sa_stb_nxt;
775                    ext_type        <= ext_type_nxt;
776                    ext_type_stb    <= ext_type_stb_nxt;
777                    ext_ip_sa       <= ext_ip_sa_nxt;
778                    ext_ip_sa_stb   <= ext_ip_sa_stb_nxt;
779                    ext_ip_da       <= ext_ip_da_nxt;
780                    ext_ip_da_stb   <= ext_ip_da_stb_nxt;
781                    ext_sp_stb      <= ext_sp_stb_nxt;
782                    ext_dp_stb      <= ext_dp_stb_nxt;
783                    ext_source_port <= ext_source_port_nxt;
784                    ext_dest_port   <= ext_dest_port_nxt;
785                    ext_ipv6        <= ext_ipv6_nxt;
786                    drop_pause_frame<= drop_pause_frame_nxt;
787                    length_field    <= length_field_nxt;
788                    vlan_tagged     <= vlan_tagged_nxt;
789                    tci             <= tci_nxt;
790                    priority_tagged <= priority_tag_nxt;
791                    pause_frame     <= pause_frame_nxt;
792                    pause_time      <= pause_time_nxt;
793                    pfc_pause_time0 <= pfc_pause_time0_nxt;
794                    pfc_pause_time1 <= pfc_pause_time1_nxt;
795                    pfc_pause_time2 <= pfc_pause_time2_nxt;
796                    pfc_pause_time3 <= pfc_pause_time3_nxt;
797                    pfc_pause_time4 <= pfc_pause_time4_nxt;
798                    pfc_pause_time5 <= pfc_pause_time5_nxt;
799                    pfc_pause_time6 <= pfc_pause_time6_nxt;
800                    pfc_pause_time7 <= pfc_pause_time7_nxt;
801                    pfc_pause_frame <= pfc_pause_frame_nxt;
802                    pfc_decoded     <= pfc_decoded_nxt;
803                    pause2_cnt      <= pause2_cnt_nxt;
804                    priority_enable <= priority_enable_nxt;
805                    snap_frame      <= snap_frame_nxt;
806                    ip_opt_length   <= ip_opt_length_nxt;
807                    ip_totlength    <= ip_totlength_nxt;
808                    ip_v4_frame     <= ip_v4_frame_nxt;
809                    arp_frame       <= arp_frame_nxt;
810                    tcp_frame       <= tcp_frame_nxt;
811                    udp_frame       <= udp_frame_nxt;
812                    ptp_frame       <= ptp_frame_nxt;
813                    ip_check        <= ip_check_nxt;
814                    tcp_udp_check   <= tcp_udp_check_nxt;
815                    in_payload      <= in_payload_nxt;
816                    no_tcp_udp_ck   <= no_tcp_udp_ck_nxt;
817                    // Stacked VLAN tag support
818                    second_vlan     <= second_vlan_nxt;
819                    ext_vlan_tag1   <= ext_vlan_tag1_nxt;
820                    ext_vlan_tag2   <= ext_vlan_tag2_nxt;
821                    ext_vlan_tag1_stb <= ext_vlan_tag1_stb_nxt;
822                    ext_vlan_tag2_stb <= ext_vlan_tag2_stb_nxt;
823                    ip_v6_frame     <= ip_v6_frame_nxt;
824                    store_tcp_csum  <= store_tcp_csum_nxt;
825                    ipv6_ext_hdr    <= ipv6_ext_hdr_nxt;
826                    nxt_hdr_is_frag <= nxt_hdr_is_frag_nxt;
827                    nxt_hdr_is_route<= nxt_hdr_is_route_nxt;
828                    ip_v4_tos       <= ip_v4_tos_nxt;
829                    ip_v6_tc        <= ip_v6_tc_nxt;
830                    tcp_offset      <= tcp_offset_nxt;
831        //            frer_rtag_seqnum<= frer_rtag_seqnum_nxt;
832        //            frer_rtag_seqnum_stb  <= frer_rtag_seqnum_stb_nxt;
833                    if ((((rx_dec_state == RX_DEC_IPv6_1) & state_count == 11'h013)
                       <font color = "red">-4-</font>  
834                        |
835                          ((rx_dec_state == RX_DEC_IPv6_2) &
836                            (state_count == ({1'b0,ip_opt_length,2'b00} + 11'd3))))
837                        & new_aligned_data)
838                       begin
839                          cur_hdr_is_frag  <= nxt_hdr_is_frag;
           <font color = "red">                  ==></font>
840                          cur_hdr_is_route <= nxt_hdr_is_route;
841                       end
                          MISSING_ELSE
           <font color = "green">               ==></font>
842                    ptp_primary_load<= ptp_primary_nxt;
843                    ptp_pdelay_load <= ptp_pdelay_nxt;
844        
845                    if (start_of_data)
                       <font color = "green">-5-</font>  
846                    begin
847                      pld_offset    <= 16'd14;
           <font color = "green">              ==></font>
848                      udptcp_offset <= 11'h000;
849                    end
850                    else if (~in_payload & new_aligned_data)
                            <font color = "green">-6-</font>  
851                    begin
852                      if (last_vlan_hdr)
                         <font color = "green">-7-</font>  
853                        pld_offset    <= pld_offset_p4[15:0];
           <font color = "green">                ==></font>
854                      else if (last_snap_hdr)
                              <font color = "red">-8-</font>  
855                        pld_offset    <= pld_offset_p8[15:0];
           <font color = "red">                ==></font>
856                      else if (in_other_hdr | rx_dec_state == RX_DEC_CKSUM)
                              <font color = "green">-9-</font>  
857                        pld_offset    <= pld_offset_p2[15:0];
           <font color = "green">                ==></font>
                           MISSING_ELSE
           <font color = "green">                ==></font>
858        
859                      if ((rx_dec_state != RX_DEC_CKSUM) & (rx_dec_state != RX_DEC_IDLE))
                         <font color = "green">-10-</font>  
860                        udptcp_offset <= udptcp_offset + 11'h001;
           <font color = "green">                ==></font>
                           MISSING_ELSE
           <font color = "green">                ==></font>
861                    end
                       MISSING_ELSE
           <font color = "green">            ==></font>
862        
863                    if (new_aligned_data)
                       <font color = "green">-11-</font>  
864                    begin
865                      pld_offset_vld  <= in_payload_nxt & ~in_payload;
           <font color = "green">              ==></font>
866                    end
                       MISSING_ELSE
           <font color = "green">            ==></font>
</pre>
<br clear=all>
<span class=repname>Branches:</span>
<br clear=all>
<table align=left class="noborder">
<tr>
<th nowrap width=80>-1-</th><th nowrap width=80>-2-</th><th nowrap width=80>-3-</th><th nowrap width=80>-4-</th><th nowrap width=80>-5-</th><th nowrap width=80>-6-</th><th nowrap width=80>-7-</th><th nowrap width=80>-8-</th><th nowrap width=80>-9-</th><th nowrap width=80>-10-</th><th nowrap width=80>-11-</th><th nowrap width=80>Status</th></tr><tr class="uGreen">
<td align=center>1</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td align=center>0</td>
<td align=center>1</td>
<td align=center>1</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td align=center>0</td>
<td align=center>1</td>
<td align=center>0</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>0</td>
<td align=center nowrap>-</td>
<td align=center>1</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Not Covered</td>
</tr><tr class="uGreen">
<td align=center>0</td>
<td align=center>0</td>
<td align=center nowrap>-</td>
<td align=center>0</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td align=center>0</td>
<td align=center>0</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center>1</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td align=center>0</td>
<td align=center>0</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center>0</td>
<td align=center>1</td>
<td align=center>1</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>0</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center>0</td>
<td align=center>1</td>
<td align=center>0</td>
<td align=center>1</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Not Covered</td>
</tr><tr class="uGreen">
<td align=center>0</td>
<td align=center>0</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center>0</td>
<td align=center>1</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>1</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td align=center>0</td>
<td align=center>0</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center>0</td>
<td align=center>1</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td align=center>0</td>
<td align=center>0</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center>0</td>
<td align=center>1</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center>1</td>
<td align=center nowrap>-</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td align=center>0</td>
<td align=center>0</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center>0</td>
<td align=center>1</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center>0</td>
<td align=center nowrap>-</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td align=center>0</td>
<td align=center>0</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td align=center>0</td>
<td align=center>0</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center>1</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td align=center>0</td>
<td align=center>0</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center>0</td>
<td>Covered</td>
</tr></table><br clear=all>
<pre class="code"><br clear=all>
1083             case (rx_dec_state)
                 <font color = "red">-1-</font>  
1084       
1085       
1086                RX_DEC_DA1 : // decode DA from bytes 1-6 (first two)
1087                   begin
1088                      if (new_aligned_data)
                          <font color = "green">-2-</font>  
1089                         begin
1090                            // Clear all signals at beginning of frame.
1091                            drop_pause_frame_nxt = 1'b0;
           <font color = "green">                     ==></font>
1092                            ext_da_nxt[15:0]  = new_data_align[15:0];
1093                            ext_da_nxt[47:16] = 32'h00000000;
1094                            ext_da_stb_nxt    = 1'b0;
1095                            ext_sa_nxt        = 48'd0;
1096                            ext_sa_stb_nxt    = 1'b0;
1097                            ext_type_nxt      = 16'h0000;
1098                            ext_type_stb_nxt  = 1'b0;
1099                            ext_ip_sa_nxt     = 128'h00000000000000000000000000000000;
1100                            ext_ip_sa_stb_nxt = 1'b0;
1101                            ext_ip_da_nxt     = 128'h00000000000000000000000000000000;
1102                            ext_ip_da_stb_nxt = 1'b0;
1103                            ext_dest_port_nxt = 16'h0000;
1104                            ext_source_port_nxt = 16'h0000;
1105                            ext_ipv6_nxt      = 1'b0;
1106                            length_field_nxt  = 16'hffff;
1107                            vlan_tagged_nxt   = 1'b0;
1108                            tci_nxt           = 4'h0;
1109                            priority_tag_nxt  = 1'b0;
1110                            pause_frame_nxt   = 1'b0;
1111                            pause_time_nxt    = 16'h0000;
1112                            pfc_pause_frame_nxt = 1'b0;
1113                            pfc_decoded_nxt     = 1'b0;
1114                            pause2_cnt_nxt      = 4'h0;
1115                            snap_frame_nxt    = 1'b0;
1116                            ip_v4_frame_nxt   = 1'b0;
1117                            arp_frame_nxt     = 1'b0;
1118                            tcp_frame_nxt     = 1'b0;
1119                            udp_frame_nxt     = 1'b0;
1120                            ptp_frame_nxt     = 1'b0;
1121                            ip_check_nxt      = 1'b0;
1122                            tcp_udp_check_nxt = 1'b0;
1123                            no_tcp_udp_ck_nxt = 1'b0;
1124                            // Stacked VLAN tag support
1125                            second_vlan_nxt       = 1'b0;
1126                            ext_vlan_tag1_nxt     = 32'h0000_0000;
1127                            ext_vlan_tag2_nxt     = 32'h0000_0000;
1128                            ext_vlan_tag1_stb_nxt = 1'b0;
1129                            ext_vlan_tag2_stb_nxt = 1'b0;
1130                            ip_v4_tos_nxt         = 8'h00;
1131                            ip_v6_tc_nxt          = 8'h00;
1132                            rx_dec_state_nxt  = RX_DEC_DA2;
1133                            in_payload_nxt    = 1'b0;
1134                         end
1135                      else
1136                         begin
1137                            rx_dec_state_nxt  = RX_DEC_DA1;
           <font color = "green">                     ==></font>
1138                         end
1139                   end
1140       
1141       
1142                RX_DEC_DA2 : // decode DA from bytes 1-6 (middle two)
1143                   begin
1144                      if (new_aligned_data)
                          <font color = "green">-3-</font>  
1145                         begin
1146                            ext_da_nxt[31:16] = new_data_align[15:0];
           <font color = "green">                     ==></font>
1147                            rx_dec_state_nxt  = RX_DEC_DA3;
1148                         end
1149                      else
1150                         begin
1151                            rx_dec_state_nxt  = RX_DEC_DA2;
           <font color = "green">                     ==></font>
1152                         end
1153                   end
1154       
1155       
1156                RX_DEC_DA3 : // decode DA from bytes 1-6 (last two)
1157                   begin
1158                      if (new_aligned_data)
                          <font color = "green">-4-</font>  
1159                         begin
1160                            ext_da_nxt[47:32] = new_data_align[15:0];
           <font color = "green">                     ==></font>
1161                            ext_da_stb_nxt    = 1'b1;
1162                            rx_dec_state_nxt  = RX_DEC_SA1;
1163                         end
1164                      else
1165                         begin
1166                            rx_dec_state_nxt  = RX_DEC_DA3;
           <font color = "green">                     ==></font>
1167                         end
1168                   end
1169       
1170       
1171                RX_DEC_SA1 : // decode SA from bytes 7-12 (first two)
1172                   begin
1173                      if (new_aligned_data)
                          <font color = "green">-5-</font>  
1174                         begin
1175                            ext_sa_nxt[15:0]  = new_data_align[15:0];
           <font color = "green">                     ==></font>
1176                            rx_dec_state_nxt  = RX_DEC_SA2;
1177                         end
1178                      else
1179                         begin
1180                            rx_dec_state_nxt  = RX_DEC_SA1;
           <font color = "green">                     ==></font>
1181                         end
1182                   end
1183       
1184       
1185                RX_DEC_SA2 : // decode SA from bytes 7-12 (middle two)
1186                   begin
1187                      if (new_aligned_data)
                          <font color = "green">-6-</font>  
1188                         begin
1189                            ext_sa_nxt[31:16] = new_data_align[15:0];
           <font color = "green">                     ==></font>
1190                            rx_dec_state_nxt  = RX_DEC_SA3;
1191                         end
1192                      else
1193                         begin
1194                            rx_dec_state_nxt  = RX_DEC_SA2;
           <font color = "green">                     ==></font>
1195                         end
1196                   end
1197       
1198       
1199                RX_DEC_SA3 : // decode SA from bytes 7-12 (last two)
1200                   begin
1201                      if (new_aligned_data)
                          <font color = "green">-7-</font>  
1202                         begin
1203                            ext_sa_nxt[47:32] = new_data_align[15:0];
           <font color = "green">                     ==></font>
1204                            ext_sa_stb_nxt    = 1'b1;
1205                            rx_dec_state_nxt  = RX_DEC_TYPE;
1206                         end
1207                      else
1208                         begin
1209                            rx_dec_state_nxt  = RX_DEC_SA3;
           <font color = "green">                     ==></font>
1210                         end
1211                   end
1212       
1213       
1214                RX_DEC_TYPE : // extract type id from bytes 13&14
1215                   begin
1216                       // reset tcp flags as late as we can to compensate for delay in MAC to DMA.
1217                      rsc_stop_nxt       = 1'b0;
1218                      rsc_push_nxt       = 1'b0;
1219                      tcp_syn_nxt        = 1'b0;
1220                      tcp_seqnum_high_nxt = 16'h0000;
1221                      tcp_seqnum_low_nxt = 16'h0000;
1222                      ip_opt_length_nxt  = 8'h00;
1223                      ip_totlength_nxt   = 16'h0000;
1224                      tcp_offset_nxt     = 4'h0;
1225       
1226                      // Save external type & length field
1227                      ext_type_nxt[15:0]= {new_data_align[7:0], new_data_align[15:8]};
1228                      length_field_nxt[15:0]= {new_data_align[7:0],
1229                                               new_data_align[15:8]};
1230       
1231       
1232                      // VLAN tagged frame
1233                      // Stacked VLAN tag support
1234                      if (new_aligned_data & (
                          <font color = "green">-8-</font>  
1235                            ({new_data_align[7:0],
1236                              new_data_align[15:8]} == VLAN_TYPE)
1237                          | ({1'b1, new_data_align[7:0],
1238                                    new_data_align[15:8]} == stacked_vlantype) ) )
1239       
1240                         begin
1241                            ext_vlan_tag1_nxt[31:16] =
           <font color = "green">                     ==></font>
1242                                          {new_data_align[7:0], new_data_align[15:8]};
1243                            vlan_tagged_nxt   = 1'b1;
1244                            rx_dec_state_nxt  = RX_DEC_VLAN1;
1245                         end
1246                      // PAUSE frame
1247                      else if (new_aligned_data &
                               <font color = "red">-9-</font>  
1248                               ({new_data_align[7:0],
1249                                 new_data_align[15:8]} == PAUSE_TYPE))
1250                         begin
1251                            ext_type_stb_nxt  = 1'b1;
1252                            in_payload_nxt       = 1'b1;
1253                            drop_pause_frame_nxt  = rx_no_pause_frames;
1254                            if (pause_add_match)
                                <font color = "red">-10-</font>  
1255                            begin
1256                              pause_frame_nxt   = 1'b1;
           <font color = "red">                       ==></font>
1257                              pfc_pause_frame_nxt = 1'b1;
1258                              rx_dec_state_nxt  = RX_DEC_PAUSE1;
1259                            end
1260                            else
1261                              rx_dec_state_nxt  = RX_DEC_IDLE;
           <font color = "red">                       ==></font>
1262                         end
1263       
1264                      // ARP encapsulated frame
1265                      else if (new_aligned_data & ({new_data_align[7:0],
                               <font color = "red">-11-</font>  
1266                                                    new_data_align[15:8]} == ARP_TYPE))
1267                         begin
1268                            ext_type_stb_nxt  = 1'b1;
           <font color = "red">                     ==></font>
1269                            arp_frame_nxt     = 1'b1;
1270                            rx_dec_state_nxt  = RX_DEC_IDLE;
1271                            in_payload_nxt       = 1'b1;
1272                         end
1273       
1274                      // IPv4 encapsulated frame
1275                      else if (new_aligned_data &
                               <font color = "green">-12-</font>  
1276                               ({new_data_align[7:0],
1277                                 new_data_align[15:8]} == IP_TYPEv4))
1278                         begin
1279                            ext_type_stb_nxt  = 1'b1;
           <font color = "green">                     ==></font>
1280                            ip_check_nxt      = rx_toe_enable;
1281                            rx_dec_state_nxt  = RX_DEC_IP1;
1282                         end
1283       
1284                      // IPv6 encapsulated frame
1285                      else if (new_aligned_data &
                               <font color = "red">-13-</font>  
1286                               ({new_data_align[7:0],
1287                                 new_data_align[15:8]} == IP_TYPEv6))
1288                         begin
1289                            ext_type_stb_nxt  = 1'b1;
           <font color = "red">                     ==></font>
1290                            rx_dec_state_nxt  = RX_DEC_IPv6_1;
1291                         end
1292       
1293                      // SNAP encapsulated frame
1294                      else if (new_aligned_data &
                               <font color = "green">-14-</font>  
1295                                 ({new_data_align[7:0],
1296                                   new_data_align[15:8]} <= SNAP_TYPE))
1297                         begin
1298                            rx_dec_state_nxt  = RX_DEC_SNAP1;
           <font color = "green">                     ==></font>
1299                         end
1300       
1301                      // non encapsulated PTP frame
1302                      else if (new_aligned_data &
                               <font color = "red">-15-</font>  
1303                                 ({new_data_align[7:0],
1304                                   new_data_align[15:8]} == PTP_TYPE))
1305                         begin
1306                            rx_dec_state_nxt  = RX_DEC_PTP1;
1307                            ext_type_stb_nxt  = 1'b1;
1308                            ptp_frame_nxt     = 1'b1;
1309                            if (ext_da[47:0] == 48'h000000191b01)
                                <font color = "red">-16-</font>  
1310                               begin
1311                                  ptp_primary_nxt = 1'b1;
           <font color = "red">                           ==></font>
1312                               end
                                   MISSING_ELSE
           <font color = "red">                        ==></font>
1313                            if (ext_da[47:0] == 48'h0e0000c28001)
                                <font color = "red">-17-</font>  
1314                               begin
1315                                  ptp_pdelay_nxt  = 1'b1;
           <font color = "red">                           ==></font>
1316                               end
                                   MISSING_ELSE
           <font color = "red">                        ==></font>
1317                         end
1318       
1319                      // PPPoE encapsulated frame
1320                      else if (new_aligned_data &
                               <font color = "red">-18-</font>  
1321                                 ({new_data_align[7:0],
1322                                   new_data_align[15:8]} == 16'h8864))
1323                         begin
1324                            ext_type_stb_nxt  = 1'b1;
           <font color = "red">                     ==></font>
1325                            rx_dec_state_nxt  = PPPoE1;
1326                         end
1327       
1328                      // 802.1CB Redundancy Tag
1329                      else if (new_aligned_data &
                               <font color = "red">-19-</font>  
1330                               ({new_data_align[7:0],
1331                                 new_data_align[15:8]} == frer_rtag_ethertype))
1332                         begin
1333                            if (~frer_6b_tag)
                                <font color = "red">-20-</font>  
1334                              rx_dec_state_nxt = CB_RTAG;
           <font color = "red">                       ==></font>
1335                            else
1336                              rx_dec_state_nxt = CB_TAG_RSVD;
           <font color = "red">                       ==></font>
1337                         end
1338       
1339                      // Other type - just present to external filter interface
1340                      else if (new_aligned_data)
                               <font color = "green">-21-</font>  
1341                         begin
1342                            ext_type_stb_nxt  = 1'b1;
           <font color = "green">                     ==></font>
1343                            rx_dec_state_nxt  = RX_DEC_IDLE;
1344                            in_payload_nxt    = 1'b1;
1345                         end
1346       
1347                      // wait for next pipeline data
1348                      else
1349                         begin
1350                            rx_dec_state_nxt  = RX_DEC_TYPE;
           <font color = "green">                     ==></font>
1351                         end
1352                   end
1353       
1354                CB_TAG_RSVD : // Ignore the 2 bytes following the type and before the sequence number
1355                   begin
1356                      if (new_aligned_data)
                          <font color = "red">-22-</font>  
1357                         rx_dec_state_nxt      = CB_RTAG;
           <font color = "red">                  ==></font>
1358                      else
1359                         rx_dec_state_nxt      = CB_TAG_RSVD;
           <font color = "red">                  ==></font>
1360                   end
1361       
1362                CB_RTAG : // Extract sequence number from next two bytes
1363                   begin
1364                      // Extract sequence number from next two bytes.
1365                      if (new_aligned_data)
                          <font color = "red">-23-</font>  
1366                      begin
1367                         if (vlan_tagged)
                             <font color = "red">-24-</font>  
1368                            rx_dec_state_nxt      = RX_DEC_VLAN2;
           <font color = "red">                     ==></font>
1369                         else
1370                            rx_dec_state_nxt      = RX_DEC_TYPE;
           <font color = "red">                     ==></font>
1371       //                  frer_rtag_seqnum_nxt  = {new_data_align[7:0],
1372       //                                            new_data_align[15:8]};
1373       //                  frer_rtag_seqnum_stb_nxt  = 1'b1;
1374                      end
1375                      else
1376                         rx_dec_state_nxt  = CB_RTAG;
           <font color = "red">                  ==></font>
1377                   end
1378       
1379                RX_DEC_VLAN1 : // Extract vlan tag from bytes 15-16
1380                   begin
1381                      // Extract vlan tag from bytes 15-16
1382                      // presented as {user priority, CFI, VID[11:0]}
1383                      // The UPPER nibble of byte 15 contains the priority and CFI bit.
1384                      // The LOWER nibble of byte 15 and both nibbles of byte 16
1385                      // contains VID (should=0 for priority tagged)
1386                      if (new_aligned_data)
                          <font color = "green">-25-</font>  
1387                         begin
1388                            tci_nxt           = new_data_align[7:4];
1389                            priority_tag_nxt  = (new_data_align[3:0]  == 4'h0) &
1390                                                (new_data_align[15:8] == 8'h00);
1391                            rx_dec_state_nxt  = RX_DEC_VLAN2;
1392                            // Stacked VLAN tag support
1393                            //
1394                            if (~second_vlan)
                                <font color = "red">-26-</font>  
1395                               begin
1396                                  ext_vlan_tag1_nxt[15:0] = {new_data_align[7:0],
           <font color = "green">                           ==></font>
1397                                                             new_data_align[15:8]};
1398                                  ext_vlan_tag1_stb_nxt   = 1'b1;
1399                               end
1400                            else
1401                               begin
1402                                  ext_vlan_tag2_nxt[15:0] = {new_data_align[7:0],
           <font color = "red">                           ==></font>
1403                                                             new_data_align[15:8]};
1404                                  ext_vlan_tag2_stb_nxt   = 1'b1;
1405                               end
1406                         end
1407                      else
1408                         begin
1409                            rx_dec_state_nxt  = RX_DEC_VLAN1;
           <font color = "green">                     ==></font>
1410                         end
1411                   end
1412       
1413       
1414                RX_DEC_VLAN2 : // extract type id from bytes 17&18 after VLAN tag
1415                   begin
1416       
1417                     last_vlan_hdr     = 1'b1;
1418       
1419                      // Save external type and length field
1420                      ext_type_nxt[15:0]= {new_data_align[7:0], new_data_align[15:8]};
1421                      length_field_nxt[15:0]= {new_data_align[7:0],
1422                                               new_data_align[15:8]};
1423       
1424                      // Stacked VLAN tag support
1425                      if (new_aligned_data & ~second_vlan & stacked_vlantype[16] &
                          <font color = "red">-27-</font>  
1426                            ({new_data_align[7:0], new_data_align[15:8]} == VLAN_TYPE))
1427                         begin
1428                            second_vlan_nxt = 1'b1;
           <font color = "red">                     ==></font>
1429                            ext_vlan_tag2_nxt[31:16] =
1430                                           {new_data_align[7:0], new_data_align[15:8]};
1431                            rx_dec_state_nxt  = RX_DEC_VLAN1;
1432                         end
1433       
1434                      // IPv4 encapsulated frame -  only check IP if no VLAN CFI.
1435                      else if (new_aligned_data & ~tci[0] &
                               <font color = "red">-28-</font>  
1436                          ({new_data_align[7:0],
1437                            new_data_align[15:8]} == IP_TYPEv4))
1438                         begin
1439                            ext_type_stb_nxt  = 1'b1;
           <font color = "red">                     ==></font>
1440                            ip_check_nxt      = rx_toe_enable;
1441                            rx_dec_state_nxt  = RX_DEC_IP1;
1442                         end
1443       
1444                      // IPv6 encapsulated frame -  only check IP if no VLAN CFI.
1445                      else if (new_aligned_data & ~tci[0] &
                               <font color = "red">-29-</font>  
1446                          ({new_data_align[7:0],
1447                            new_data_align[15:8]} == IP_TYPEv6))
1448                         begin
1449                            ext_type_stb_nxt  = 1'b1;
           <font color = "red">                     ==></font>
1450                            rx_dec_state_nxt  = RX_DEC_IPv6_1;
1451                         end
1452       
1453                      // ARP encapsulated frame
1454                      else if (new_aligned_data & ({new_data_align[7:0],
                               <font color = "red">-30-</font>  
1455                                                    new_data_align[15:8]} == ARP_TYPE))
1456                         begin
1457                            ext_type_stb_nxt  = 1'b1;
           <font color = "red">                     ==></font>
1458                            arp_frame_nxt     = 1'b1;
1459                            rx_dec_state_nxt  = RX_DEC_IDLE;
1460                            in_payload_nxt    = 1'b1;
1461                         end
1462       
1463                      // SNAP encapsulated frame -  only check SNAP if no VLAN CFI.
1464                      else if (new_aligned_data & ~tci[0] &
                               <font color = "green">-31-</font>  
1465                                 ({new_data_align[7:0],
1466                                   new_data_align[15:8]} <= SNAP_TYPE))
1467                         begin
1468                            rx_dec_state_nxt  = RX_DEC_SNAP1;
           <font color = "green">                     ==></font>
1469                         end
1470       
1471                      // non encapsulated PTP frame
1472                      else if (new_aligned_data &
                               <font color = "red">-32-</font>  
1473                                 ({new_data_align[7:0],
1474                                   new_data_align[15:8]} == PTP_TYPE))
1475                         begin
1476                            in_payload_nxt    = 1'b1;
1477                            rx_dec_state_nxt  = RX_DEC_PTP1;
1478                            ext_type_stb_nxt  = 1'b1;
1479                            ptp_frame_nxt     = 1'b1;
1480                            if (ext_da[47:0] == 48'h000000191b01)
                                <font color = "red">-33-</font>  
1481                               begin
1482                                  ptp_primary_nxt = 1'b1;
           <font color = "red">                           ==></font>
1483                               end
                                   MISSING_ELSE
           <font color = "red">                        ==></font>
1484                            if (ext_da[47:0] == 48'h0e0000c28001)
                                <font color = "red">-34-</font>  
1485                               begin
1486                                  ptp_pdelay_nxt  = 1'b1;
           <font color = "red">                           ==></font>
1487                               end
                                   MISSING_ELSE
           <font color = "red">                        ==></font>
1488                         end
1489       
1490                      // PPPoE encapsulated frame
1491                      else if (new_aligned_data &
                               <font color = "red">-35-</font>  
1492                                 ({new_data_align[7:0],
1493                                   new_data_align[15:8]} == 16'h8864))
1494                         begin
1495                            ext_type_stb_nxt  = 1'b1;
           <font color = "red">                     ==></font>
1496                            rx_dec_state_nxt  = PPPoE1;
1497                         end
1498       
1499                      // 802.1CB Redundancy Tag
1500                      else if (new_aligned_data &
                               <font color = "red">-36-</font>  
1501                               ({new_data_align[7:0],
1502                                 new_data_align[15:8]} == frer_rtag_ethertype))
1503                         begin
1504                            if (~frer_6b_tag)
                                <font color = "red">-37-</font>  
1505                               rx_dec_state_nxt = CB_RTAG;
           <font color = "red">                        ==></font>
1506                            else
1507                               rx_dec_state_nxt = CB_TAG_RSVD;
           <font color = "red">                        ==></font>
1508                         end
1509       
1510                      // Other type - just present to external filter interface
1511                      else if (new_aligned_data)
                               <font color = "red">-38-</font>  
1512                         begin
1513                            in_payload_nxt    = 1'b1;
           <font color = "red">                     ==></font>
1514                            ext_type_stb_nxt  = 1'b1;
1515                            rx_dec_state_nxt  = RX_DEC_IDLE;
1516                         end
1517       
1518                      // wait for next pipeline data
1519                      else
1520                         begin
1521                            rx_dec_state_nxt  = RX_DEC_VLAN2;
           <font color = "green">                     ==></font>
1522                         end
1523                   end
1524       
1525       
1526                PPPoE1 :
1527                   begin
1528                      in_other_hdr      = 1'b1;
1529                      if (new_aligned_data)
                          <font color = "red">-39-</font>  
1530                         begin
1531                            rx_dec_state_nxt  = PPPoE2;
           <font color = "red">                     ==></font>
1532                         end
1533                      // wait for next pipeline data
1534                      else
1535                         begin
1536                            rx_dec_state_nxt  = PPPoE1;
           <font color = "red">                     ==></font>
1537                         end
1538                   end
1539       
1540       
1541                PPPoE2 :
1542                   begin
1543                      in_other_hdr      = 1'b1;
1544                      if (new_aligned_data)
                          <font color = "red">-40-</font>  
1545                         begin
1546                            rx_dec_state_nxt  = PPPoE3;
           <font color = "red">                     ==></font>
1547                         end
1548                      // wait for next pipeline data
1549                      else
1550                         begin
1551                            rx_dec_state_nxt  = PPPoE2;
           <font color = "red">                     ==></font>
1552                         end
1553                   end
1554       
1555       
1556                PPPoE3 :
1557                   begin
1558                      in_other_hdr      = 1'b1;
1559                      if (new_aligned_data)
                          <font color = "red">-41-</font>  
1560                         begin
1561                            rx_dec_state_nxt  = PPPoE4;
           <font color = "red">                     ==></font>
1562                         end
1563                      // wait for next pipeline data
1564                      else
1565                         begin
1566                            rx_dec_state_nxt  = PPPoE3;
           <font color = "red">                     ==></font>
1567                         end
1568                   end
1569       
1570       
1571                PPPoE4 :
1572                   begin
1573                      in_other_hdr      = 1'b1;
1574                      // IPv4 encapsulated frame
1575                      if (new_aligned_data &
                          <font color = "red">-42-</font>  
1576                          ({new_data_align[7:0],
1577                            new_data_align[15:8]} == 16'h0021))
1578                         begin
1579                            ip_check_nxt      = rx_toe_enable;
           <font color = "red">                     ==></font>
1580                            rx_dec_state_nxt  = RX_DEC_IP1;
1581                         end
1582                      // IPv6 encapsulated frame
1583                      else if (new_aligned_data &
                               <font color = "red">-43-</font>  
1584                          ({new_data_align[7:0],
1585                            new_data_align[15:8]} == 16'h0057))
1586                         begin
1587                            rx_dec_state_nxt  = RX_DEC_IPv6_1;
           <font color = "red">                     ==></font>
1588                         end
1589                      else if (new_aligned_data)
                               <font color = "red">-44-</font>  
1590                         begin
1591                            in_payload_nxt    = 1'b1;
           <font color = "red">                     ==></font>
1592                            rx_dec_state_nxt  = RX_DEC_IDLE;
1593                         end
1594                      // wait for next pipeline data
1595                      else
1596                         begin
1597                            rx_dec_state_nxt  = PPPoE4;
           <font color = "red">                     ==></font>
1598                         end
1599                   end
1600       
1601       
1602                RX_DEC_PAUSE1 : // check pause opcode from bytes 15-16
1603                   begin
1604                      // 802.3 pause frame op-code decoded
1605                      if (new_aligned_data & ({new_data_align[7:0],
                          <font color = "red">-45-</font>  
1606                                               new_data_align[15:8]} == PAUSE_OPCODE))
1607                         begin
1608                            pfc_pause_frame_nxt = 1'b0;
           <font color = "red">                     ==></font>
1609                            rx_dec_state_nxt  = RX_DEC_PAUSE2;
1610                         end
1611       
1612                      // PFC pause frame op-code decoded
1613                      else if (new_aligned_data & ({new_data_align[7:0],
                               <font color = "red">-46-</font>  
1614                                           new_data_align[15:8]} == PFC_PAUSE_OPCODE))
1615                         begin
1616                            pfc_decoded_nxt   = 1'b1;
           <font color = "red">                     ==></font>
1617                            pause_frame_nxt   = 1'b0;
1618                            rx_dec_state_nxt  = RX_DEC_PAUSE2;
1619                         end
1620       
1621                      // Invalid pause opcode, wait for next frame
1622                      else if (new_aligned_data)
                               <font color = "red">-47-</font>  
1623                         begin
1624                            drop_pause_frame_nxt  = 1'b0;
           <font color = "red">                     ==></font>
1625                            pause_frame_nxt   = 1'b0;
1626                            pfc_pause_frame_nxt = 1'b0;
1627                            rx_dec_state_nxt  = RX_DEC_IDLE;
1628                         end
1629       
1630                      // wait for next pipeline data
1631                      else
1632                         begin
1633                            rx_dec_state_nxt  = RX_DEC_PAUSE1;
           <font color = "red">                     ==></font>
1634                         end
1635                   end
1636       
1637       
1638                RX_DEC_PAUSE2 : // extract pause time value from bytes 17-18
1639                   begin
1640                      // Check pause opcode, but pause is disabled
1641                      if (new_aligned_data &
                          <font color = "red">-48-</font>  
1642                         ((~pause_enable_rck & pause_frame) |
1643                          (~pfc_enable_rck & pfc_decoded)))
1644       
1645                         begin
1646                            pause_time_nxt    = pause_time;
           <font color = "red">                     ==></font>
1647                            rx_dec_state_nxt  = RX_DEC_IDLE;
1648                         end
1649       
1650                      // Check pause opcode, and pause is enabled
1651                      else if (new_aligned_data)
                               <font color = "red">-49-</font>  
1652                         //-----------------------------------------------
1653                         //------- PFC pause_frame op-code decoded    ----
1654                         //-----------------------------------------------
1655                         if (pfc_decoded)
                             <font color = "red">-50-</font>  
1656                         begin
1657                             pause2_cnt_nxt = pause2_cnt + 4'h1;
1658                             case (pause2_cnt)
                                 <font color = "red">-51-</font>  
1659                                4'b0000 : // load priority enable vector
1660                                begin
1661                                  priority_enable_nxt = new_data_align[15:8];
           <font color = "red">                           ==></font>
1662                                  rx_dec_state_nxt  = RX_DEC_PAUSE2;
1663                                end
1664                                4'b0001 : // load pause time length for data frame
1665                                          // with priority 0
1666                                begin
1667                                  rx_dec_state_nxt  = RX_DEC_PAUSE2;
           <font color = "red">                           ==></font>
1668                                  pfc_pause_time0_nxt = {new_data_align[7:0],
1669                                                         new_data_align[15:8]};
1670                                end
1671                                4'b0010 : // load pause time length for data frame
1672                                          // with priority 1
1673                                begin
1674                                  rx_dec_state_nxt  = RX_DEC_PAUSE2;
           <font color = "red">                           ==></font>
1675                                  pfc_pause_time1_nxt = {new_data_align[7:0],
1676                                                         new_data_align[15:8]};
1677                                end
1678                                4'b0011 :  // load pause time length for data frame
1679                                           // with priority 2
1680                                begin
1681                                  rx_dec_state_nxt  = RX_DEC_PAUSE2;
           <font color = "red">                           ==></font>
1682                                  pfc_pause_time2_nxt = {new_data_align[7:0],
1683                                                         new_data_align[15:8]};
1684                                end
1685                                4'b0100 :  // load pause time length for data frame
1686                                           // with priority 3
1687                                begin
1688                                  rx_dec_state_nxt  = RX_DEC_PAUSE2;
           <font color = "red">                           ==></font>
1689                                  pfc_pause_time3_nxt = {new_data_align[7:0],
1690                                                         new_data_align[15:8]};
1691                                end
1692                                4'b0101 :  // load pause time length for data frame
1693                                           // with  priority 4
1694                                begin
1695                                  rx_dec_state_nxt  = RX_DEC_PAUSE2;
           <font color = "red">                           ==></font>
1696                                  pfc_pause_time4_nxt = {new_data_align[7:0],
1697                                                         new_data_align[15:8]};
1698                                end
1699                                4'b0110 :  // load pause time length for data frame
1700                                           // with  priority 5
1701                                begin
1702                                  rx_dec_state_nxt  = RX_DEC_PAUSE2;
           <font color = "red">                           ==></font>
1703                                  pfc_pause_time5_nxt = {new_data_align[7:0],
1704                                                         new_data_align[15:8]};
1705                                end
1706                                4'b0111 :  // load pause time length for data frame
1707                                           // with  priority 6
1708                                begin
1709                                  rx_dec_state_nxt  = RX_DEC_PAUSE2;
           <font color = "red">                           ==></font>
1710                                  pfc_pause_time6_nxt = {new_data_align[7:0],
1711                                                         new_data_align[15:8]};
1712                                end
1713                                default :  // load pause time length for data frame
1714                                           // with  priority 7
1715                                begin
1716                                  rx_dec_state_nxt  = RX_DEC_IDLE;
           <font color = "red">                           ==></font>
1717                                  pfc_pause_time7_nxt = {new_data_align[7:0],
1718                                                         new_data_align[15:8]};
1719                                end
1720                             endcase
1721                         end
1722                         else // else of "if pfc_decoded"
1723                         //-----------------------------------------------
1724                         //------- 802.3 pause frame op-code decoded -----
1725                         //-----------------------------------------------
1726                           begin
1727                              pause_time_nxt    = {new_data_align[7:0],
           <font color = "red">                       ==></font>
1728                                                   new_data_align[15:8]};
1729                              rx_dec_state_nxt  = RX_DEC_IDLE;
1730                           end
1731       
1732                      //----------------------------------------------------------
1733                      // else of "if (new_aligned_data & ~pause_enable_rck)"
1734                      // wait for next pipeline data
1735                      else
1736                         begin
1737                            rx_dec_state_nxt  = RX_DEC_PAUSE2;
           <font color = "red">                     ==></font>
1738                         end
1739       
1740                   end
1741       
1742       
1743                RX_DEC_SNAP1 : // Check for valid DSAP and SSAP in SNAP encapsulation
1744                   begin
1745                      if (new_aligned_data & (new_data_align[7:0]  == SNAP_DSAP) &
                          <font color = "red">-52-</font>  
1746                                             (new_data_align[15:8] == SNAP_SSAP))
1747                         begin
1748                            rx_dec_state_nxt  = RX_DEC_SNAP2;
           <font color = "red">                     ==></font>
1749                         end
1750       
1751                      // Invalid DSAP or SSAP, wait for next frame.
1752                      // Present previously saved type field to filter interface
1753                      else if (new_aligned_data)
                               <font color = "green">-53-</font>  
1754                         begin
1755                            in_payload_nxt    = 1'b1;
           <font color = "green">                     ==></font>
1756                            ext_type_stb_nxt  = 1'b1;
1757                            rx_dec_state_nxt  = RX_DEC_IDLE;
1758                         end
1759       
1760                      // wait for next pipeline data
1761                      else
1762                         begin
1763                            rx_dec_state_nxt  = RX_DEC_SNAP1;
           <font color = "green">                     ==></font>
1764                         end
1765                   end
1766       
1767       
1768                RX_DEC_SNAP2 : // Check for valid control and ID[7:0] in SNAP
1769                   begin
1770                      if (new_aligned_data & (new_data_align[7:0]  == SNAP_CONT) &
                          <font color = "red">-54-</font>  
1771                                             (new_data_align[15:8] == SNAP_ID_7_0))
1772                         begin
1773                            rx_dec_state_nxt  = RX_DEC_SNAP3;
           <font color = "red">                     ==></font>
1774                         end
1775       
1776                      // Invalid control or ID[7:0], wait for next frame
1777                      // Present previously saved type field to filter interface
1778                      else if (new_aligned_data)
                               <font color = "red">-55-</font>  
1779                         begin
1780                            in_payload_nxt    = 1'b1;
           <font color = "red">                     ==></font>
1781                            ext_type_stb_nxt  = 1'b1;
1782                            rx_dec_state_nxt  = RX_DEC_IDLE;
1783                         end
1784       
1785                      // wait for next pipeline data
1786                      else
1787                         begin
1788                            rx_dec_state_nxt  = RX_DEC_SNAP2;
           <font color = "red">                     ==></font>
1789                         end
1790                   end
1791       
1792       
1793                RX_DEC_SNAP3 : // Check for valid ID[23:8] in SNAP
1794                   begin
1795                      if (new_aligned_data & (new_data_align[7:0]  == SNAP_ID_15_8) &
                          <font color = "red">-56-</font>  
1796                                             (new_data_align[15:8] == SNAP_ID_23_16))
1797                         begin
1798                            snap_frame_nxt    = 1'b1;
           <font color = "red">                     ==></font>
1799                            rx_dec_state_nxt  = RX_DEC_SNAP4;
1800                         end
1801       
1802                      // Invalid control or ID[23:8], wait for next frame
1803                      // Present previously saved type field to filter interface
1804                      else if (new_aligned_data)
                               <font color = "red">-57-</font>  
1805                         begin
1806                            in_payload_nxt    = 1'b1;
           <font color = "red">                     ==></font>
1807                            ext_type_stb_nxt  = 1'b1;
1808                            rx_dec_state_nxt  = RX_DEC_IDLE;
1809                         end
1810       
1811                      // wait for next pipeline data
1812                      else
1813                         begin
1814                            rx_dec_state_nxt  = RX_DEC_SNAP3;
           <font color = "red">                     ==></font>
1815                         end
1816                   end
1817       
1818       
1819                RX_DEC_SNAP4 : // Check ethernet type for IP
1820                   begin
1821                      last_snap_hdr    = 1'b1;
1822                      // Save external type
1823                      ext_type_nxt[15:0]= {new_data_align[7:0], new_data_align[15:8]};
1824       
1825       
1826                      if (new_aligned_data & ({new_data_align[7:0],
                          <font color = "red">-58-</font>  
1827                                               new_data_align[15:8]} == IP_TYPEv4))
1828                         begin
1829                            ext_type_stb_nxt  = 1'b1;
           <font color = "red">                     ==></font>
1830                            ip_check_nxt      = rx_toe_enable;
1831                            rx_dec_state_nxt  = RX_DEC_IP1;
1832                         end
1833       
1834                      else if (new_aligned_data & ({new_data_align[7:0],
                               <font color = "red">-59-</font>  
1835                                               new_data_align[15:8]} == IP_TYPEv6))
1836                         begin
1837                            ext_type_stb_nxt  = 1'b1;
           <font color = "red">                     ==></font>
1838                            rx_dec_state_nxt  = RX_DEC_IPv6_1;
1839                         end
1840       
1841                      // Other type - just present to external filter interface
1842                      else if (new_aligned_data)
                               <font color = "red">-60-</font>  
1843                         begin
1844                            in_payload_nxt    = 1'b1;
           <font color = "red">                     ==></font>
1845                            ext_type_stb_nxt  = 1'b1;
1846                            rx_dec_state_nxt  = RX_DEC_IDLE;
1847                         end
1848       
1849                      // wait for next pipeline data
1850                      else
1851                         begin
1852                            rx_dec_state_nxt  = RX_DEC_SNAP4;
           <font color = "red">                     ==></font>
1853                         end
1854                   end
1855       
1856       
1857                RX_DEC_IP1   : // Check IP version and get IP header length
1858                   begin
1859                      in_other_hdr      = 1'b1;
1860                      if (new_aligned_data & (new_data_align[7:4] == IP_VERSION4) &
                          <font color = "green">-61-</font>  
1861                                             (new_data_align[3:0] >= IP_IHL_MIN))
1862                         begin
1863                            ip_opt_length_nxt =
           <font color = "green">                     ==></font>
1864                                         {4'h0, (new_data_align[3:0] - IP_IHL_MIN)};
1865                            ip_v4_tos_nxt     = new_data_align[15:8];
1866                            ip_v4_frame_nxt   = 1'b1;
1867                            rx_dec_state_nxt  = RX_DEC_IP2;
1868                         end
1869       
1870                      // invalid - wait for next frame
1871                      else if (new_aligned_data)
                               <font color = "red">-62-</font>  
1872                         begin
1873                            in_payload_nxt    = 1'b1;
           <font color = "red">                     ==></font>
1874                            ip_check_nxt      = 1'b0;
1875                            rx_dec_state_nxt  = RX_DEC_IDLE;
1876                         end
1877       
1878                      // wait for next pipeline data
1879                      else
1880                         begin
1881                            rx_dec_state_nxt  = RX_DEC_IP1;
           <font color = "green">                     ==></font>
1882                         end
1883                   end
1884       
1885       
1886                RX_DEC_IP2   : // Get total length of datagram
1887                   begin
1888                      in_other_hdr      = 1'b1;
1889                      if (new_aligned_data)
                          <font color = "green">-63-</font>  
1890                         begin
1891                            ip_totlength_nxt  = {new_data_align[7:0],
           <font color = "green">                     ==></font>
1892                                                 new_data_align[15:8]};
1893                            rx_dec_state_nxt  = RX_DEC_IP3;
1894                         end
1895                      else
1896                         begin
1897                            rx_dec_state_nxt  = RX_DEC_IP2;
           <font color = "green">                     ==></font>
1898                         end
1899                   end
1900       
1901       
1902                RX_DEC_IP3   : // wait for IP header identification
1903                   begin
1904                      in_other_hdr      = 1'b1;
1905                      if (new_aligned_data)
                          <font color = "green">-64-</font>  
1906                         begin
1907                            rx_dec_state_nxt  = RX_DEC_IP4;
           <font color = "green">                     ==></font>
1908                         end
1909                      else
1910                         begin
1911                            rx_dec_state_nxt  = RX_DEC_IP3;
           <font color = "green">                     ==></font>
1912                         end
1913                   end
1914       
1915       
1916                RX_DEC_IP4   : // Check no IP header fragmentation
1917                   begin
1918                      in_other_hdr      = 1'b1;
1919                      if (new_aligned_data &
                          <font color = "green">-65-</font>  
1920                             (({new_data_align[7:0],
1921                                new_data_align[15:8]} == IP_NFRAG_VAL1) |
1922                              ({new_data_align[7:0],
1923                                new_data_align[15:8]} == IP_NFRAG_VAL2)))
1924                         begin
1925                            rx_dec_state_nxt  = RX_DEC_IP5;
           <font color = "green">                     ==></font>
1926                         end
1927       
1928                      // invalid - don't check TCP/UDP checksum (carry on checking IP)
1929                      else if (new_aligned_data)
                               <font color = "red">-66-</font>  
1930                         begin
1931                            no_tcp_udp_ck_nxt = 1'b1;
           <font color = "red">                     ==></font>
1932                            rx_dec_state_nxt  = RX_DEC_IP5;
1933                         end
1934       
1935                      // wait for next pipeline data
1936                      else
1937                         begin
1938                            rx_dec_state_nxt  = RX_DEC_IP4;
           <font color = "green">                     ==></font>
1939                         end
1940                   end
1941       
1942       
1943                RX_DEC_IP5   : // Extract IP protocol (TCP or UDP only)
1944                   begin
1945                      in_other_hdr      = 1'b1;
1946                      // TCP packet
1947                      if (new_aligned_data & (new_data_align[15:8] == IP_TCP))
                          <font color = "red">-67-</font>  
1948                         begin
1949                            tcp_frame_nxt     = ~no_tcp_udp_ck; // un-fragmented
           <font color = "red">                     ==></font>
1950                            rx_dec_state_nxt  = RX_DEC_IP6;
1951                         end
1952       
1953                      // UDP packet
1954                      else if (new_aligned_data & (new_data_align[15:8] == IP_UDP))
                               <font color = "green">-68-</font>  
1955                         begin
1956                            udp_frame_nxt     = ~no_tcp_udp_ck; // un-fragmented
           <font color = "green">                     ==></font>
1957                            rx_dec_state_nxt  = RX_DEC_IP6;
1958                         end
1959       
1960                      // invalid - don't check TCP/UDP checksum (carry on checking IP)
1961                      else if (new_aligned_data)
                               <font color = "red">-69-</font>  
1962                         begin
1963                            no_tcp_udp_ck_nxt = 1'b1;
           <font color = "red">                     ==></font>
1964                            rx_dec_state_nxt  = RX_DEC_IP6;
1965                         end
1966       
1967                      // wait for next pipeline data
1968                      else
1969                         begin
1970                            rx_dec_state_nxt  = RX_DEC_IP5;
           <font color = "green">                     ==></font>
1971                         end
1972                   end
1973       
1974       
1975                RX_DEC_IP6   : // wait for IP header checksum
1976                   begin
1977                      in_other_hdr      = 1'b1;
1978                      // Once IP header checksum received, start adding data to
1979                      // TCP/UDP header checksum if not blocked.
1980                      if (new_aligned_data)
                          <font color = "green">-70-</font>  
1981                         begin
1982                            tcp_udp_check_nxt = ~no_tcp_udp_ck & rx_toe_enable;
           <font color = "green">                     ==></font>
1983                            rx_dec_state_nxt  = RX_DEC_IP7;
1984                         end
1985                      else
1986                         begin
1987                            rx_dec_state_nxt  = RX_DEC_IP6;
           <font color = "green">                     ==></font>
1988                         end
1989                   end
1990       
1991       
1992                RX_DEC_IP7 : // decode IP source Address (first two bytes)
1993                   begin
1994                      in_other_hdr      = 1'b1;
1995                      if (new_aligned_data)
                          <font color = "green">-71-</font>  
1996                         begin
1997                            ext_ip_sa_nxt[15:0]  = new_data_align[15:0];
           <font color = "green">                     ==></font>
1998                            rx_dec_state_nxt     = RX_DEC_IP8;
1999                         end
2000                      else
2001                         begin
2002                            rx_dec_state_nxt     = RX_DEC_IP7;
           <font color = "green">                     ==></font>
2003                         end
2004                   end
2005       
2006       
2007                RX_DEC_IP8 : // decode IP source Address (second two bytes)
2008                   begin
2009                      in_other_hdr      = 1'b1;
2010                      if (new_aligned_data)
                          <font color = "green">-72-</font>  
2011                         begin
2012                            ext_ip_sa_nxt[31:16] = new_data_align[15:0];
           <font color = "green">                     ==></font>
2013                            ext_ip_sa_stb_nxt    = 1'b1;
2014                            rx_dec_state_nxt     = RX_DEC_IP9;
2015                         end
2016                      else
2017                         begin
2018                            rx_dec_state_nxt     = RX_DEC_IP8;
           <font color = "green">                     ==></font>
2019                         end
2020                   end
2021       
2022       
2023                RX_DEC_IP9 : // decode IP destination Address (first two bytes)
2024                   begin
2025                      in_other_hdr      = 1'b1;
2026                      if (new_aligned_data)
                          <font color = "green">-73-</font>  
2027                         begin
2028                            ext_ip_da_nxt[15:0]  = new_data_align[15:0];
           <font color = "green">                     ==></font>
2029                            rx_dec_state_nxt     = RX_DEC_IP10;
2030                         end
2031                      else
2032                         begin
2033                            rx_dec_state_nxt     = RX_DEC_IP9;
           <font color = "green">                     ==></font>
2034                         end
2035                   end
2036       
2037       
2038                RX_DEC_IP10 : // decode IP destination Address (second two bytes)
2039                   begin
2040                      in_other_hdr      = 1'b1;
2041                      // If no options fields then this is the last field in IP header.
2042                      // If IP header checksum is OK, go onto checking TCP/UDP checksum
2043                      if (last_ip_header & ~no_tcp_udp_ck)
                          <font color = "green">-74-</font>  
2044                         begin
2045                            ext_ip_da_nxt[31:16] = new_data_align[15:0];
           <font color = "green">                     ==></font>
2046                            ext_ip_da_stb_nxt    = 1'b1;
2047                            ip_check_nxt         = 1'b0;
2048                            rx_dec_state_nxt     = RX_DEC_CKSUM;
2049                            in_payload_nxt       = ~tcp_frame& ~udp_frame;
2050                         end
2051       
2052                      // Last field in IP header, but bad checksum or not checking
2053                      // TCP/UDP header checksum.
2054                      else if (last_ip_header)
                               <font color = "red">-75-</font>  
2055                         begin
2056                            ext_ip_da_nxt[31:16] = new_data_align[15:0];
           <font color = "red">                     ==></font>
2057                            ext_ip_da_stb_nxt    = 1'b1;
2058                            ip_check_nxt         = 1'b0;
2059                            tcp_udp_check_nxt    = 1'b0;
2060                            rx_dec_state_nxt     = RX_DEC_IDLE;
2061                            in_payload_nxt       = 1'b1;
2062                         end
2063       
2064                      // Option fields in IP header need to be processed.
2065                      else if (new_aligned_data)
                               <font color = "green">-76-</font>  
2066                         begin
2067                            ext_ip_da_nxt[31:16] = new_data_align[15:0];
           <font color = "green">                     ==></font>
2068                            ext_ip_da_stb_nxt    = 1'b1;
2069                            tcp_udp_check_nxt    = 1'b0;
2070                            rx_dec_state_nxt     = RX_DEC_IP11;
2071                         end
2072       
2073                      // wait for next pipeline data
2074                      else
2075                         begin
2076                            rx_dec_state_nxt     = RX_DEC_IP10;
           <font color = "green">                     ==></font>
2077                         end
2078                   end
2079       
2080       
2081                RX_DEC_IP11 : // Process IP header options fields
2082                   begin
2083                      in_other_hdr      = 1'b1;
2084                      // Last field in IP header and IP header checksum is OK,
2085                      // go onto checking TCP/UDP checksum
2086                      if (last_ip_header & ~no_tcp_udp_ck)
                          <font color = "red">-77-</font>  
2087                         begin
2088                            ip_check_nxt         = 1'b0;
           <font color = "red">                     ==></font>
2089                            tcp_udp_check_nxt    = rx_toe_enable;
2090                            rx_dec_state_nxt     = RX_DEC_CKSUM;
2091                            in_payload_nxt       = ~tcp_frame& ~udp_frame;
2092                         end
2093       
2094                      // Last field in IP header, but bad checksum or not checking
2095                      // TCP/UDP header checksum.
2096                      else if (last_ip_header)
                               <font color = "red">-78-</font>  
2097                         begin
2098                            ip_check_nxt         = 1'b0;
           <font color = "red">                     ==></font>
2099                            tcp_udp_check_nxt    = 1'b0;
2100                            rx_dec_state_nxt     = RX_DEC_IDLE;
2101                            in_payload_nxt       = 1'b1;
2102                         end
2103       
2104                      // wait for next pipeline data to be last in IP header
2105                      else
2106                         begin
2107                            rx_dec_state_nxt     = RX_DEC_IP11;
           <font color = "red">                     ==></font>
2108                         end
2109                   end
2110       
2111       
2112                RX_DEC_PTP1 : // decode MAC Source Address
2113                   begin
2114                      // NOTE: Stay in this state for rest of frame. At end of frame
2115                      //       decoding the synchronous part of FSM will reset back
2116                      //       to idle to process next frame.
2117                      //       This could be seen as a terminal state in LINT
2118                      rx_dec_state_nxt = RX_DEC_PTP1;
2119                      if (new_aligned_data)
                          <font color = "red">-79-</font>  
2120                         begin
2121                            ptp_primary_nxt  = 1'b0;
           <font color = "red">                     ==></font>
2122                            ptp_pdelay_nxt   = 1'b0;
2123                         end
                             MISSING_ELSE
           <font color = "red">                  ==></font>
2124                   end
2125       
2126       
2127                RX_DEC_CKSUM : // wait until all checksum data is processed and grab UDP Dest Addr.
2128                   begin
2129                      if (end_tcpudp_payload | udp_checksum_zero)
                          <font color = "red">-80-</font>  
2130                         begin
2131                            tcp_udp_check_nxt    = 1'b0;
           <font color = "red">                     ==></font>
2132                            rx_dec_state_nxt     = RX_DEC_IDLE;
2133                            state_count_rst      = 1'b1;
2134                         end
2135                      else if (new_aligned_data)
                               <font color = "green">-81-</font>  
2136                        begin
2137                         if (state_count == 11'h000)
                             <font color = "green">-82-</font>  
2138                           begin
2139                            ext_source_port_nxt  = {new_data_align[7:0],new_data_align[15:8]};
           <font color = "green">                     ==></font>
2140                            rx_dec_state_nxt     = RX_DEC_CKSUM;
2141                            state_count_inc      = 1'b1;
2142                            ext_sp_stb_nxt       = 1'b1;
2143                           end
2144                         else if (state_count == 11'h001)
                                  <font color = "green">-83-</font>  
2145                           begin
2146                            ext_dest_port_nxt    = {new_data_align[7:0],new_data_align[15:8]};
           <font color = "green">                     ==></font>
2147                            rx_dec_state_nxt     = RX_DEC_CKSUM;
2148                            state_count_inc      = 1'b1;
2149                            ext_dp_stb_nxt       = 1'b1;
2150                           end
2151                         else if (state_count == 11'h003 & udp_frame)
                                  <font color = "green">-84-</font>  
2152                           begin
2153                            last_tcpudp_header   = 1'b1;
           <font color = "green">                     ==></font>
2154                            in_payload_nxt       = 1'b1;
2155                            state_count_inc      = 1'b1;
2156                            rx_dec_state_nxt     = RX_DEC_CKSUM;
2157                          end
2158                         else if (state_count == 11'd002 & tcp_frame & p_edma_rsc == 1)
                                  <font color = "red">-85-</font>  
2159                           begin
2160                            tcp_seqnum_high_nxt = {new_data_align[7:0],new_data_align[15:8]};
           <font color = "red">                     ==></font>
2161                            state_count_inc      = 1'b1;
2162                            rx_dec_state_nxt     = RX_DEC_CKSUM;
2163                          end
2164                         else if (state_count == 11'd003 & tcp_frame & p_edma_rsc == 1)
                                  <font color = "red">-86-</font>  
2165                           begin
2166                            tcp_seqnum_low_nxt = {new_data_align[7:0],new_data_align[15:8]};
           <font color = "red">                     ==></font>
2167                            state_count_inc      = 1'b1;
2168                            rx_dec_state_nxt     = RX_DEC_CKSUM;
2169                          end
2170                         else if (state_count == 11'd006 & tcp_frame)
                                  <font color = "red">-87-</font>  
2171                           begin
2172                            tcp_offset_nxt       = new_data_align[7:4];
2173                            // Set rsc_stop if FIN/SYN/RST or URG flags are set
2174                            if (p_edma_rsc == 1)
                                <font color = "red">-88-</font>  
2175                            begin
2176                              rsc_stop_nxt       = new_data_align[13] |    // URG
           <font color = "red">                       ==></font>
2177                                                   (|new_data_align[10:8]); // RST/SYN/FIN;
2178                              rsc_push_nxt       = new_data_align[11]; // set with PSH flag
2179                              tcp_syn_nxt          = new_data_align[9];  // set with SYN flag
2180                            end
                                MISSING_ELSE
           <font color = "red">                     ==></font>
2181                            state_count_inc      = 1'b1;
2182                            rx_dec_state_nxt     = RX_DEC_CKSUM;
2183                          end
2184                         else if (state_count == ({6'd0,tcp_offset,1'b0} - 11'd1) & tcp_frame)
                                  <font color = "red">-89-</font>  
2185                           begin
2186                            last_tcpudp_header   = 1'b1;
           <font color = "red">                     ==></font>
2187                            in_payload_nxt       = 1'b1;
2188                            state_count_inc      = 1'b1;
2189                            rx_dec_state_nxt     = RX_DEC_CKSUM;
2190                          end
2191                         else
2192                           begin
2193                            state_count_inc      = 1'b1;
           <font color = "green">                     ==></font>
2194                            rx_dec_state_nxt     = RX_DEC_CKSUM;
2195                          end
2196                        end
2197                      else
2198                         rx_dec_state_nxt     = RX_DEC_CKSUM;
           <font color = "green">                  ==></font>
2199                   end
2200       
2201                RX_DEC_IPv6_1   : // Check IP version
2202                   begin
2203                      in_other_hdr      = 1'b1;
2204                      rx_dec_state_nxt  = RX_DEC_IPv6_1;
2205                      ext_ipv6_nxt      = 1'b1;
2206                      if (new_aligned_data)
                          <font color = "red">-90-</font>  
2207                         begin
2208                            ip_check_nxt      = 1'b0;  // No IP checksum for IPv6
2209                            case (state_count)
                                <font color = "red">-91-</font>  
2210                            11'h000 :
2211                               begin
2212                                  if (new_data_align[7:4] == IP_VERSION6)
                                      <font color = "red">-92-</font>  
2213                                     begin
2214                                        ip_v6_tc_nxt      = {new_data_align[3:0],new_data_align[15:12]};
           <font color = "red">                                 ==></font>
2215                                        state_count_inc   = 1'b1;
2216                                        ip_v6_frame_nxt   = 1'b1;
2217                                     end
2218                                  // invalid - wait for next frame
2219                                  else
2220                                     begin
2221                                        in_payload_nxt    = 1'b1;
           <font color = "red">                                 ==></font>
2222                                        state_count_rst   = 1'b1;
2223                                        rx_dec_state_nxt  = RX_DEC_IDLE;
2224                                     end
2225                               end
2226       
2227                            11'h001 :
2228                               begin
2229                                  state_count_inc   = 1'b1;
           <font color = "red">                           ==></font>
2230                               end
2231                            11'h002 :
2232                               begin
2233                                  state_count_inc   = 1'b1;
           <font color = "red">                           ==></font>
2234                                  ip_totlength_nxt  = {new_data_align[7:0],
2235                                                       new_data_align[15:8]};
2236                               end
2237       
2238                            11'h003 :
2239                               begin
2240                                  nxt_hdr_is_frag_nxt   =
2241                                                  (new_data_align[7:0] == IPV6_FRAG);
2242                                  nxt_hdr_is_route_nxt  =
2243                                                  (new_data_align[7:0] == IPV6_ROUTE);
2244                                  if ((new_data_align[7:0] == IPV6_HOP)   |
                                      <font color = "red">-93-</font>  
2245                                     (new_data_align[7:0] == IPV6_ROUTE) |
2246                                     (new_data_align[7:0] == IPV6_FRAG)  |
2247                                     (new_data_align[7:0] == IPV6_DEST))
2248                                     begin
2249                                        ipv6_ext_hdr_nxt  = 1'b1;
           <font color = "red">                                 ==></font>
2250                                        state_count_inc   = 1'b1;
2251                                        tcp_udp_check_nxt = rx_toe_enable;
2252                                     end
2253       
2254                                  else
2255                                     begin
2256                                        ipv6_ext_hdr_nxt  = 1'b0;
2257                                        if (new_data_align[7:0] == IP_TCP)
                                            <font color = "red">-94-</font>  
2258                                           begin
2259                                              state_count_inc   = 1'b1;
           <font color = "red">                                       ==></font>
2260                                              tcp_frame_nxt     = 1'b1;
2261                                              tcp_udp_check_nxt = rx_toe_enable;
2262                                           end
2263       
2264                                        else if (new_data_align[7:0] == IP_UDP)
                                                 <font color = "red">-95-</font>  
2265                                           begin
2266                                              state_count_inc   = 1'b1;
           <font color = "red">                                       ==></font>
2267                                              udp_frame_nxt     = 1'b1;
2268                                              tcp_udp_check_nxt = rx_toe_enable;
2269                                           end
2270       
2271                                        else
2272                                           begin
2273                                              state_count_inc   = 1'b1;
           <font color = "red">                                       ==></font>
2274       //                                       state_count_rst   = 1'b1;
2275       //                                       rx_dec_state_nxt  = RX_DEC_IDLE;
2276                                              tcp_udp_check_nxt = 1'b0;
2277                                           end
2278                                     end
2279       
2280                               end
2281       
2282                            // 128 bits Source Address
2283                            11'h004 :
2284                               begin
2285                                  ext_ip_sa_nxt[15:0] = new_data_align[15:0];
           <font color = "red">                           ==></font>
2286       //                           tcp_udp_check_nxt = rx_toe_enable;
2287                                  state_count_inc   = 1'b1;
2288                               end
2289       
2290                            11'h005 :
2291                               begin
2292                                  ext_ip_sa_nxt[31:16] = new_data_align[15:0];
           <font color = "red">                           ==></font>
2293       //                           tcp_udp_check_nxt = rx_toe_enable;
2294                                  state_count_inc   = 1'b1;
2295                               end
2296       
2297                            11'h006 :
2298                               begin
2299                                  ext_ip_sa_nxt[47:32] = new_data_align[15:0];
           <font color = "red">                           ==></font>
2300       //                           tcp_udp_check_nxt = rx_toe_enable;
2301                                  state_count_inc   = 1'b1;
2302                               end
2303       
2304                            11'h007 :
2305                               begin
2306                                  ext_ip_sa_nxt[63:48] = new_data_align[15:0];
           <font color = "red">                           ==></font>
2307       //                           tcp_udp_check_nxt = rx_toe_enable;
2308                                  state_count_inc   = 1'b1;
2309                               end
2310       
2311                            11'h008 :
2312                               begin
2313                                  ext_ip_sa_nxt[79:64] = new_data_align[15:0];
           <font color = "red">                           ==></font>
2314       //                           tcp_udp_check_nxt = rx_toe_enable;
2315                                  state_count_inc   = 1'b1;
2316                               end
2317       
2318                            11'h009 :
2319                               begin
2320                                  ext_ip_sa_nxt[95:80] = new_data_align[15:0];
           <font color = "red">                           ==></font>
2321       //                           tcp_udp_check_nxt = rx_toe_enable;
2322                                  state_count_inc   = 1'b1;
2323                               end
2324       
2325                            11'h00a :
2326                               begin
2327                                  ext_ip_sa_nxt[111:96] = new_data_align[15:0];
           <font color = "red">                           ==></font>
2328       //                           tcp_udp_check_nxt = rx_toe_enable;
2329                                  state_count_inc   = 1'b1;
2330                               end
2331       
2332                            11'h00b: // Last 16 bits of Source Add.  Need to store
2333                                     // checksum value here as we may need to recall
2334                                     // it later if there are routing options
2335                               begin
2336                                  ext_ip_sa_nxt[127:112] = new_data_align[15:0];
           <font color = "red">                           ==></font>
2337                                  ext_ip_sa_stb_nxt = 1'b1;
2338       //                           tcp_udp_check_nxt = rx_toe_enable;
2339       //                           store_tcp_csum_nxt = 1'b1;
2340                                  store_tcp_csum_nxt = tcp_udp_check;
2341                                  state_count_inc   = 1'b1;
2342                               end
2343       
2344                            // 128 bits Destination Address
2345                            11'h00c :
2346                               begin
2347                                  ext_ip_da_nxt[15:0] = new_data_align[15:0];
           <font color = "red">                           ==></font>
2348       //                           tcp_udp_check_nxt = rx_toe_enable;
2349                                  state_count_inc   = 1'b1;
2350                               end
2351       
2352                            11'h00d :
2353                               begin
2354                                  ext_ip_da_nxt[31:16] = new_data_align[15:0];
           <font color = "red">                           ==></font>
2355       //                           tcp_udp_check_nxt = rx_toe_enable;
2356                                  state_count_inc   = 1'b1;
2357                               end
2358       
2359                            11'h00e :
2360                               begin
2361                                  ext_ip_da_nxt[47:32] = new_data_align[15:0];
           <font color = "red">                           ==></font>
2362       //                           tcp_udp_check_nxt = rx_toe_enable;
2363                                  state_count_inc   = 1'b1;
2364                               end
2365       
2366                            11'h00f :
2367                               begin
2368                                  ext_ip_da_nxt[63:48] = new_data_align[15:0];
           <font color = "red">                           ==></font>
2369       //                           tcp_udp_check_nxt = rx_toe_enable;
2370                                  state_count_inc   = 1'b1;
2371                               end
2372       
2373                            11'h010 :
2374                               begin
2375                                  ext_ip_da_nxt[79:64] = new_data_align[15:0];
           <font color = "red">                           ==></font>
2376       //                           tcp_udp_check_nxt = rx_toe_enable;
2377                                  state_count_inc   = 1'b1;
2378                               end
2379       
2380                            11'h011 :
2381                               begin
2382                                  ext_ip_da_nxt[95:80] = new_data_align[15:0];
           <font color = "red">                           ==></font>
2383       //                           tcp_udp_check_nxt = rx_toe_enable;
2384                                  state_count_inc   = 1'b1;
2385                               end
2386       
2387                            11'h012 :
2388                               begin
2389                                  ext_ip_da_nxt[111:96] = new_data_align[15:0];
           <font color = "red">                           ==></font>
2390       //                           tcp_udp_check_nxt = rx_toe_enable;
2391                                  state_count_inc   = 1'b1;
2392                               end
2393       
2394                            default :
2395                               begin
2396                                  state_count_rst   = 1'b1;
2397                                  ext_ip_da_nxt[127:112] = new_data_align[15:0];
2398                                  ext_ip_da_stb_nxt = 1'b1;
2399                                  if (ipv6_ext_hdr)
                                      <font color = "red">-96-</font>  
2400                                     begin
2401                                        rx_dec_state_nxt  = RX_DEC_IPv6_2;
           <font color = "red">                                 ==></font>
2402                                        tcp_udp_check_nxt = 1'b0;
2403                                     end
2404                                  else if (tcp_frame | udp_frame)
                                           <font color = "red">-97-</font>  
2405                                     rx_dec_state_nxt  = RX_DEC_CKSUM;
           <font color = "red">                              ==></font>
2406                                  else
2407                                    begin
2408                                       in_payload_nxt    = 1'b1;
           <font color = "red">                                ==></font>
2409                                       rx_dec_state_nxt  = RX_DEC_IDLE;
2410                                    end
2411                               end
2412       
2413                            endcase
2414       
2415                         end
2416                      // wait for next pipeline data
2417                      else
2418                         begin
2419                            rx_dec_state_nxt  = RX_DEC_IPv6_1;
           <font color = "red">                     ==></font>
2420                         end
2421                   end
2422       
2423                RX_DEC_IPv6_2 :
2424                   begin
2425                      in_other_hdr      = 1'b1;
2426                      rx_dec_state_nxt  = RX_DEC_IPv6_2;
2427                      if (new_aligned_data)
                          <font color = "red">-98-</font>  
2428                         begin
2429                            ip_check_nxt      = 1'b0;  // No IP checksum for IPv6
2430                            if (state_count == 11'h000)
                                <font color = "red">-99-</font>  
2431                               begin
2432                                  nxt_hdr_is_frag_nxt   =
2433                                                   (new_data_align[7:0] == IPV6_FRAG);
2434                                  nxt_hdr_is_route_nxt  =
2435                                                  (new_data_align[7:0] == IPV6_ROUTE);
2436                                  if (cur_hdr_is_frag)
                                      <font color = "red">-100-</font>  
2437                                     begin
2438                                        ip_opt_length_nxt = 8'h00;
           <font color = "red">                                 ==></font>
2439                                        ip_totlength_nxt  = ip_totlength - 16'h0008;
2440                                        no_tcp_udp_ck_nxt = 1'b1;
2441                                     end
2442                                  else
2443                                     begin
2444                                        ip_totlength_nxt  = ip_totlength - 16'h0008 -
           <font color = "red">                                 ==></font>
2445                                                     {5'h00,new_data_align[15:8],3'h0};
2446                                        ip_opt_length_nxt = new_data_align[15:8];
2447                                     end
2448       
2449                                  if (cur_hdr_is_frag)
                                      <font color = "red">-101-</font>  
2450                                     begin
2451                                        rx_dec_state_nxt  = RX_DEC_IDLE;
           <font color = "red">                                 ==></font>
2452                                        state_count_rst   = 1'b1;
2453                                        in_payload_nxt    = 1'b1;
2454                                     end
2455       
2456                                  else if ((new_data_align[7:0] == IPV6_HOP)   |
                                           <font color = "red">-102-</font>  
2457                                      (new_data_align[7:0] == IPV6_ROUTE) |
2458                                      (new_data_align[7:0] == IPV6_DEST) |
2459                                      (new_data_align[7:0] == IPV6_FRAG))
2460                                     begin
2461                                        state_count_inc   = 1'b1;
           <font color = "red">                                 ==></font>
2462                                        ipv6_ext_hdr_nxt  = 1'b1;
2463                                     end
2464       
2465                                  else
2466                                     begin
2467                                        ipv6_ext_hdr_nxt  = 1'b0;
2468                                        if (new_data_align[7:0] == IP_TCP)
                                            <font color = "red">-103-</font>  
2469                                           begin
2470                                              state_count_inc   = 1'b1;
           <font color = "red">                                       ==></font>
2471                                              tcp_frame_nxt     = 1'b1;
2472                                           end
2473       
2474                                        else if (new_data_align[7:0] == IP_UDP)
                                                 <font color = "red">-104-</font>  
2475                                           begin
2476                                              state_count_inc   = 1'b1;
           <font color = "red">                                       ==></font>
2477                                              udp_frame_nxt     = 1'b1;
2478                                           end
2479       
2480                                        else
2481                                           begin
2482                                              state_count_inc   = 1'b1;
           <font color = "red">                                       ==></font>
2483                                           end
2484                                     end
2485                               end
2486       
2487                            // Restart checksum calculation on the last DEST address
2488                            else if (state_count == ({1'b0,ip_opt_length,2'b00} - 11'd5) &
                                     <font color = "red">-105-</font>  
2489                                     cur_hdr_is_route & segments_left)
2490                               begin
2491                                  tcp_udp_check_nxt = rx_toe_enable;
           <font color = "red">                           ==></font>
2492                                  state_count_inc   = 1'b1;
2493                               end
2494       
2495                            // Last cycle of this extension header
2496                            else if (state_count == ({1'b0,ip_opt_length,2'b00} + 11'd3))
                                     <font color = "red">-106-</font>  
2497                               begin
2498                                  state_count_rst   = 1'b1;
2499                                  if (ipv6_ext_hdr)
                                      <font color = "red">-107-</font>  
2500                                     begin
2501                                        tcp_udp_check_nxt = 1'b0;
           <font color = "red">                                 ==></font>
2502                                        rx_dec_state_nxt  = RX_DEC_IPv6_2;
2503                                     end
2504                                  else
2505                                     begin
2506                                        if (!(tcp_frame|udp_frame))
                                            <font color = "red">-108-</font>  
2507                                           begin
2508                                              rx_dec_state_nxt  = RX_DEC_IDLE;
           <font color = "red">                                       ==></font>
2509                                              tcp_udp_check_nxt = 1'b0;
2510                                              in_payload_nxt    = 1'b1;
2511                                           end
2512                                        else
2513                                           begin
2514                                              rx_dec_state_nxt  = RX_DEC_CKSUM;
           <font color = "red">                                       ==></font>
2515                                              tcp_udp_check_nxt = rx_toe_enable;
2516                                           end
2517                                     end
2518                               end
2519       
2520                            else
2521                               state_count_inc   = 1'b1;
           <font color = "red">                        ==></font>
2522       
2523                         end
2524                      // wait for next pipeline data
2525                      else
2526                         begin
2527                            rx_dec_state_nxt  = RX_DEC_IPv6_2;
           <font color = "red">                     ==></font>
2528                         end
2529                   end
2530       
2531       
2532       
2533                default      : // RX_DEC_IDLE
2534                   begin
2535                      // If new frame coming in goto RX_DEC_DA1, only if enabled
2536                      // by synchronous process of state machine.
2537                      if (start_of_data)
                          <font color = "green">-109-</font>  
2538                         begin
2539                            rx_dec_state_nxt     = RX_DEC_DA1;
           <font color = "green">                     ==></font>
2540                         end
2541                      else
2542                         begin
2543                            rx_dec_state_nxt     = RX_DEC_IDLE;
           <font color = "green">                     ==></font>
</pre>
<br clear=all>
<span class=repname>Branches:</span>
<br clear=all>
<table align=left class="noborder">
<tr>
<th nowrap width=80>Branch</th><th nowrap width=80>Status</th></tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_DA1 )->(2)->(51.-)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_DA1 )->(!2)->(51.-)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_DA2 )->(3)->(51.-)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_DA2 )->(!3)->(51.-)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_DA3 )->(4)->(51.-)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_DA3 )->(!4)->(51.-)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_SA1 )->(5)->(51.-)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_SA1 )->(!5)->(51.-)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_SA2 )->(6)->(51.-)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_SA2 )->(!6)->(51.-)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_SA3 )->(7)->(51.-)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_SA3 )->(!7)->(51.-)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_TYPE )->(8)->(51.-)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_TYPE )->(!8)->(9)->(10)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_TYPE )->(!8)->(9)->(!10)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_TYPE )->(!8)->(!9)->(11)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_TYPE )->(!8)->(!9)->(!11)->(12)->(51.-)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_TYPE )->(!8)->(!9)->(!11)->(!12)->(13)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_TYPE )->(!8)->(!9)->(!11)->(!12)->(!13)->(14)->(51.-)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_TYPE )->(!8)->(!9)->(!11)->(!12)->(!13)->(!14)->(15)->(16)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_TYPE )->(!8)->(!9)->(!11)->(!12)->(!13)->(!14)->(15)->(!16)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_TYPE )->(!8)->(!9)->(!11)->(!12)->(!13)->(!14)->(15)->(17)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_TYPE )->(!8)->(!9)->(!11)->(!12)->(!13)->(!14)->(15)->(!17)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_TYPE )->(!8)->(!9)->(!11)->(!12)->(!13)->(!14)->(!15)->(18)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_TYPE )->(!8)->(!9)->(!11)->(!12)->(!13)->(!14)->(!15)->(!18)->(19)->(20)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_TYPE )->(!8)->(!9)->(!11)->(!12)->(!13)->(!14)->(!15)->(!18)->(19)->(!20)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_TYPE )->(!8)->(!9)->(!11)->(!12)->(!13)->(!14)->(!15)->(!18)->(!19)->(21)->(51.-)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_TYPE )->(!8)->(!9)->(!11)->(!12)->(!13)->(!14)->(!15)->(!18)->(!19)->(!21)->(51.-)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.CB_TAG_RSVD )->(22)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.CB_TAG_RSVD )->(!22)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.CB_RTAG )->(23)->(24)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.CB_RTAG )->(23)->(!24)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.CB_RTAG )->(!23)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_VLAN1 )->(25)->(26)->(51.-)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_VLAN1 )->(25)->(!26)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_VLAN1 )->(!25)->(51.-)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_VLAN2 )->(27)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_VLAN2 )->(!27)->(28)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_VLAN2 )->(!27)->(!28)->(29)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_VLAN2 )->(!27)->(!28)->(!29)->(30)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_VLAN2 )->(!27)->(!28)->(!29)->(!30)->(31)->(51.-)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_VLAN2 )->(!27)->(!28)->(!29)->(!30)->(!31)->(32)->(33)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_VLAN2 )->(!27)->(!28)->(!29)->(!30)->(!31)->(32)->(!33)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_VLAN2 )->(!27)->(!28)->(!29)->(!30)->(!31)->(32)->(34)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_VLAN2 )->(!27)->(!28)->(!29)->(!30)->(!31)->(32)->(!34)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_VLAN2 )->(!27)->(!28)->(!29)->(!30)->(!31)->(!32)->(35)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_VLAN2 )->(!27)->(!28)->(!29)->(!30)->(!31)->(!32)->(!35)->(36)->(37)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_VLAN2 )->(!27)->(!28)->(!29)->(!30)->(!31)->(!32)->(!35)->(36)->(!37)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_VLAN2 )->(!27)->(!28)->(!29)->(!30)->(!31)->(!32)->(!35)->(!36)->(38)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_VLAN2 )->(!27)->(!28)->(!29)->(!30)->(!31)->(!32)->(!35)->(!36)->(!38)->(51.-)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.PPPoE1 )->(39)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.PPPoE1 )->(!39)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.PPPoE2 )->(40)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.PPPoE2 )->(!40)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.PPPoE3 )->(41)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.PPPoE3 )->(!41)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.PPPoE4 )->(42)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.PPPoE4 )->(!42)->(43)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.PPPoE4 )->(!42)->(!43)->(44)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.PPPoE4 )->(!42)->(!43)->(!44)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_PAUSE1 )->(45)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_PAUSE1 )->(!45)->(46)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_PAUSE1 )->(!45)->(!46)->(47)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_PAUSE1 )->(!45)->(!46)->(!47)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_PAUSE2 )->(48)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_PAUSE2 )->(!48)->(49)->(50)->(51.4'b0000 )->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_PAUSE2 )->(!48)->(49)->(50)->(51.4'b0001 )->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_PAUSE2 )->(!48)->(49)->(50)->(51.4'b0010 )->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_PAUSE2 )->(!48)->(49)->(50)->(51.4'b0011 )->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_PAUSE2 )->(!48)->(49)->(50)->(51.4'b0100 )->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_PAUSE2 )->(!48)->(49)->(50)->(51.4'b0101 )->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_PAUSE2 )->(!48)->(49)->(50)->(51.4'b0110 )->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_PAUSE2 )->(!48)->(49)->(50)->(51.4'b0111 )->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_PAUSE2 )->(!48)->(49)->(50)->(51.default)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_PAUSE2 )->(!48)->(49)->(!50)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_PAUSE2 )->(!48)->(!49)->(51.-)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_SNAP1 )->(51.-)->(52)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_SNAP1 )->(51.-)->(!52)->(53)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_SNAP1 )->(51.-)->(!52)->(!53)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_SNAP2 )->(51.-)->(54)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_SNAP2 )->(51.-)->(!54)->(55)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_SNAP2 )->(51.-)->(!54)->(!55)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_SNAP3 )->(51.-)->(56)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_SNAP3 )->(51.-)->(!56)->(57)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_SNAP3 )->(51.-)->(!56)->(!57)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_SNAP4 )->(51.-)->(58)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_SNAP4 )->(51.-)->(!58)->(59)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_SNAP4 )->(51.-)->(!58)->(!59)->(60)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_SNAP4 )->(51.-)->(!58)->(!59)->(!60)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_IP1 )->(51.-)->(61)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IP1 )->(51.-)->(!61)->(62)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_IP1 )->(51.-)->(!61)->(!62)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_IP2 )->(51.-)->(63)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_IP2 )->(51.-)->(!63)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_IP3 )->(51.-)->(64)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_IP3 )->(51.-)->(!64)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_IP4 )->(51.-)->(65)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IP4 )->(51.-)->(!65)->(66)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_IP4 )->(51.-)->(!65)->(!66)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IP5 )->(51.-)->(67)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_IP5 )->(51.-)->(!67)->(68)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IP5 )->(51.-)->(!67)->(!68)->(69)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_IP5 )->(51.-)->(!67)->(!68)->(!69)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_IP6 )->(51.-)->(70)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_IP6 )->(51.-)->(!70)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_IP7 )->(51.-)->(71)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_IP7 )->(51.-)->(!71)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_IP8 )->(51.-)->(72)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_IP8 )->(51.-)->(!72)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_IP9 )->(51.-)->(73)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_IP9 )->(51.-)->(!73)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_IP10 )->(51.-)->(74)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IP10 )->(51.-)->(!74)->(75)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_IP10 )->(51.-)->(!74)->(!75)->(76)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_IP10 )->(51.-)->(!74)->(!75)->(!76)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IP11 )->(51.-)->(77)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IP11 )->(51.-)->(!77)->(78)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IP11 )->(51.-)->(!77)->(!78)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_PTP1 )->(51.-)->(79)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_PTP1 )->(51.-)->(!79)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_CKSUM )->(51.-)->(80)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_CKSUM )->(51.-)->(!80)->(81)->(82)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_CKSUM )->(51.-)->(!80)->(81)->(!82)->(83)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_CKSUM )->(51.-)->(!80)->(81)->(!82)->(!83)->(84)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_CKSUM )->(51.-)->(!80)->(81)->(!82)->(!83)->(!84)->(85)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_CKSUM )->(51.-)->(!80)->(81)->(!82)->(!83)->(!84)->(!85)->(86)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_CKSUM )->(51.-)->(!80)->(81)->(!82)->(!83)->(!84)->(!85)->(!86)->(87)->(88)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_CKSUM )->(51.-)->(!80)->(81)->(!82)->(!83)->(!84)->(!85)->(!86)->(87)->(!88)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_CKSUM )->(51.-)->(!80)->(81)->(!82)->(!83)->(!84)->(!85)->(!86)->(!87)->(89)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_CKSUM )->(51.-)->(!80)->(81)->(!82)->(!83)->(!84)->(!85)->(!86)->(!87)->(!89)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.RX_DEC_CKSUM )->(51.-)->(!80)->(!81)->(91.-)</td>
<td>Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_1 )->(51.-)->(90)->(91.11'h000 )->(92)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_1 )->(51.-)->(90)->(91.11'h000 )->(!92)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_1 )->(51.-)->(90)->(91.11'h001 )</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_1 )->(51.-)->(90)->(91.11'h002 )</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_1 )->(51.-)->(90)->(91.11'h003 )->(93)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_1 )->(51.-)->(90)->(91.11'h003 )->(!93)->(94)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_1 )->(51.-)->(90)->(91.11'h003 )->(!93)->(!94)->(95)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_1 )->(51.-)->(90)->(91.11'h003 )->(!93)->(!94)->(!95)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_1 )->(51.-)->(90)->(91.11'h004 )</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_1 )->(51.-)->(90)->(91.11'h005 )</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_1 )->(51.-)->(90)->(91.11'h006 )</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_1 )->(51.-)->(90)->(91.11'h007 )</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_1 )->(51.-)->(90)->(91.11'h008 )</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_1 )->(51.-)->(90)->(91.11'h009 )</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_1 )->(51.-)->(90)->(91.11'h00a )</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_1 )->(51.-)->(90)->(91.11'h00b )</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_1 )->(51.-)->(90)->(91.11'h00c )</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_1 )->(51.-)->(90)->(91.11'h00d )</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_1 )->(51.-)->(90)->(91.11'h00e )</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_1 )->(51.-)->(90)->(91.11'h00f )</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_1 )->(51.-)->(90)->(91.11'h010 )</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_1 )->(51.-)->(90)->(91.11'h011 )</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_1 )->(51.-)->(90)->(91.11'h012 )</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_1 )->(51.-)->(90)->(91.default)->(96)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_1 )->(51.-)->(90)->(91.default)->(!96)->(97)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_1 )->(51.-)->(90)->(91.default)->(!96)->(!97)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_1 )->(51.-)->(!90)->(91.-)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_2 )->(51.-)->(91.-)->(98)->(99)->(100)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_2 )->(51.-)->(91.-)->(98)->(99)->(!100)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_2 )->(51.-)->(91.-)->(98)->(99)->(101)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_2 )->(51.-)->(91.-)->(98)->(99)->(!101)->(102)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_2 )->(51.-)->(91.-)->(98)->(99)->(!101)->(!102)->(103)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_2 )->(51.-)->(91.-)->(98)->(99)->(!101)->(!102)->(!103)->(104)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_2 )->(51.-)->(91.-)->(98)->(99)->(!101)->(!102)->(!103)->(!104)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_2 )->(51.-)->(91.-)->(98)->(!99)->(105)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_2 )->(51.-)->(91.-)->(98)->(!99)->(!105)->(106)->(107)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_2 )->(51.-)->(91.-)->(98)->(!99)->(!105)->(106)->(!107)->(108)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_2 )->(51.-)->(91.-)->(98)->(!99)->(!105)->(106)->(!107)->(!108)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_2 )->(51.-)->(91.-)->(98)->(!99)->(!105)->(!106)</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td nowrap>(1.RX_DEC_IPv6_2 )->(51.-)->(91.-)->(!98)</td>
<td>Not Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.default)->(51.-)->(91.-)->(109)</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td nowrap>(1.default)->(51.-)->(91.-)->(!109)</td>
<td>Covered</td>
</tr></table><br clear=all>
<pre class="code"><br clear=all>
2556             if (~n_rxreset)
                 <font color = "green">-1-</font>  
2557                segments_left  <= 1'b0;
           <font color = "green">         ==></font>
2558             else if (new_aligned_data & cur_hdr_is_route & state_count == 11'h001)
                      <font color = "red">-2-</font>  
2559                segments_left  <= (new_data_align[15:8] != 8'h00);
           <font color = "red">         ==></font>
                    MISSING_ELSE
           <font color = "green">         ==></font>
</pre>
<br clear=all>
<span class=repname>Branches:</span>
<br clear=all>
<table align=left class="noborder">
<tr>
<th nowrap width=80>-1-</th><th nowrap width=80>-2-</th><th nowrap width=80>Status</th></tr><tr class="uGreen">
<td align=center>1</td>
<td align=center nowrap>-</td>
<td>Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>1</td>
<td>Not Covered</td>
</tr><tr class="uGreen">
<td align=center>0</td>
<td align=center>0</td>
<td>Covered</td>
</tr></table><br clear=all>
<pre class="code"><br clear=all>
2568             if (~n_rxreset)
                 <font color = "green">-1-</font>  
2569               state_count <= 11'h000;
           <font color = "green">        ==></font>
2570             else if (state_count_inc & ~(&state_count))
                      <font color = "green">-2-</font>  
2571               state_count <= state_count + 11'h001;
           <font color = "green">        ==></font>
2572             else if (state_count_rst | ~enable_receive_rck | ~frame_being_decoded)
                      <font color = "green">-3-</font>  
2573               state_count <= 11'h000;
           <font color = "green">        ==></font>
                   MISSING_ELSE
           <font color = "green">        ==></font>
</pre>
<br clear=all>
<span class=repname>Branches:</span>
<br clear=all>
<table align=left class="noborder">
<tr>
<th nowrap width=80>-1-</th><th nowrap width=80>-2-</th><th nowrap width=80>-3-</th><th nowrap width=80>Status</th></tr><tr class="uGreen">
<td align=center>1</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td align=center>0</td>
<td align=center>1</td>
<td align=center nowrap>-</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>1</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td>Covered</td>
</tr></table><br clear=all>
<pre class="code"><br clear=all>
2587             if (~n_rxreset)
                 <font color = "green">-1-</font>  
2588               stored_tcp_csum <= 17'h00000;
           <font color = "green">        ==></font>
2589             else if (store_tcp_csum)
                      <font color = "red">-2-</font>  
2590               stored_tcp_csum <= {tcp_checksum_carry,tcp_checksum_val};
           <font color = "red">        ==></font>
                   MISSING_ELSE
           <font color = "green">        ==></font>
</pre>
<br clear=all>
<span class=repname>Branches:</span>
<br clear=all>
<table align=left class="noborder">
<tr>
<th nowrap width=80>-1-</th><th nowrap width=80>-2-</th><th nowrap width=80>Status</th></tr><tr class="uGreen">
<td align=center>1</td>
<td align=center nowrap>-</td>
<td>Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>1</td>
<td>Not Covered</td>
</tr><tr class="uGreen">
<td align=center>0</td>
<td align=center>0</td>
<td>Covered</td>
</tr></table><br clear=all>
<pre class="code"><br clear=all>
2601           if (~n_rxreset)
               <font color = "green">-1-</font>  
2602             ip_options_cnt <= 9'd0;
           <font color = "green">      ==></font>
2603           else if ((rx_dec_state_nxt == RX_DEC_IP11) & new_aligned_data)
                    <font color = "red">-2-</font>  
2604             ip_options_cnt <= ip_options_cnt_nxt;
           <font color = "red">      ==></font>
2605           else if (rx_dec_state_nxt == RX_DEC_IP11)
                    <font color = "red">-3-</font>  
2606             ip_options_cnt <= ip_options_cnt;
           <font color = "red">      ==></font>
2607           else if ((rx_dec_state_nxt == RX_DEC_IPv6_2) & new_aligned_data)
                    <font color = "red">-4-</font>  
2608             ip_options_cnt <= ip_options_cnt_nxt;
           <font color = "red">      ==></font>
2609           else if (rx_dec_state_nxt == RX_DEC_IPv6_2)
                    <font color = "red">-5-</font>  
2610             ip_options_cnt <= ip_options_cnt;
           <font color = "red">      ==></font>
2611           else
2612             ip_options_cnt <= 9'd0;
           <font color = "green">      ==></font>
</pre>
<br clear=all>
<span class=repname>Branches:</span>
<br clear=all>
<table align=left class="noborder">
<tr>
<th nowrap width=80>-1-</th><th nowrap width=80>-2-</th><th nowrap width=80>-3-</th><th nowrap width=80>-4-</th><th nowrap width=80>-5-</th><th nowrap width=80>Status</th></tr><tr class="uGreen">
<td align=center>1</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>1</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>1</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>1</td>
<td align=center nowrap>-</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>1</td>
<td>Not Covered</td>
</tr><tr class="uGreen">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td>Covered</td>
</tr></table><br clear=all>
<pre class="code"><br clear=all>
2639           if (~n_rxreset)
               <font color = "green">-1-</font>  
2640             begin
2641                ip_checksum_val   <= 16'h0000;
           <font color = "green">         ==></font>
2642                ip_checksum_carry <= 1'b0;
2643             end
2644           else if (~enable_receive_rck | ~rx_toe_enable | ~frame_being_decoded)
                    <font color = "red">-2-</font>  
2645             begin
2646                ip_checksum_val   <= 16'h0000;
           <font color = "green">         ==></font>
2647                ip_checksum_carry <= 1'b0;
2648             end
2649           else if (ip_check & new_aligned_data)
                    <font color = "red">-3-</font>  
2650             begin
2651                ip_checksum_val   <= ip_checksum_val_nxt[15:0];
           <font color = "red">         ==></font>
2652                ip_checksum_carry <= ip_checksum_val_nxt[16];
2653             end
2654           else
2655             begin
2656                ip_checksum_val   <= ip_checksum_val;
           <font color = "red">         ==></font>
</pre>
<br clear=all>
<span class=repname>Branches:</span>
<br clear=all>
<table align=left class="noborder">
<tr>
<th nowrap width=80>-1-</th><th nowrap width=80>-2-</th><th nowrap width=80>-3-</th><th nowrap width=80>Status</th></tr><tr class="uGreen">
<td align=center>1</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td align=center>0</td>
<td align=center>1</td>
<td align=center nowrap>-</td>
<td>Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>1</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td>Not Covered</td>
</tr></table><br clear=all>
<pre class="code"><br clear=all>
2680           if (~n_rxreset)
               <font color = "green">-1-</font>  
2681             ip_ck_err_det <= 1'b0;
           <font color = "green">      ==></font>
2682           else if (~enable_receive_rck | ~rx_toe_enable | ~frame_being_decoded)
                    <font color = "red">-2-</font>  
2683             ip_ck_err_det <= 1'b0;
           <font color = "green">      ==></font>
2684           else if (last_ip_header & ~ip_checksum_ok)
                    <font color = "red">-3-</font>  
2685             ip_ck_err_det <= 1'b1;
           <font color = "red">      ==></font>
2686           else
2687             ip_ck_err_det <= ip_ck_err_det;
           <font color = "red">      ==></font>
</pre>
<br clear=all>
<span class=repname>Branches:</span>
<br clear=all>
<table align=left class="noborder">
<tr>
<th nowrap width=80>-1-</th><th nowrap width=80>-2-</th><th nowrap width=80>-3-</th><th nowrap width=80>Status</th></tr><tr class="uGreen">
<td align=center>1</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td align=center>0</td>
<td align=center>1</td>
<td align=center nowrap>-</td>
<td>Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>1</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td>Not Covered</td>
</tr></table><br clear=all>
<pre class="code"><br clear=all>
2702           if (~n_rxreset)
               <font color = "green">-1-</font>  
2703             ip_length_cnt <= 16'h0000;
           <font color = "green">      ==></font>
2704           else if (~enable_receive_rck | ~frame_being_decoded)
                    <font color = "green">-2-</font>  
2705             ip_length_cnt <= 16'h0000;
           <font color = "green">      ==></font>
2706           else if (new_aligned_data & (ip_check | (rx_dec_state == RX_DEC_CKSUM)))
                    <font color = "green">-3-</font>  
2707             ip_length_cnt <= ip_length_cnt_nxt;
           <font color = "green">      ==></font>
2708           else
2709             ip_length_cnt <= ip_length_cnt;
           <font color = "green">      ==></font>
</pre>
<br clear=all>
<span class=repname>Branches:</span>
<br clear=all>
<table align=left class="noborder">
<tr>
<th nowrap width=80>-1-</th><th nowrap width=80>-2-</th><th nowrap width=80>-3-</th><th nowrap width=80>Status</th></tr><tr class="uGreen">
<td align=center>1</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td align=center>0</td>
<td align=center>1</td>
<td align=center nowrap>-</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>1</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td>Covered</td>
</tr></table><br clear=all>
<pre class="code"><br clear=all>
2757           if (~n_rxreset)
               <font color = "green">-1-</font>  
2758              begin
2759                 tcp_checksum_val   <= 16'h0000;
           <font color = "green">          ==></font>
2760                 tcp_checksum_carry <= 1'b0;
2761              end
2762       
2763           // Zero when disabled or not receiving a frame
2764           else if (~enable_receive_rck | ~rx_toe_enable | ~frame_being_decoded)
                    <font color = "red">-2-</font>  
2765              begin
2766                 tcp_checksum_val   <= 16'h0000;
           <font color = "green">          ==></font>
2767                 tcp_checksum_carry <= 1'b0;
2768              end
2769       
2770           // Initialise checksum value with tcp_checksum_init - IPv4 ONLY
2771           else if ((rx_dec_state == RX_DEC_IP6) & new_aligned_data)
                    <font color = "red">-3-</font>  
2772              begin
2773                 tcp_checksum_val   <= tcp_checksum_init[15:0];
           <font color = "red">          ==></font>
2774                 tcp_checksum_carry <= tcp_checksum_init[16];
2775              end
2776       
2777           // For IPv6 packets with a routing header, we need to reset
2778           // the checksum to the temp value stored in stored_tcp_csum.
2779           // this value contains the checksum value after the source
2780           // address only has been processed
2781           // Use state count of 2 as segments_left is only valid at this point
2782           else if (new_aligned_data & cur_hdr_is_route & segments_left &
                    <font color = "red">-4-</font>  
2783                    (state_count == 11'h002))
2784              begin
2785                 tcp_checksum_val   <= stored_tcp_csum[15:0];
           <font color = "red">          ==></font>
2786                 tcp_checksum_carry <= stored_tcp_csum[16];
2787              end
2788       
2789           // Initialise checksum value  - IPv6
2790           else if (new_aligned_data & (tcp_frame_nxt|udp_frame_nxt) &
                    <font color = "red">-5-</font>  
2791                   ((rx_dec_state == RX_DEC_IPv6_1 & state_count == 11'h003) |
2792                    (rx_dec_state == RX_DEC_IPv6_2 & state_count == 11'h003)))
2793              begin
2794                 // If there are no more extension headers and next hdr
2795                 // is the TCP/UDP, then we can add the payload length
2796                 // & next header values into the checksum here.
2797                 // Note that ip_totlength is updated in state cnt 0
2798                 // of RX_DEC_IPv6_2 state, so it is valid here in state 1
2799                 if (tcp_frame_nxt)
                     <font color = "red">-6-</font>  
2800                    {tcp_checksum_carry,tcp_checksum_val}   <= tcp_checksum_1[16:0];
           <font color = "red">             ==></font>
2801                 else
2802                    {tcp_checksum_carry,tcp_checksum_val}   <= tcp_checksum_2[16:0];
           <font color = "red">             ==></font>
2803              end
2804       
2805           // If data is part of checksum calculation (tcp_udp_check high),
2806           // then add to checksum value.
2807           else if (tcp_udp_check & new_aligned_data)
                    <font color = "red">-7-</font>  
2808              begin
2809                 tcp_checksum_val   <= tcp_checksum_val_nxt[15:0];
           <font color = "red">          ==></font>
2810                 tcp_checksum_carry <= tcp_checksum_val_nxt[16];
2811              end
2812       
2813           // Otherwise maintain value
2814           else
2815              begin
2816                 tcp_checksum_val   <= tcp_checksum_val;
           <font color = "red">          ==></font>
</pre>
<br clear=all>
<span class=repname>Branches:</span>
<br clear=all>
<table align=left class="noborder">
<tr>
<th nowrap width=80>-1-</th><th nowrap width=80>-2-</th><th nowrap width=80>-3-</th><th nowrap width=80>-4-</th><th nowrap width=80>-5-</th><th nowrap width=80>-6-</th><th nowrap width=80>-7-</th><th nowrap width=80>Status</th></tr><tr class="uGreen">
<td align=center>1</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td align=center>0</td>
<td align=center>1</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>1</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>1</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>1</td>
<td align=center>1</td>
<td align=center nowrap>-</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>1</td>
<td align=center>0</td>
<td align=center nowrap>-</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center nowrap>-</td>
<td align=center>1</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center nowrap>-</td>
<td align=center>0</td>
<td>Not Covered</td>
</tr></table><br clear=all>
<pre class="code"><br clear=all>
2827            if (ip_totlength[0] & end_tcpudp_payload)
                <font color = "red">-1-</font>  
2828               tcp_checksum_val_nxt = {1'b0, tcp_checksum_val[15:0]} +
           <font color = "red">        ==></font>
2829                                      {16'd0, tcp_checksum_carry} +
2830                                      {1'b0, new_data_align[7:0], 8'h00};
2831       
2832            // Otherwise always add previous value plus the previous carry plus
2833            // the new data value ordered as [earliest byte, latest byte]
2834            else
2835               tcp_checksum_val_nxt = {1'b0, tcp_checksum_val[15:0]} +
           <font color = "green">        ==></font>
</pre>
<br clear=all>
<span class=repname>Branches:</span>
<br clear=all>
<table align=left class="noborder">
<tr>
<th nowrap width=80>-1-</th><th nowrap width=80>Status</th></tr><tr class="uRed">
<td align=center>1</td>
<td>Not Covered</td>
</tr><tr class="uGreen">
<td align=center>0</td>
<td>Covered</td>
</tr></table><br clear=all>
<pre class="code"><br clear=all>
2852            if (udp_frame)
                <font color = "green">-1-</font>  
2853              begin
2854                 tcp_checksum_init = {1'b0, ip_totlength[15:0]} -
           <font color = "green">          ==></font>
2855                                     {7'd0, ip_opt_length,2'b00} -
2856                                     17'h00003;
2857              end
2858            else
2859              begin
2860                 tcp_checksum_init = {1'b0, ip_totlength[15:0]} -
           <font color = "green">          ==></font>
</pre>
<br clear=all>
<span class=repname>Branches:</span>
<br clear=all>
<table align=left class="noborder">
<tr>
<th nowrap width=80>-1-</th><th nowrap width=80>Status</th></tr><tr class="uGreen">
<td align=center>1</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td align=center>0</td>
<td>Covered</td>
</tr></table><br clear=all>
<pre class="code"><br clear=all>
2885           if (~n_rxreset)
               <font color = "green">-1-</font>  
2886             begin
2887                zero_udp_csum_ipv6 <= 1'b0;
           <font color = "green">         ==></font>
2888             end
2889           else if (~enable_receive_rck | ~rx_toe_enable | ~frame_being_decoded)
                    <font color = "red">-2-</font>  
2890             begin
2891                zero_udp_csum_ipv6 <= 1'b0;
           <font color = "green">         ==></font>
2892             end
2893           else if (udp_checksum_zero_ipv6)
                    <font color = "red">-3-</font>  
2894             begin
2895                zero_udp_csum_ipv6 <= 1'b1;
           <font color = "red">         ==></font>
2896             end
2897           else
2898             begin
2899                zero_udp_csum_ipv6 <= zero_udp_csum_ipv6;
           <font color = "red">         ==></font>
</pre>
<br clear=all>
<span class=repname>Branches:</span>
<br clear=all>
<table align=left class="noborder">
<tr>
<th nowrap width=80>-1-</th><th nowrap width=80>-2-</th><th nowrap width=80>-3-</th><th nowrap width=80>Status</th></tr><tr class="uGreen">
<td align=center>1</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td align=center>0</td>
<td align=center>1</td>
<td align=center nowrap>-</td>
<td>Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>1</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td>Not Covered</td>
</tr></table><br clear=all>
<pre class="code"><br clear=all>
2906           if (~n_rxreset)
               <font color = "green">-1-</font>  
2907             tcp_udp_ck_err_det <= 1'b0;
           <font color = "green">      ==></font>
2908           else if (~enable_receive_rck | ~rx_toe_enable | ~frame_being_decoded)
                    <font color = "red">-2-</font>  
2909             tcp_udp_ck_err_det <= 1'b0;
           <font color = "green">      ==></font>
2910           else if (end_tcpudp_payload & (~tcp_udp_checksum_ok | zero_udp_csum_ipv6))
                    <font color = "red">-3-</font>  
2911             tcp_udp_ck_err_det <= 1'b1;
           <font color = "red">      ==></font>
2912           else
2913             tcp_udp_ck_err_det <= tcp_udp_ck_err_det;
           <font color = "red">      ==></font>
</pre>
<br clear=all>
<span class=repname>Branches:</span>
<br clear=all>
<table align=left class="noborder">
<tr>
<th nowrap width=80>-1-</th><th nowrap width=80>-2-</th><th nowrap width=80>-3-</th><th nowrap width=80>Status</th></tr><tr class="uGreen">
<td align=center>1</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td align=center>0</td>
<td align=center>1</td>
<td align=center nowrap>-</td>
<td>Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>1</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td>Not Covered</td>
</tr></table><br clear=all>
<pre class="code"><br clear=all>
2932           if (~n_rxreset)
               <font color = "green">-1-</font>  
2933             begin
2934                sof_rx <= 1'b0;
           <font color = "green">         ==></font>
2935                sof_rx_tog <= 1'b0;
2936             end
2937           else if (~enable_receive_rck | ~frame_being_decoded)
                    <font color = "green">-2-</font>  
2938             begin
2939                sof_rx <= 1'b0;
           <font color = "green">         ==></font>
2940                sof_rx_tog <= sof_rx_tog;
2941             end
2942           else if (start_of_data)
                    <font color = "green">-3-</font>  
2943             begin
2944                sof_rx <= 1'b1;
           <font color = "green">         ==></font>
2945                sof_rx_tog <= ~sof_rx_tog;
2946             end
                 MISSING_ELSE
           <font color = "green">      ==></font>
</pre>
<br clear=all>
<span class=repname>Branches:</span>
<br clear=all>
<table align=left class="noborder">
<tr>
<th nowrap width=80>-1-</th><th nowrap width=80>-2-</th><th nowrap width=80>-3-</th><th nowrap width=80>Status</th></tr><tr class="uGreen">
<td align=center>1</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td align=center>0</td>
<td align=center>1</td>
<td align=center nowrap>-</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>1</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td>Covered</td>
</tr></table><br clear=all>
<pre class="code"><br clear=all>
2961           if (~n_rxreset)
               <font color = "green">-1-</font>  
2962             begin
2963                en_ptp_count    <= 1'b0;
           <font color = "green">         ==></font>
2964                ptp_primary_set <= 1'b0;
2965                ptp_pdelay_set  <= 1'b0;
2966             end
2967           // stop at end of frame or if destination port is not 013F or 0140
2968           else if (~enable_receive_rck | ~frame_being_decoded |
                    <font color = "green">-2-</font>  
2969                                   (new_aligned_data & (ptp_count == 5'b00010) &
2970                                       ~udp_event_frame & ~udp_gener_frame))
2971             begin
2972                en_ptp_count    <= 1'b0;
           <font color = "green">         ==></font>
2973                ptp_primary_set <= 1'b0;
2974                ptp_pdelay_set  <= 1'b0;
2975             end
2976           // IPv4 unicast, start if UDP frame with correct unicast IP address
2977           else if (ptp_unicast_ena & ext_ip_da_stb_nxt & udp_frame & ip_v4_frame &
                    <font color = "red">-3-</font>  
2978                   (ext_ip_da_nxt[31:0] == unicast_address))
2979             begin
2980                en_ptp_count    <= 1'b1;
           <font color = "red">         ==></font>
2981                ptp_primary_set <= 1'b1;
2982                ptp_pdelay_set  <= 1'b1;
2983             end
2984           // IPv4 primary, start if UDP frame with correct multicast IP address
2985           else if (ext_ip_da_stb_nxt & udp_frame & ip_v4_frame &
                    <font color = "red">-4-</font>  
2986              (ext_ip_da_nxt[23:0] == 24'h0100e0) & (ext_ip_da_nxt[31:27] == 5'h10))
2987             begin
2988                en_ptp_count    <= ip_lsb_ptp_dec;
           <font color = "red">         ==></font>
2989                ptp_primary_set <= ip_lsb_ptp_dec;
2990             end
2991           // IPv4 peer, start if UDP frame with correct multicast IP address
2992           else if (ext_ip_da_stb_nxt & udp_frame & ip_v4_frame &
                    <font color = "red">-5-</font>  
2993                   (ext_ip_da_nxt[31:0] == 32'h6b0000e0))
2994             begin
2995                en_ptp_count    <= 1'b1;
           <font color = "red">         ==></font>
2996                ptp_pdelay_set  <= 1'b1;
2997             end
2998           // IPv6 primary, start if UDP frame with correct multicast IP address
2999           else if (ext_ip_da_stb_nxt & udp_frame & ip_v6_frame &
                    <font color = "red">-6-</font>  
3000                   ((ext_ip_da_nxt[127:12] == 116'h81010000000000000000000000000) &
3001                    (ext_ip_da_nxt[7:0] == 8'hff)))
3002             begin
3003                en_ptp_count    <= 1'b1;
           <font color = "red">         ==></font>
3004                ptp_primary_set <= 1'b1;
3005             end
3006           // IPv6 peer, start if UDP frame with correct multicast IP address
3007           else if (ext_ip_da_stb_nxt & udp_frame & ip_v6_frame &
                    <font color = "red">-7-</font>  
3008                   (ext_ip_da_nxt[127:0] == 128'h6b0000000000000000000000000002ff))
3009             begin
3010                en_ptp_count    <= 1'b1;
           <font color = "red">         ==></font>
3011                ptp_pdelay_set  <= 1'b1;
3012             end
                 MISSING_ELSE
           <font color = "green">      ==></font>
</pre>
<br clear=all>
<span class=repname>Branches:</span>
<br clear=all>
<table align=left class="noborder">
<tr>
<th nowrap width=80>-1-</th><th nowrap width=80>-2-</th><th nowrap width=80>-3-</th><th nowrap width=80>-4-</th><th nowrap width=80>-5-</th><th nowrap width=80>-6-</th><th nowrap width=80>-7-</th><th nowrap width=80>Status</th></tr><tr class="uGreen">
<td align=center>1</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td align=center>0</td>
<td align=center>1</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>1</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>1</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>1</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>1</td>
<td align=center nowrap>-</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>1</td>
<td>Not Covered</td>
</tr><tr class="uGreen">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td>Covered</td>
</tr></table><br clear=all>
<pre class="code"><br clear=all>
3018           if (~n_rxreset)
               <font color = "green">-1-</font>  
3019             ptp_count <= 5'b00000;
           <font color = "green">      ==></font>
3020           else if (~enable_receive_rck | ~frame_being_decoded)
                    <font color = "green">-2-</font>  
3021             ptp_count <= 5'b00000;
           <font color = "green">      ==></font>
3022           else if (en_ptp_count & new_aligned_data & (ptp_count != 5'b11111))
                    <font color = "red">-3-</font>  
3023             ptp_count <= ptp_count + 5'b00001;
           <font color = "red">      ==></font>
                 MISSING_ELSE
           <font color = "green">      ==></font>
</pre>
<br clear=all>
<span class=repname>Branches:</span>
<br clear=all>
<table align=left class="noborder">
<tr>
<th nowrap width=80>-1-</th><th nowrap width=80>-2-</th><th nowrap width=80>-3-</th><th nowrap width=80>Status</th></tr><tr class="uGreen">
<td align=center>1</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td align=center>0</td>
<td align=center>1</td>
<td align=center nowrap>-</td>
<td>Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>1</td>
<td>Not Covered</td>
</tr><tr class="uGreen">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td>Covered</td>
</tr></table><br clear=all>
<pre class="code"><br clear=all>
3038           if (~n_rxreset)
               <font color = "green">-1-</font>  
3039              begin
3040                 sync_frame_rx    <= 1'b0;
           <font color = "green">          ==></font>
3041                 delay_req_rx     <= 1'b0;
3042                 pdelay_req_rx    <= 1'b0;
3043                 pdelay_resp_rx   <= 1'b0;
3044                 ptp_v1           <= 1'b0;
3045                 general_frame_rx <= 1'b0;
3046                 udp_event_frame  <= 1'b0;
3047                 udp_gener_frame  <= 1'b0;
3048              end
3049           else if (~enable_receive_rck | ~frame_being_decoded)
                    <font color = "green">-2-</font>  
3050              begin
3051                 sync_frame_rx    <= 1'b0;
           <font color = "green">          ==></font>
3052                 delay_req_rx     <= 1'b0;
3053                 pdelay_req_rx    <= 1'b0;
3054                 pdelay_resp_rx   <= 1'b0;
3055                 ptp_v1           <= 1'b0;
3056                 general_frame_rx <= 1'b0;
3057                 udp_event_frame  <= 1'b0;
3058                 udp_gener_frame  <= 1'b0;
3059               end
3060           // non-encapsulated PTP-frame
3061           else if (new_aligned_data & ptp_frame & ptp_primary_load)
                    <font color = "red">-3-</font>  
3062              begin
3063                 sync_frame_rx    <= (new_data_align[3:0] == 4'h0);
           <font color = "red">          ==></font>
3064                 delay_req_rx     <= (new_data_align[3:0] == 4'h1);
3065                 general_frame_rx <= dat_8tod;
3066              end
3067           else if (new_aligned_data & ptp_frame & ptp_pdelay_load)
                    <font color = "red">-4-</font>  
3068              begin
3069                 sync_frame_rx    <= (new_data_align[3:0] == 4'h0);
           <font color = "red">          ==></font>
3070                 pdelay_req_rx    <= (new_data_align[3:0] == 4'h2);
3071                 pdelay_resp_rx   <= (new_data_align[3:0] == 4'h3);
3072                 general_frame_rx <= (new_data_align[3:0] == 4'ha); // Peer general message
3073              end
3074           // look at udp destination port to see if we have a PTP event frame
3075           // or PTP general frame
3076           else if (new_aligned_data & (ptp_count == 5'b00001))
                    <font color = "red">-5-</font>  
3077              begin
3078                 udp_event_frame <= (new_data_align[15:0] == 16'h3F01);
           <font color = "red">          ==></font>
3079                 udp_gener_frame <= (new_data_align[15:0] == 16'h4001);
3080              end
3081           // PTP version 2 encapsulated in IPv4
3082           // Note that Peer general Messages (i.e. Pdelay_Resp_Follow_Up) is decoded
3083           // at a different multicast address from other General Messages
3084           // depending on encapsulation.
3085           // See IEEE 1588D2.2 Appendix D/E/F
3086           else if (new_aligned_data & ip_v4_frame & (ptp_count == 5'b00100))
                    <font color = "red">-6-</font>  
3087              begin
3088                 // unicast
3089                 if (ptp_unicast_ena & ptp_primary_set & ptp_pdelay_set &
                     <font color = "red">-7-</font>  
3090               //     (new_data_align[15:8] == 8'h02))
3091                    (new_data_align[11:8] == 4'h2))
3092                    begin
3093                       sync_frame_rx    <= (new_data_align[3:0] == 4'h0) & udp_event_frame;
           <font color = "red">                ==></font>
3094                       delay_req_rx     <= (new_data_align[3:0] == 4'h1) & udp_event_frame;
3095                       pdelay_req_rx    <= (new_data_align[3:0] == 4'h2) & udp_event_frame;
3096                       pdelay_resp_rx   <= (new_data_align[3:0] == 4'h3) & udp_event_frame;
3097                       general_frame_rx <= dat_8tod & udp_gener_frame;
3098                    end
3099       //          else if (ptp_primary_set & (ext_ip_da[31:24] == 8'h81) & (new_data_align[15:8] == 8'h02))
3100                 else if (ptp_primary_set & (ext_ip_da[31:24] == 8'h81) & (new_data_align[11:8] == 4'h2))
                          <font color = "red">-8-</font>  
3101                    begin
3102                       sync_frame_rx    <= (new_data_align[3:0] == 4'h0) & udp_event_frame;
           <font color = "red">                ==></font>
3103                       delay_req_rx     <= (new_data_align[3:0] == 4'h1) & udp_event_frame;
3104                       general_frame_rx <= dat_8tod & udp_gener_frame;
3105                    end
3106           //      else if (ptp_primary_set & (ip_lsb_ptp_dec) & (new_data_align[15:8] == 8'h01))
3107                 else if (ptp_primary_set & (ip_lsb_ptp_dec) & (new_data_align[11:8] == 4'h1))
                          <font color = "red">-9-</font>  
3108                    begin
3109                       ptp_v1           <= 1'b1;
           <font color = "red">                ==></font>
3110                    end
3111                 else if (ptp_pdelay_set)
                          <font color = "red">-10-</font>  
3112                    begin
3113                       pdelay_req_rx    <= (new_data_align[3:0] == 4'h2) & udp_event_frame;
           <font color = "red">                ==></font>
3114                       pdelay_resp_rx   <= (new_data_align[3:0] == 4'h3) & udp_event_frame;
3115                       general_frame_rx <= (new_data_align[3:0] == 4'ha) & udp_gener_frame; // Peer general message
3116                    end
                        MISSING_ELSE
           <font color = "red">             ==></font>
3117               end
3118           // PTP version 2 encapsulated in IPv6
3119           else if (new_aligned_data & ip_v6_frame & (ptp_count == 5'b00100))
                    <font color = "red">-11-</font>  
3120              begin
3121                 if (ptp_primary_set)
                     <font color = "red">-12-</font>  
3122                    begin
3123                       sync_frame_rx    <= (new_data_align[3:0] == 4'h0) & udp_event_frame;
           <font color = "red">                ==></font>
3124                       delay_req_rx     <= (new_data_align[3:0] == 4'h1) & udp_event_frame;
3125                       general_frame_rx <= dat_8tod & udp_gener_frame;
3126                    end
3127                 else // if (ptp_pdelay_set) // This must be true, otherwise ptp_count wouldnt be incrementing ...
3128                    begin
3129                       pdelay_req_rx    <= (new_data_align[3:0] == 4'h2) & udp_event_frame;
           <font color = "red">                ==></font>
3130                       pdelay_resp_rx   <= (new_data_align[3:0] == 4'h3) & udp_event_frame;
3131                       general_frame_rx <= (new_data_align[3:0] == 4'ha) & udp_gener_frame; // Peer general message
3132                    end
3133              end
3134           // PTP version 1 encapsulated in IPv4
3135           else if (new_aligned_data & ip_v4_frame & (ptp_count == 5'b10100))
                    <font color = "red">-13-</font>  
3136              begin
3137                 if (ptp_primary_set & ptp_v1)
                     <font color = "red">-14-</font>  
3138                    begin
3139                       sync_frame_rx    <= (new_data_align[3:0] == 4'h0) & udp_event_frame;
           <font color = "red">                ==></font>
3140                       delay_req_rx     <= (new_data_align[3:0] == 4'h1) & udp_event_frame;
3141                       general_frame_rx <= ((new_data_align[3:0] == 4'h2)
3142                                           |(new_data_align[3:0] == 4'h3)
3143                                           |(new_data_align[3:0] == 4'h4)) & udp_gener_frame;
3144                    end
                        MISSING_ELSE
           <font color = "red">             ==></font>
3145               end
                   MISSING_ELSE
           <font color = "green">        ==></font>
</pre>
<br clear=all>
<span class=repname>Branches:</span>
<br clear=all>
<table align=left class="noborder">
<tr>
<th nowrap width=80>-1-</th><th nowrap width=80>-2-</th><th nowrap width=80>-3-</th><th nowrap width=80>-4-</th><th nowrap width=80>-5-</th><th nowrap width=80>-6-</th><th nowrap width=80>-7-</th><th nowrap width=80>-8-</th><th nowrap width=80>-9-</th><th nowrap width=80>-10-</th><th nowrap width=80>-11-</th><th nowrap width=80>-12-</th><th nowrap width=80>-13-</th><th nowrap width=80>-14-</th><th nowrap width=80>Status</th></tr><tr class="uGreen">
<td align=center>1</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Covered</td>
</tr><tr class="uGreen">
<td align=center>0</td>
<td align=center>1</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>1</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>1</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>1</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>1</td>
<td align=center>1</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>1</td>
<td align=center>0</td>
<td align=center>1</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>1</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>1</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>1</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>1</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>1</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center>1</td>
<td align=center>1</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center>1</td>
<td align=center>0</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center>0</td>
<td align=center nowrap>-</td>
<td align=center>1</td>
<td align=center>1</td>
<td>Not Covered</td>
</tr><tr class="uRed">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center>0</td>
<td align=center nowrap>-</td>
<td align=center>1</td>
<td align=center>0</td>
<td>Not Covered</td>
</tr><tr class="uGreen">
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center>0</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center nowrap>-</td>
<td align=center>0</td>
<td align=center nowrap>-</td>
<td align=center>0</td>
<td align=center nowrap>-</td>
<td>Covered</td>
</tr></table><br clear=all>
</div>
</div>
<div class="ui-layout-center-inner-north">
<div id="center-bread-crumb" class="breadCrumb module urg-margin-bottom">
  <ul name="tag_gem_rx_decode">
    <li>
      <a href="#Line">Line</a>    </li>
    <li>
      <a href="#Cond">Cond</a>    </li>
    <li>
      <a href="#Toggle">Toggle</a>    </li>
    <li>
      <a href="#FSM">FSM</a>    </li>
    <li>
      <a href="#Branch">Branch</a>    </li>
  </ul>
</div>
</div>
</div>
<div class="ui-layout-south">
<table align=center><tr><td class="s0 cl">0%</td>
<td class="s1 cl">10%</td>
<td class="s2 cl">20%</td>
<td class="s3 cl">30%</td>
<td class="s4 cl">40%</td>
<td class="s5 cl">50%</td>
<td class="s6 cl">60%</td>
<td class="s7 cl">70%</td>
<td class="s8 cl">80%</td>
<td class="s9 cl">90%</td>
<td class="s10 cl">100%</td></tr></table></div>
</body>
</html>
